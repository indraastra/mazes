!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=e.parcelRequireb3f9;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequireb3f9=i),i.register("ds8z5",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}})),i.register("gD1JV",(function(t,e){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){return n(t,e)}})),i.register("2mz0K",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r.default(t)););return t};var n,r=(n=i("fVNic"))&&n.__esModule?n:{default:n}})),i.register("fVNic",(function(t,e){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){return n(t)}})),i.register("8slrw",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return t}})),i.register("7AJDX",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}})),i.register("ifqQW",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("auk6i",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){if(!t)return;if("string"==typeof t)return r.default(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(t,e)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}})),i.register("8NIkP",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}})),i.register("kMC0W",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return r.default(t)};var n,r=(n=i("8NIkP"))&&n.__esModule?n:{default:n}})),i.register("8CtQK",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("aTHs7",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}})),i.register("jmhxu",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){return!e||"object"!==r.default(e)&&"function"!=typeof e?n.default(t):e};var n=o(i("ds8z5")),r=o(i("l5bVx"));function o(t){return t&&t.__esModule?t:{default:t}}})),i.register("l5bVx",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){return t&&t.constructor===Symbol?"symbol":typeof t}}));var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function h(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof d?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=u(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}Object.create;function f(t){return"function"==typeof t}function m(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var b=m((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function _(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var g=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=u(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(f(l))try{l()}catch(t){i=t instanceof b?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=u(d),v=h.next();!v.done;v=h.next()){var m=v.value;try{x(m)}catch(t){i=null!=i?i:[],t instanceof b?i=p(p([],c(i)),c(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(i)throw new b(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)x(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&_(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&_(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),w=g.EMPTY;function y(t){return t instanceof g||t&&"closed"in t&&f(t.remove)&&f(t.add)&&f(t.unsubscribe)}function x(t){f(t)?t():t.unsubscribe()}var k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=C.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,p([t,e],c(n))):setTimeout.apply(void 0,p([t,e],c(n)))},clearTimeout:function(t){var e=C.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function P(t){C.setTimeout((function(){var e=k.onUnhandledError;if(!e)throw t;e(t)}))}function E(){}var V=M("C",void 0,void 0);function S(t){return M("N",t,void 0)}function M(t,e,n){return{kind:t,value:e,error:n}}var L=null;function A(t){if(k.useDeprecatedSynchronousErrorHandling){var e=!L;if(e&&(L={errorThrown:!1,error:null}),t(),e){var n=L,r=n.errorThrown,i=n.error;if(L=null,r)throw i}}else t()}var O=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,y(e)&&e.add(n)):n.destination=K,n}return a(e,t),e.create=function(t,e,n){return new R(t,e,n)},e.prototype.next=function(t){this.isStopped?U(S(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?U(M("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?U(V,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(g),j=Function.prototype.bind;function D(t,e){return j.call(t,e)}var I=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){T(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){T(t)}else T(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){T(t)}},t}(),R=function(t){function e(e,n,r){var i,o,a=t.call(this)||this;f(e)||!e?i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&k.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},i={next:e.next&&D(e.next,o),error:e.error&&D(e.error,o),complete:e.complete&&D(e.complete,o)}):i=e;return a.destination=new I(i),a}return a(e,t),e}(O);function T(t){var e;k.useDeprecatedSynchronousErrorHandling?(e=t,k.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=e)):P(t)}function U(t,e){var n=k.onStoppedNotification;n&&C.setTimeout((function(){return n(t,e)}))}var K={closed:!0,next:E,error:function(t){throw t},complete:E},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(t){return t}function F(t){return 0===t.length?B:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var z=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,o=(r=t)&&r instanceof O||function(t){return t&&f(t.next)&&f(t.error)&&f(t.complete)}(r)&&y(r)?t:new R(t,e,n);return A((function(){var t=i,e=t.operator,n=t.source;o.add(e?e.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=H(e))((function(e,r){var i=new R({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[N]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=H(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function H(t){var e;return null!==(e=null!=t?t:k.Promise)&&void 0!==e?e:Promise}var q=m((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),G=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return a(e,t),e.prototype.lift=function(t){var e=new Y(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new q},e.prototype.next=function(t){var e=this;A((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=u(e.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;A((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;A((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?w:(this.currentObservers=null,o.push(t),new g((function(){e.currentObservers=null,_(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,i=e.isStopped;n?t.error(r):i&&t.complete()},e.prototype.asObservable=function(){var t=new z;return t.source=this,t},e.create=function(t,e){return new Y(t,e)},e}(z),Y=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return a(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:w},e}(G);function W(t){return t&&f(t.schedule)}function $(t){return t[t.length-1]}function X(t){return W($(t))?t.pop():void 0}var J=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return f(null==t?void 0:t.then)}function Z(t){return f(t[N])}function tt(t){return Symbol.asyncIterator&&f(null==t?void 0:t[Symbol.asyncIterator])}function et(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var nt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rt(t){return f(null==t?void 0:t[nt])}function it(t){return h(this,arguments,(function(){var e,n,r;return l(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,d(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,d(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,d(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function ot(t){return f(null==t?void 0:t.getReader)}function at(t){if(t instanceof z)return t;if(null!=t){if(Z(t))return i=t,new z((function(t){var e=i[N]();if(f(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(J(t))return r=t,new z((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(Q(t))return n=t,new z((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,P)}));if(tt(t))return st(t);if(rt(t))return e=t,new z((function(t){var n,r;try{for(var i=u(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}));if(ot(t))return st(it(t))}var e,n,r,i;throw et(t)}function st(t){return new z((function(e){(function(t,e){var n,r,i,o;return s(this,void 0,void 0,(function(){var a,s;return l(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=v(t),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function lt(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function ut(t){return function(e){if(function(t){return f(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new pt(t,e,n,r,i)}var pt=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return a(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(O);function dt(t,e){return void 0===e&&(e=0),ut((function(n,r){n.subscribe(ct(r,(function(n){return lt(r,t,(function(){return r.next(n)}),e)}),(function(){return lt(r,t,(function(){return r.complete()}),e)}),(function(n){return lt(r,t,(function(){return r.error(n)}),e)})))}))}function ht(t,e){return void 0===e&&(e=0),ut((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function vt(t,e){return at(t).pipe(ht(e),dt(e))}function ft(t,e){return at(t).pipe(ht(e),dt(e))}function mt(t,e){return new z((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}function bt(t,e){return new z((function(n){var r;return lt(n,e,(function(){r=t[nt](),lt(n,e,(function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){return void n.error(t)}i?n.complete():n.next(e)}),0,!0)})),function(){return f(null==r?void 0:r.return)&&r.return()}}))}function _t(t,e){if(!t)throw new Error("Iterable cannot be null");return new z((function(n){lt(n,e,(function(){var r=t[Symbol.asyncIterator]();lt(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function gt(t,e){return _t(it(t),e)}function wt(t,e){if(null!=t){if(Z(t))return vt(t,e);if(J(t))return mt(t,e);if(Q(t))return ft(t,e);if(tt(t))return _t(t,e);if(rt(t))return bt(t,e);if(ot(t))return gt(t,e)}throw et(t)}function yt(t,e){return e?wt(t,e):at(t)}function xt(t,e){return ut((function(n,r){var i=0;n.subscribe(ct(r,(function(n){r.next(t.call(e,n,i++))})))}))}function kt(t,e,n,r,i,o,a,s){var l=[],u=0,c=0,p=!1,d=function(){!p||l.length||u||e.complete()},h=function(t){return u<r?v(t):l.push(t)},v=function(t){o&&e.next(t),u++;var s=!1;at(n(t,c++)).subscribe(ct(e,(function(t){null==i||i(t),o?h(t):e.next(t)}),(function(){s=!0}),void 0,(function(){if(s)try{u--;for(var t=function(){var t=l.shift();a?lt(e,a,(function(){return v(t)})):v(t)};l.length&&u<r;)t();d()}catch(t){e.error(t)}})))};return t.subscribe(ct(e,h,(function(){p=!0,d()}))),function(){null==s||s()}}function Ct(t,e,n){return void 0===n&&(n=1/0),f(e)?Ct((function(n,r){return xt((function(t,i){return e(n,t,r,i)}))(at(t(n,r)))}),n):("number"==typeof e&&(n=e),ut((function(e,r){return kt(e,r,t,n)})))}var Pt=function(t){function e(e,n){return t.call(this)||this}return a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(g),Et={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Et.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,p([t,e],c(n))):setInterval.apply(void 0,p([t,e],c(n)))},clearInterval:function(t){var e=Et.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Vt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Et.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;Et.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,_(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Pt),St={now:function(){return(St.delegate||Date).now()},delegate:void 0},Mt=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=St.now,t}(),Lt=new(function(t){function e(e,n){void 0===n&&(n=Mt.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return a(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Mt))(Vt),At=Lt;function Ot(){return void 0===(t=1)&&(t=1/0),Ct(B,t);var t}function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ot()(yt(t,X(t)))}var Dt=new z((function(t){return t.complete()}));function It(t){return t<=0?function(){return Dt}:ut((function(e,n){var r=0;e.subscribe(ct(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}function Rt(t){return xt((function(){return t}))}function Tt(t,e){return e?function(n){return jt(e.pipe(It(1),ut((function(t,e){t.subscribe(ct(e,E))}))),n.pipe(Tt(t)))}:Ct((function(e,n){return t(e,n).pipe(It(1),Rt(e))}))}function Ut(t,e,n){void 0===t&&(t=0),void 0===n&&(n=At);var r=-1;return null!=e&&(W(e)?n=e:r=e),new z((function(e){var i,o=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;o<0&&(o=0);var a=0;return n.schedule((function(){e.closed||(e.next(a++),0<=r?this.schedule(void 0,r):e.complete())}),o)}))}function Kt(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new G}:e,r=t.resetOnError,i=void 0===r||r,o=t.resetOnComplete,a=void 0===o||o,s=t.resetOnRefCountZero,l=void 0===s||s;return function(t){var e=null,r=null,o=null,s=0,u=!1,c=!1,p=function(){null==r||r.unsubscribe(),r=null},d=function(){p(),e=o=null,u=c=!1},h=function(){var t=e;d(),null==t||t.unsubscribe()};return ut((function(t,v){s++,c||u||p();var f=o=null!=o?o:n();v.add((function(){0!==--s||c||u||(r=Nt(h,l))})),f.subscribe(v),e||(e=new R({next:function(t){return f.next(t)},error:function(t){c=!0,p(),r=Nt(d,i,t),f.error(t)},complete:function(){u=!0,p(),r=Nt(d,a),f.complete()}}),yt(t).subscribe(e))}))(t)}}function Nt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===e?(t(),null):!1===e?null:e.apply(void 0,p([],c(n))).pipe(It(1)).subscribe((function(){return t()}))}var Bt={},Ft=i("ds8z5"),zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=function(t,e,n){return Wt.apply(null,arguments)};var qt,Gt=(qt=i("gD1JV"))&&qt.__esModule?qt:{default:qt};function Yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Wt(t,e,n){return(Wt=Yt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Gt.default(i,n.prototype),i}).apply(null,arguments)}var $t={};function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=function(t,e,n){e&&Xt(t.prototype,e);n&&Xt(t,n);return t};var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t};var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=function(t,e,n){return te(t,e,n)};var Zt=function(t){return t&&t.__esModule?t:{default:t}}(i("2mz0K"));function te(t,e,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Zt.default(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n||t):i.value}})(t,e,n)}var ee=i("fVNic"),ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re.default(t,e)};var re=function(t){return t&&t.__esModule?t:{default:t}}(i("gD1JV"));var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(t,e){return oe.default(t)||ae.default(t,e)||le.default(t,e)||se.default()};var oe=ue(i("8slrw")),ae=ue(i("7AJDX")),se=ue(i("ifqQW")),le=ue(i("auk6i"));function ue(t){return t&&t.__esModule?t:{default:t}}var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function(t){return pe.default(t)||de.default(t)||ve.default(t)||he.default()};var pe=fe(i("kMC0W")),de=fe(i("7AJDX")),he=fe(i("8CtQK")),ve=fe(i("auk6i"));function fe(t){return t&&t.__esModule?t:{default:t}}var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=function(t){var e=ge.default();return function(){var n,r=we.default(t);if(e){var i=we.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ye.default(this,n)}};var be,_e,ge=xe(i("aTHs7")),we=xe(i("fVNic")),ye=xe(i("jmhxu"));function xe(t){return t&&t.__esModule?t:{default:t}}
/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */function ke(t){var e=t.width,n=t.height;return new z((function(r){for(var i=function(e,n){t.clear(e,n),r.next(t.at(e,n))},o=1;o<n-1;o+=2)for(var a=1;a<e-1;a+=2)i(a,o),o<n-2&&(Math.random()<.5||a>=e-2)?i(a,o+1):a<e-2&&i(a+1,o);r.complete()}))}!function(e){"use strict";var n=function(){function e(n){t(zt)(this,e);var r=t(ie)(n.split("-"),2),i=r[0],o=r[1],a=i.split(".");this.major=parseInt(a[0],10),this.minor=parseInt(a[1],10),this.patch=parseInt(a[2],10),this.prerelease=null!=o?o:null}return t($t)(e,[{key:"toString",value:function(){var t=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[t,this.prerelease].join("-"):t}}]),e}(),r=function(){function e(n){t(zt)(this,e),this.controller_=n}return t($t)(e,[{key:"disabled",get:function(){return this.controller_.viewProps.get("disabled")},set:function(t){this.controller_.viewProps.set("disabled",t)}},{key:"hidden",get:function(){return this.controller_.viewProps.get("hidden")},set:function(t){this.controller_.viewProps.set("hidden",t)}},{key:"dispose",value:function(){this.controller_.viewProps.set("disposed",!0)}}]),e}(),i=function e(n){t(zt)(this,e),this.target=n},o=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i,o,a){var s;return t(zt)(this,r),(s=n.call(this,e)).value=i,s.presetKey=o,s.last=null==a||a,s}return r}(i),a=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i,o){var a;return t(zt)(this,r),(a=n.call(this,e)).value=i,a.presetKey=o,a}return r}(i),s=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e)).expanded=i,o}return r}(i);function l(t){return t}function u(t){return null==t}function c(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var p={alreadydisposed:function(){return"View has been already disposed"},invalidparams:function(t){return"Invalid parameters for '".concat(t.name,"'")},nomatchingcontroller:function(t){return"No matching controller for '".concat(t.key,"'")},nomatchingview:function(t){return"No matching view for '".concat(JSON.stringify(t.params),"'")},notbindable:function(){return"Value is not bindable"},propertynotfound:function(t){return"Property '".concat(t.name,"' not found")},shouldneverhappen:function(){return"This error should never happen"}},d=function(){function e(n){var r;t(zt)(this,e),this.message=null!==(r=p[n.type](l(n.context)))&&void 0!==r?r:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=n.type}return t($t)(e,null,[{key:"alreadyDisposed",value:function(){return new e({type:"alreadydisposed"})}},{key:"notBindable",value:function(){return new e({type:"notbindable"})}},{key:"propertyNotFound",value:function(t){return new e({type:"propertynotfound",context:{name:t}})}},{key:"shouldNeverHappen",value:function(){return new e({type:"shouldneverhappen"})}}]),e}(),h=function(){function e(n,r,i){t(zt)(this,e),this.obj_=n,this.key_=r,this.presetKey_=null!=i?i:r}return t($t)(e,[{key:"key",get:function(){return this.key_}},{key:"presetKey",get:function(){return this.presetKey_}},{key:"read",value:function(){return this.obj_[this.key_]}},{key:"write",value:function(t){this.obj_[this.key_]=t}},{key:"writeProperty",value:function(t,n){var r=this.read();if(!e.isBindable(r))throw d.notBindable();if(!(t in r))throw d.propertyNotFound(t);r[t]=n}}],[{key:"isBindable",value:function(t){return null!==t&&"object"==typeof t}}]),e}(),v=function(e){t(ne)(r,e);var n=t(me)(r);function r(){return t(zt)(this,r),n.apply(this,arguments)}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"title",get:function(){var t;return null!==(t=this.controller_.valueController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.valueController.props.set("title",t)}},{key:"on",value:function(t,e){var n=this,r=e.bind(this);return this.controller_.valueController.emitter.on(t,(function(){r(new i(n))})),this}}]),r}(r),f=function(){function e(){t(zt)(this,e),this.observers_={}}return t($t)(e,[{key:"on",value:function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this}},{key:"off",value:function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this}},{key:"emit",value:function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){t.handler(e)}))}}]),e}(),m="tp";function b(t){return function(e,n){return[m,"-",t,"v",e?"_".concat(e):"",n?"-".concat(n):""].join("")}}function _(t,e){return function(n){return e(t(n))}}function g(t){return t.rawValue}function w(t,e){t.emitter.on("change",_(g,e)),e(t.rawValue)}function y(t,e,n){w(t.value(e),n)}function x(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function k(t,e){return function(n){x(t,e,n)}}function C(t,e){w(t,(function(t){e.textContent=null!=t?t:""}))}var P=b("btn"),E=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(P()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("button");i.classList.add(P("b")),r.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;var o=n.createElement("div");o.classList.add(P("t")),C(r.props.value("title"),o),this.buttonElement.appendChild(o)},V=function(){function e(n,r){t(zt)(this,e),this.emitter=new f,this.onClick_=this.onClick_.bind(this),this.props=r.props,this.viewProps=r.viewProps,this.view=new E(n,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return t($t)(e,[{key:"onClick_",value:function(){this.emitter.emit("click",{sender:this})}}]),e}(),S=function(){function e(n,r){var i;t(zt)(this,e),this.constraint_=null==r?void 0:r.constraint,this.equals_=null!==(i=null==r?void 0:r.equals)&&void 0!==i?i:function(t,e){return t===e},this.emitter=new f,this.rawValue_=n}return t($t)(e,[{key:"constraint",get:function(){return this.constraint_}},{key:"rawValue",get:function(){return this.rawValue_},set:function(t){this.setRawValue(t,{forceEmit:!1,last:!0})}},{key:"setRawValue",value:function(t,e){var n=null!=e?e:{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(t):t;(!this.equals_(this.rawValue_,r)||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:n,rawValue:r,sender:this}))}}]),e}(),M=function(){function e(n){t(zt)(this,e),this.emitter=new f,this.value_=n}return t($t)(e,[{key:"rawValue",get:function(){return this.value_},set:function(t){this.setRawValue(t,{forceEmit:!1,last:!0})}},{key:"setRawValue",value:function(t,e){var n=null!=e?e:{forceEmit:!1,last:!0};(this.value_!==t||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:n,rawValue:this.value_,sender:this}))}}]),e}();function L(t,e){var n=null==e?void 0:e.constraint,r=null==e?void 0:e.equals;return n||r?new S(t,e):new M(t)}var A=function(){function e(n){var r=this,i=function(t){var e=r;r.valMap_[t].emitter.on("change",(function(){e.emitter.emit("change",{key:t,sender:e})}))};for(var o in t(zt)(this,e),this.emitter=new f,this.valMap_=n,this.valMap_)i(o)}return t($t)(e,[{key:"get",value:function(t){return this.valMap_[t].rawValue}},{key:"set",value:function(t,e){this.valMap_[t].rawValue=e}},{key:"value",value:function(t){return this.valMap_[t]}}],[{key:"createCore",value:function(e){return Object.keys(e).reduce((function(n,r){return Object.assign(n,t(Jt)({},r,L(e[r])))}),{})}},{key:"fromObject",value:function(t){return new e(this.createCore(t))}}]),e}();function O(e,n){return l(Object.keys(n).reduce((function(r,i){if(void 0!==r){var o=(0,n[i])(e[i]);return o.succeeded?Object.assign(Object.assign({},r),t(Jt)({},i,o.value)):void 0}}),{}))}function j(e,n){return e.reduce((function(e,r){if(void 0!==e){var i=n(r);if(i.succeeded&&void 0!==i.value)return t(ce)(e).concat([i.value])}}),[])}function D(t){return null!==t&&"object"==typeof t}function I(t){return function(e){return function(n){if(!e&&void 0===n)return{succeeded:!1,value:void 0};if(e&&void 0===n)return{succeeded:!0,value:void 0};var r=t(n);return void 0!==r?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}}function R(t){return{custom:function(e){return I(e)(t)},boolean:I((function(t){return"boolean"==typeof t?t:void 0}))(t),number:I((function(t){return"number"==typeof t?t:void 0}))(t),string:I((function(t){return"string"==typeof t?t:void 0}))(t),function:I((function(t){return"function"==typeof t?t:void 0}))(t),constant:function(e){return I((function(t){return t===e?e:void 0}))(t)},raw:I((function(t){return t}))(t),object:function(e){return I((function(t){if(D(t))return O(t,e)}))(t)},array:function(e){return I((function(t){if(Array.isArray(t))return j(t,e)}))(t)}}}var T={optional:R(!0),required:R(!1)};function U(t,e){var n=T.required.object(e)(t);return n.succeeded?n.value:void 0}function K(t){return t&&t.parentElement&&t.parentElement.removeChild(t),null}function N(){return["veryfirst","first","last","verylast"]}var B=b(""),F={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"},z=function(){function e(n){var r=this;t(zt)(this,e),this.parent_=null,this.blade=n.blade,this.view=n.view,this.viewProps=n.viewProps;var i=this.view.element;this.blade.value("positions").emitter.on("change",(function(){N().forEach((function(t){i.classList.remove(B(void 0,F[t]))})),r.blade.get("positions").forEach((function(t){i.classList.add(B(void 0,F[t]))}))})),this.viewProps.handleDispose((function(){K(i)}))}return t($t)(e,[{key:"parent",get:function(){return this.parent_}}]),e}(),H="http://www.w3.org/2000/svg";function q(t){t.offsetHeight}function G(t,e){var n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function Y(t){return void 0!==t.ontouchstart}function W(){return new Function("return this")()}function $(){return l(W()).document}function X(t){var e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d"):null}var J={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Q(t,e){var n=t.createElementNS(H,"svg");return n.innerHTML=J[e],n}function Z(t,e,n){t.insertBefore(e,t.children[n])}function tt(t){t.parentElement&&t.parentElement.removeChild(t)}function et(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function nt(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function rt(t){return t.relatedTarget?l(t.relatedTarget):"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}var it=b("lbl");function ot(t,e){var n=t.createDocumentFragment();return e.split("\n").map((function(e){return t.createTextNode(e)})).forEach((function(e,r){r>0&&n.appendChild(t.createElement("br")),n.appendChild(e)})),n}var at=function e(n,r){var i=this;t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(it()),r.viewProps.bindClassModifiers(this.element);var o=n.createElement("div");o.classList.add(it("l")),y(r.props,"label",(function(t){u(t)?i.element.classList.add(it(void 0,"nol")):(i.element.classList.remove(it(void 0,"nol")),nt(o),o.appendChild(ot(n,t)))})),this.element.appendChild(o),this.labelElement=o;var a=n.createElement("div");a.classList.add(it("v")),this.element.appendChild(a),this.valueElement=a},st=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;t(zt)(this,r);var a=i.valueController.viewProps;return(o=n.call(this,Object.assign(Object.assign({},i),{view:new at(e,{props:i.props,viewProps:a}),viewProps:a}))).props=i.props,o.valueController=i.valueController,o.view.valueElement.appendChild(o.valueController.view.element),o}return r}(z),lt={id:"button",type:"blade",accept:function(t){var e=T,n=U(t,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return n?{params:n}:null},controller:function(t){return new st(t.document,{blade:t.blade,props:A.fromObject({label:t.params.label}),valueController:new V(t.document,{props:A.fromObject({title:t.params.title}),viewProps:t.viewProps})})},api:function(t){return t.controller instanceof st&&t.controller.valueController instanceof V?new v(t.controller):null}},ut=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).value=e.value,i}return r}(z);function ct(){return new A({positions:L([],{equals:c})})}var pt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){return t(zt)(this,r),n.call(this,e)}return t($t)(r,[{key:"styleExpanded",get:function(){var t;return null!==(t=this.get("temporaryExpanded"))&&void 0!==t?t:this.get("expanded")}},{key:"styleHeight",get:function(){if(!this.styleExpanded)return"0";var t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!u(t)?"".concat(t,"px"):"auto"}},{key:"bindExpandedClass",value:function(t,e){var n=this,r=function(){n.styleExpanded?t.classList.add(e):t.classList.remove(e)};y(this,"expanded",r),y(this,"temporaryExpanded",r)}},{key:"cleanUpTransition",value:function(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}],[{key:"create",value:function(t){var e={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null};return new r(A.createCore(e))}}]),r}(A);function dt(t,e){var n=0;return G(e,(function(){t.set("expandedHeight",null),t.set("temporaryExpanded",!0),q(e),n=e.clientHeight,t.set("temporaryExpanded",null),q(e)})),n}function ht(t,e){e.style.height=t.styleHeight}function vt(t,e){t.value("expanded").emitter.on("beforechange",(function(){t.set("completed",!1),u(t.get("expandedHeight"))&&t.set("expandedHeight",dt(t,e)),t.set("shouldFixHeight",!0),q(e)})),t.emitter.on("change",(function(){ht(t,e)})),ht(t,e),e.addEventListener("transitionend",(function(e){"height"===e.propertyName&&t.cleanUpTransition()}))}var ft=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e)).rackApi_=i,o}return r}(r);function mt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function bt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function _t(t,e){var n=e||{};return t.addBlade(Object.assign(Object.assign({},n),{view:"separator"}))}function gt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}var wt=function(){function e(n){t(zt)(this,e),this.emitter=new f,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=n}return t($t)(e,[{key:"items",get:function(){return this.items_}},{key:"allItems",value:function(){return Array.from(this.cache_)}},{key:"find",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.allItems()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(t(a))return a}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return null}},{key:"includes",value:function(t){return this.cache_.has(t)}},{key:"add",value:function(t,e){if(this.includes(t))throw d.shouldNeverHappen();var n=void 0!==e?e:this.items_.length;this.items_.splice(n,0,t),this.cache_.add(t);var r=this.extract_(t);if(r){var i=this;r.emitter.on("add",this.onSubListAdd_),r.emitter.on("remove",this.onSubListRemove_),r.allItems().forEach((function(t){i.cache_.add(t)}))}this.emitter.emit("add",{index:n,item:t,root:this,target:this})}},{key:"remove",value:function(t){var e=this.items_.indexOf(t);if(!(e<0)){this.items_.splice(e,1),this.cache_.delete(t);var n=this.extract_(t);n&&(n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}}},{key:"onSubListAdd_",value:function(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}},{key:"onSubListRemove_",value:function(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}]),e}(),yt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).onBindingChange_=i.onBindingChange_.bind(t(Ft)(i)),i.emitter_=new f,i.controller_.binding.emitter.on("change",i.onBindingChange_),i}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"refresh",value:function(){this.controller_.binding.read()}},{key:"onBindingChange_",value:function(t){var e=t.sender.target.read();this.emitter_.emit("change",{event:new o(this,l(e),this.controller_.binding.target.presetKey,t.options.last)})}}]),r}(r),xt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e,i)).binding=i.binding,o}return r}(st),kt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).onBindingUpdate_=i.onBindingUpdate_.bind(t(Ft)(i)),i.emitter_=new f,i.controller_.binding.emitter.on("update",i.onBindingUpdate_),i}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"refresh",value:function(){this.controller_.binding.read()}},{key:"onBindingUpdate_",value:function(t){var e=t.sender.target.read();this.emitter_.emit("update",{event:new a(this,l(e),this.controller_.binding.target.presetKey)})}}]),r}(r),Ct=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e,i)).binding=i.binding,o.viewProps.bindDisabled(o.binding.ticker),o.viewProps.handleDispose((function(){o.binding.dispose()})),o}return r}(st);function Pt(t){return t instanceof St?t.apiSet_:t instanceof ft?t.rackApi_.apiSet_:null}function Et(t,e){var n=t.find((function(t){return t.controller_===e}));if(!n)throw d.shouldNeverHappen();return n}function Vt(t,e,n){if(!h.isBindable(t))throw d.notBindable();return new h(t,e,n)}var St=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;t(zt)(this,r),(o=n.call(this,e)).onRackAdd_=o.onRackAdd_.bind(t(Ft)(o)),o.onRackRemove_=o.onRackRemove_.bind(t(Ft)(o)),o.onRackInputChange_=o.onRackInputChange_.bind(t(Ft)(o)),o.onRackMonitorUpdate_=o.onRackMonitorUpdate_.bind(t(Ft)(o)),o.emitter_=new f,o.apiSet_=new wt(Pt),o.pool_=i;var a=o.controller_.rack;return a.emitter.on("add",o.onRackAdd_),a.emitter.on("remove",o.onRackRemove_),a.emitter.on("inputchange",o.onRackInputChange_),a.emitter.on("monitorupdate",o.onRackMonitorUpdate_),a.children.forEach((function(t){o.setUpApi_(t)})),o}return t($t)(r,[{key:"children",get:function(){var t=this;return this.controller_.rack.children.map((function(e){return Et(t.apiSet_,e)}))}},{key:"addInput",value:function(t,e,n){var r=n||{},i=this.controller_.view.element.ownerDocument,o=this.pool_.createInput(i,Vt(t,e,r.presetKey),r),a=new yt(o);return this.add(a,r.index)}},{key:"addMonitor",value:function(t,e,n){var r=n||{},i=this.controller_.view.element.ownerDocument,o=this.pool_.createMonitor(i,Vt(t,e),r),a=new kt(o);return l(this.add(a,r.index))}},{key:"addFolder",value:function(t){return bt(this,t)}},{key:"addButton",value:function(t){return mt(this,t)}},{key:"addSeparator",value:function(t){return _t(this,t)}},{key:"addTab",value:function(t){return gt(this,t)}},{key:"add",value:function(t,e){this.controller_.rack.add(t.controller_,e);var n=this.apiSet_.find((function(e){return e.controller_===t.controller_}));return n&&this.apiSet_.remove(n),this.apiSet_.add(t),t}},{key:"remove",value:function(t){this.controller_.rack.remove(t.controller_)}},{key:"addBlade",value:function(t){var e=this.controller_.view.element.ownerDocument,n=this.pool_.createBlade(e,t),r=this.pool_.createBladeApi(n);return this.add(r,t.index)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"setUpApi_",value:function(t){this.apiSet_.find((function(e){return e.controller_===t}))||this.apiSet_.add(this.pool_.createBladeApi(t))}},{key:"onRackAdd_",value:function(t){this.setUpApi_(t.bladeController)}},{key:"onRackRemove_",value:function(t){if(t.isRoot){var e=Et(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}},{key:"onRackInputChange_",value:function(t){var e=t.bladeController;if(e instanceof xt){var n=Et(this.apiSet_,e),r=e.binding;this.emitter_.emit("change",{event:new o(n,l(r.target.read()),r.target.presetKey,t.options.last)})}else if(e instanceof ut){var i=Et(this.apiSet_,e);this.emitter_.emit("change",{event:new o(i,e.value.rawValue,void 0,t.options.last)})}}},{key:"onRackMonitorUpdate_",value:function(t){if(!(t.bladeController instanceof Ct))throw d.shouldNeverHappen();var e=Et(this.apiSet_,t.bladeController),n=t.bladeController.binding;this.emitter_.emit("update",{event:new a(e,l(n.target.read()),n.target.presetKey)})}}]),r}(r),Mt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e,new St(e.rackController,i))).emitter_=new f,o.controller_.foldable.value("expanded").emitter.on("change",(function(e){o.emitter_.emit("fold",{event:new s(t(Ft)(o),e.sender.rawValue)})})),o.rackApi_.on("change",(function(t){o.emitter_.emit("change",{event:t})})),o.rackApi_.on("update",(function(t){o.emitter_.emit("update",{event:t})})),o}return t($t)(r,[{key:"expanded",get:function(){return this.controller_.foldable.get("expanded")},set:function(t){this.controller_.foldable.set("expanded",t)}},{key:"title",get:function(){return this.controller_.props.get("title")},set:function(t){this.controller_.props.set("title",t)}},{key:"children",get:function(){return this.rackApi_.children}},{key:"addInput",value:function(t,e,n){return this.rackApi_.addInput(t,e,n)}},{key:"addMonitor",value:function(t,e,n){return this.rackApi_.addMonitor(t,e,n)}},{key:"addFolder",value:function(t){return this.rackApi_.addFolder(t)}},{key:"addButton",value:function(t){return this.rackApi_.addButton(t)}},{key:"addSeparator",value:function(t){return this.rackApi_.addSeparator(t)}},{key:"addTab",value:function(t){return this.rackApi_.addTab(t)}},{key:"add",value:function(t,e){return this.rackApi_.add(t,e)}},{key:"remove",value:function(t){this.rackApi_.remove(t)}},{key:"addBlade",value:function(t){return this.rackApi_.addBlade(t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),r}(ft),Lt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,{blade:e.blade,view:e.view,viewProps:e.rackController.viewProps})).rackController=e.rackController,i}return r}(z),At=function e(n,r){t(zt)(this,e);var i=b(r.viewName);this.element=n.createElement("div"),this.element.classList.add(i()),r.viewProps.bindClassModifiers(this.element)};function Ot(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof xt&&r.binding===e)return r}return null}function jt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof Ct&&r.binding===e)return r}return null}function Dt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof ut&&r.value===e)return r}return null}function It(t){return t instanceof Ut?t.rack:t instanceof Lt?t.rackController.rack:null}function Rt(t){var e=It(t);return e?e.bcSet_:null}var Tt=function(){function e(n){var r;t(zt)(this,e),this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new f,this.blade_=null!=n?n:null,null===(r=this.blade_)||void 0===r||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new wt(Rt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}return t($t)(e,[{key:"children",get:function(){return this.bcSet_.items}},{key:"add",value:function(t,e){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,e)}},{key:"remove",value:function(t){t.parent_=null,this.bcSet_.remove(t)}},{key:"find",value:function(t){return l(this.bcSet_.allItems().filter((function(e){return e instanceof t})))}},{key:"onSetAdd_",value:function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),e){var n=t.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),n instanceof xt)n.binding.emitter.on("change",this.onChildInputChange_);else if(n instanceof Ct)n.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(n instanceof ut)n.value.emitter.on("change",this.onChildValueChange_);else{var r=It(n);if(r){var i=r.emitter;i.on("layout",this.onDescendantLayout_),i.on("inputchange",this.onDescendantInputChange_),i.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}}},{key:"onSetRemove_",value:function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),e){var n=t.item;if(n instanceof xt)n.binding.emitter.off("change",this.onChildInputChange_);else if(n instanceof Ct)n.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(n instanceof ut)n.value.emitter.off("change",this.onChildValueChange_);else{var r=It(n);if(r){var i=r.emitter;i.off("layout",this.onDescendantLayout_),i.off("inputchange",this.onDescendantInputChange_),i.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}}},{key:"updatePositions_",value:function(){var t=this,e=this.bcSet_.items.filter((function(t){return!t.viewProps.get("hidden")})),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach((function(e){var i=[];e===n&&(i.push("first"),t.blade_&&!t.blade_.get("positions").includes("veryfirst")||i.push("veryfirst")),e===r&&(i.push("last"),t.blade_&&!t.blade_.get("positions").includes("verylast")||i.push("verylast")),e.blade.set("positions",i)}))}},{key:"onChildPositionsChange_",value:function(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onChildViewPropsChange_",value:function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onChildDispose_",value:function(){var t=this;this.bcSet_.items.filter((function(t){return t.viewProps.get("disposed")})).forEach((function(e){t.bcSet_.remove(e)}))}},{key:"onChildInputChange_",value:function(t){var e=Ot(this.find(xt),t.sender);if(!e)throw d.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}},{key:"onChildMonitorUpdate_",value:function(t){var e=jt(this.find(Ct),t.sender);if(!e)throw d.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}},{key:"onChildValueChange_",value:function(t){var e=Dt(this.find(ut),t.sender);if(!e)throw d.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}},{key:"onDescendantLayout_",value:function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onDescendantInputChange_",value:function(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}},{key:"onDescendantMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}},{key:"onBladePositionsChange_",value:function(){this.updatePositions_()}}]),e}(),Ut=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;t(zt)(this,r),(o=n.call(this,Object.assign(Object.assign({},i),{view:new At(e,{viewName:"brk",viewProps:i.viewProps})}))).onRackAdd_=o.onRackAdd_.bind(t(Ft)(o)),o.onRackRemove_=o.onRackRemove_.bind(t(Ft)(o));var a=new Tt(i.root?void 0:i.blade);return a.emitter.on("add",o.onRackAdd_),a.emitter.on("remove",o.onRackRemove_),o.rack=a,o.viewProps.handleDispose((function(){for(var t=o.rack.children.length-1;t>=0;t--)o.rack.children[t].viewProps.set("disposed",!0)})),o}return t($t)(r,[{key:"onRackAdd_",value:function(t){t.isRoot&&Z(this.view.element,t.bladeController.view.element,t.index)}},{key:"onRackRemove_",value:function(t){t.isRoot&&tt(t.bladeController.view.element)}}]),r}(z),Kt=b("cnt"),Nt=function e(n,r){var i=this;t(zt)(this,e),this.className_=b(r.viewName||"fld"),this.element=n.createElement("div"),this.element.classList.add(this.className_(),Kt()),r.viewProps.bindClassModifiers(this.element),this.foldable_=r.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),y(this.foldable_,"completed",k(this.element,this.className_(void 0,"cpl")));var o=n.createElement("button");o.classList.add(this.className_("b")),y(r.props,"title",(function(t){u(t)?i.element.classList.add(i.className_(void 0,"not")):i.element.classList.remove(i.className_(void 0,"not"))})),r.viewProps.bindDisabled(o),this.element.appendChild(o),this.buttonElement=o;var a=n.createElement("div");a.classList.add(this.className_("t")),C(r.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a;var s=n.createElement("div");s.classList.add(this.className_("m")),this.buttonElement.appendChild(s);var l=r.containerElement;l.classList.add(this.className_("c")),this.element.appendChild(l),this.containerElement=l},Bt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o,a;t(zt)(this,r);var s=pt.create(null===(a=i.expanded)||void 0===a||a),l=new Ut(e,{blade:i.blade,root:i.root,viewProps:i.viewProps});return(o=n.call(this,Object.assign(Object.assign({},i),{rackController:l,view:new Nt(e,{containerElement:l.view.element,foldable:s,props:i.props,viewName:i.root?"rot":void 0,viewProps:i.viewProps})}))).onTitleClick_=o.onTitleClick_.bind(t(Ft)(o)),o.props=i.props,o.foldable=s,vt(o.foldable,o.view.containerElement),o.rackController.rack.emitter.on("add",(function(){o.foldable.cleanUpTransition()})),o.rackController.rack.emitter.on("remove",(function(){o.foldable.cleanUpTransition()})),o.view.buttonElement.addEventListener("click",o.onTitleClick_),o}return t($t)(r,[{key:"document",get:function(){return this.view.element.ownerDocument}},{key:"onTitleClick_",value:function(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}]),r}(Lt),qt={id:"folder",type:"blade",accept:function(t){var e=T,n=U(t,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return n?{params:n}:null},controller:function(t){return new Bt(t.document,{blade:t.blade,expanded:t.params.expanded,props:A.fromObject({title:t.params.title}),viewProps:t.viewProps})},api:function(t){return t.controller instanceof Bt?new Mt(t.controller,t.pool):null}},Gt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;t(zt)(this,r);var a=i.valueController.viewProps;return(o=n.call(this,Object.assign(Object.assign({},i),{value:i.valueController.value,view:new at(e,{props:i.props,viewProps:a}),viewProps:a}))).props=i.props,o.valueController=i.valueController,o.view.valueElement.appendChild(o.valueController.view.element),o}return r}(ut),Yt=function(e){t(ne)(r,e);var n=t(me)(r);function r(){return t(zt)(this,r),n.apply(this,arguments)}return r}(r),Wt=b("spr"),Xt=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(Wt()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("hr");i.classList.add(Wt("r")),this.element.appendChild(i)},Zt=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){return t(zt)(this,r),n.call(this,Object.assign(Object.assign({},i),{view:new Xt(e,{viewProps:i.viewProps})}))}return r}(z),te={id:"separator",type:"blade",accept:function(t){var e=U(t,{view:T.required.constant("separator")});return e?{params:e}:null},controller:function(t){return new Zt(t.document,{blade:t.blade,viewProps:t.viewProps})},api:function(t){return t.controller instanceof Zt?new Yt(t.controller):null}},re=b("");function oe(t,e){return k(t,re(void 0,e))}var ae=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){return t(zt)(this,r),n.call(this,e)}return t($t)(r,[{key:"bindClassModifiers",value:function(t){y(this,"disabled",oe(t,"disabled")),y(this,"hidden",oe(t,"hidden"))}},{key:"bindDisabled",value:function(t){y(this,"disabled",(function(e){t.disabled=e}))}},{key:"bindTabIndex",value:function(t){y(this,"disabled",(function(e){t.tabIndex=e?-1:0}))}},{key:"handleDispose",value:function(t){this.value("disposed").emitter.on("change",(function(e){e&&t()}))}}],[{key:"create",value:function(t){var e,n,i=null!=t?t:{},o={disabled:null!==(e=i.disabled)&&void 0!==e&&e,disposed:!1,hidden:null!==(n=i.hidden)&&void 0!==n&&n};return new r(A.createCore(o))}}]),r}(A),se=b("tbi"),le=function e(n,r){var i=this;t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(se()),r.viewProps.bindClassModifiers(this.element),y(r.props,"selected",(function(t){t?i.element.classList.add(se(void 0,"sel")):i.element.classList.remove(se(void 0,"sel"))}));var o=n.createElement("button");o.classList.add(se("b")),r.viewProps.bindDisabled(o),this.element.appendChild(o),this.buttonElement=o;var a=n.createElement("div");a.classList.add(se("t")),C(r.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a},ue=function(){function e(n,r){t(zt)(this,e),this.emitter=new f,this.onClick_=this.onClick_.bind(this),this.props=r.props,this.viewProps=r.viewProps,this.view=new le(n,{props:r.props,viewProps:r.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return t($t)(e,[{key:"onClick_",value:function(){this.emitter.emit("click",{sender:this})}}]),e}(),pe=function(){function e(n,r){var i=this;t(zt)(this,e),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ue(n,{props:r.itemProps,viewProps:ae.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Ut(n,{blade:ct(),viewProps:ae.create()}),this.props=r.props,y(this.props,"selected",(function(t){i.itemController.props.set("selected",t),i.contentController.viewProps.set("hidden",!t)}))}return t($t)(e,[{key:"itemController",get:function(){return this.ic_}},{key:"contentController",get:function(){return this.cc_}},{key:"onItemClick_",value:function(){this.props.set("selected",!0)}}]),e}(),de=function(){function e(n,r){t(zt)(this,e),this.controller_=n,this.rackApi_=r}return t($t)(e,[{key:"title",get:function(){var t;return null!==(t=this.controller_.itemController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.itemController.props.set("title",t)}},{key:"selected",get:function(){return this.controller_.props.get("selected")},set:function(t){this.controller_.props.set("selected",t)}},{key:"children",get:function(){return this.rackApi_.children}},{key:"addButton",value:function(t){return this.rackApi_.addButton(t)}},{key:"addFolder",value:function(t){return this.rackApi_.addFolder(t)}},{key:"addSeparator",value:function(t){return this.rackApi_.addSeparator(t)}},{key:"addTab",value:function(t){return this.rackApi_.addTab(t)}},{key:"add",value:function(t,e){this.rackApi_.add(t,e)}},{key:"remove",value:function(t){this.rackApi_.remove(t)}},{key:"addInput",value:function(t,e,n){return this.rackApi_.addInput(t,e,n)}},{key:"addMonitor",value:function(t,e,n){return this.rackApi_.addMonitor(t,e,n)}},{key:"addBlade",value:function(t){return this.rackApi_.addBlade(t)}}]),e}(),he=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;return t(zt)(this,r),(o=n.call(this,e,new St(e.rackController,i))).onPageAdd_=o.onPageAdd_.bind(t(Ft)(o)),o.onPageRemove_=o.onPageRemove_.bind(t(Ft)(o)),o.emitter_=new f,o.pageApiMap_=new Map,o.rackApi_.on("change",(function(t){o.emitter_.emit("change",{event:t})})),o.rackApi_.on("update",(function(t){o.emitter_.emit("update",{event:t})})),o.controller_.pageSet.emitter.on("add",o.onPageAdd_),o.controller_.pageSet.emitter.on("remove",o.onPageRemove_),o.controller_.pageSet.items.forEach((function(t){o.setUpPageApi_(t)})),o}return t($t)(r,[{key:"pages",get:function(){var t=this;return this.controller_.pageSet.items.map((function(e){var n=t.pageApiMap_.get(e);if(!n)throw d.shouldNeverHappen();return n}))}},{key:"addPage",value:function(t){var e=this.controller_.view.element.ownerDocument,n=new pe(e,{itemProps:A.fromObject({selected:!1,title:t.title}),props:A.fromObject({selected:!1})});this.controller_.add(n,t.index);var r=this.pageApiMap_.get(n);if(!r)throw d.shouldNeverHappen();return r}},{key:"removePage",value:function(t){this.controller_.remove(t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"setUpPageApi_",value:function(t){var e=this.rackApi_.apiSet_.find((function(e){return e.controller_===t.contentController}));if(!e)throw d.shouldNeverHappen();var n=new de(t,e);this.pageApiMap_.set(t,n)}},{key:"onPageAdd_",value:function(t){this.setUpPageApi_(t.item)}},{key:"onPageRemove_",value:function(t){if(!this.pageApiMap_.get(t.item))throw d.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}]),r}(ft),ve=b("tab"),fe=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(ve(),Kt()),r.viewProps.bindClassModifiers(this.element),w(r.empty,k(this.element,ve(void 0,"nop")));var i=n.createElement("div");i.classList.add(ve("i")),this.element.appendChild(i),this.itemsElement=i;var o=r.contentsElement;o.classList.add(ve("c")),this.element.appendChild(o),this.contentsElement=o},be=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){var o;t(zt)(this,r);var a=new Ut(e,{blade:i.blade,viewProps:i.viewProps}),s=L(!0);return(o=n.call(this,{blade:i.blade,rackController:a,view:new fe(e,{contentsElement:a.view.element,empty:s,viewProps:i.viewProps})})).onPageAdd_=o.onPageAdd_.bind(t(Ft)(o)),o.onPageRemove_=o.onPageRemove_.bind(t(Ft)(o)),o.onPageSelectedChange_=o.onPageSelectedChange_.bind(t(Ft)(o)),o.pageSet_=new wt((function(){return null})),o.pageSet_.emitter.on("add",o.onPageAdd_),o.pageSet_.emitter.on("remove",o.onPageRemove_),o.empty_=s,o.applyPages_(),o}return t($t)(r,[{key:"pageSet",get:function(){return this.pageSet_}},{key:"add",value:function(t,e){this.pageSet_.add(t,null!=e?e:this.pageSet_.items.length)}},{key:"remove",value:function(t){this.pageSet_.remove(this.pageSet_.items[t])}},{key:"applyPages_",value:function(){this.keepSelection_(),this.empty_.rawValue=0===this.pageSet_.items.length}},{key:"onPageAdd_",value:function(t){var e=t.item;Z(this.view.itemsElement,e.itemController.view.element,t.index),this.rackController.rack.add(e.contentController,t.index),e.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}},{key:"onPageRemove_",value:function(t){var e=t.item;tt(e.itemController.view.element),this.rackController.rack.remove(e.contentController),e.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}},{key:"keepSelection_",value:function(){if(0!==this.pageSet_.items.length){var t=this.pageSet_.items.findIndex((function(t){return t.props.get("selected")}));t<0?this.pageSet_.items.forEach((function(t,e){t.props.set("selected",0===e)})):this.pageSet_.items.forEach((function(e,n){e.props.set("selected",n===t)}))}}},{key:"onPageSelectedChange_",value:function(t){if(t.rawValue){var e=this.pageSet_.items.findIndex((function(e){return e.props.value("selected")===t.sender}));this.pageSet_.items.forEach((function(t,n){t.props.set("selected",n===e)}))}else this.keepSelection_()}}]),r}(Lt),_e={id:"tab",type:"blade",accept:function(t){var e=T,n=U(t,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return n&&0!==n.pages.length?{params:n}:null},controller:function(t){var e=new be(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach((function(n){var r=new pe(t.document,{itemProps:A.fromObject({selected:!1,title:n.title}),props:A.fromObject({selected:!1})});e.add(r)})),e},api:function(t){return t.controller instanceof be?new he(t.controller,t.pool):null}};function ge(t,e){var n=t.accept(e.params);if(!n)return null;var r=T.optional.boolean(e.params.disabled).value,i=T.optional.boolean(e.params.hidden).value;return t.controller({blade:ct(),document:e.document,params:l(Object.assign(Object.assign({},n.params),{disabled:r,hidden:i})),viewProps:ae.create({disabled:r,hidden:i})})}var we=function(){function e(){t(zt)(this,e),this.disabled=!1,this.emitter=new f}return t($t)(e,[{key:"dispose",value:function(){}},{key:"tick",value:function(){this.disabled||this.emitter.emit("tick",{sender:this})}}]),e}(),ye=function(){function e(n,r){t(zt)(this,e),this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=n,this.emitter=new f,this.interval_=r,this.setTimer_()}return t($t)(e,[{key:"disabled",get:function(){return this.disabled_},set:function(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}},{key:"dispose",value:function(){this.clearTimer_()}},{key:"clearTimer_",value:function(){if(null!==this.timerId_){var t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}}},{key:"setTimer_",value:function(){if(this.clearTimer_(),!(this.interval_<=0)){var t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}}},{key:"onTick_",value:function(){this.disabled_||this.emitter.emit("tick",{sender:this})}}]),e}(),xe=function(){function e(n){t(zt)(this,e),this.constraints=n}return t($t)(e,[{key:"constrain",value:function(t){return this.constraints.reduce((function(t,e){return e.constrain(t)}),t)}}]),e}();function ke(t,e){if(t instanceof e)return t;if(t instanceof xe){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}var Ce=function(){function e(n){t(zt)(this,e),this.options=n}return t($t)(e,[{key:"constrain",value:function(t){var e=this.options;return 0===e.length||e.filter((function(e){return e.value===t})).length>0?t:e[0].value}}]),e}(),Pe=function(){function e(n){t(zt)(this,e),this.maxValue=n.max,this.minValue=n.min}return t($t)(e,[{key:"constrain",value:function(t){var e=t;return u(this.minValue)||(e=Math.max(e,this.minValue)),u(this.maxValue)||(e=Math.min(e,this.maxValue)),e}}]),e}(),Ee=function(){function e(n){t(zt)(this,e),this.step=n}return t($t)(e,[{key:"constrain",value:function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}]),e}(),Ve=b("lst"),Se=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.props_=r.props,this.element=n.createElement("div"),this.element.classList.add(Ve()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("select");i.classList.add(Ve("s")),y(this.props_,"options",(function(t){et(i),t.forEach((function(t,e){var r=n.createElement("option");r.dataset.index=String(e),r.textContent=t.text,r.value=String(t.value),i.appendChild(r)}))})),r.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;var o=n.createElement("div");o.classList.add(Ve("m")),o.appendChild(Q(n,"dropdown")),this.element.appendChild(o),r.value.emitter.on("change",this.onValueChange_),this.value_=r.value,this.update_()}return t($t)(e,[{key:"update_",value:function(){this.selectElement.value=String(this.value_.rawValue)}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),Me=function(){function e(n,r){t(zt)(this,e),this.onSelectChange_=this.onSelectChange_.bind(this),this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.view=new Se(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}return t($t)(e,[{key:"onSelectChange_",value:function(t){var e=l(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value.rawValue=this.props.get("options")[n].value}}}]),e}(),Le=b("pop"),Ae=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(Le()),r.viewProps.bindClassModifiers(this.element),w(r.shows,k(this.element,Le(void 0,"v")))},Oe=function e(n,r){t(zt)(this,e),this.shows=L(!1),this.viewProps=r.viewProps,this.view=new Ae(n,{shows:this.shows,viewProps:this.viewProps})},je=b("txt"),De=function(){function e(n,r){t(zt)(this,e),this.onChange_=this.onChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(je()),r.viewProps.bindClassModifiers(this.element),this.props_=r.props,this.props_.emitter.on("change",this.onChange_);var i=n.createElement("input");i.classList.add(je("i")),i.type="text",r.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,r.value.emitter.on("change",this.onChange_),this.value_=r.value,this.refresh()}return t($t)(e,[{key:"refresh",value:function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}},{key:"onChange_",value:function(){this.refresh()}}]),e}(),Ie=function(){function e(n,r){t(zt)(this,e),this.onInputChange_=this.onInputChange_.bind(this),this.parser_=r.parser,this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.view=new De(n,{props:r.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t($t)(e,[{key:"onInputChange_",value:function(t){var e=l(t.currentTarget).value,n=this.parser_(e);u(n)||(this.value.rawValue=n),this.view.refresh()}}]),e}();function Re(t){return String(t)}function Te(t){return"false"!==t&&!!t}function Ue(t){return Re(t)}var Ke=function(){function e(n){t(zt)(this,e),this.text=n}return t($t)(e,[{key:"evaluate",value:function(){return Number(this.text)}},{key:"toString",value:function(){return this.text}}]),e}(),Ne={"**":function(t,e){return Math.pow(t,e)},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<<":function(t,e){return t<<e},">>":function(t,e){return t>>e},">>>":function(t,e){return t>>>e},"&":function(t,e){return t&e},"^":function(t,e){return t^e},"|":function(t,e){return t|e}},Be=function(){function e(n,r,i){t(zt)(this,e),this.left=r,this.operator=n,this.right=i}return t($t)(e,[{key:"evaluate",value:function(){var t=Ne[this.operator];if(!t)throw new Error("unexpected binary operator: '".concat(this.operator));return t(this.left.evaluate(),this.right.evaluate())}},{key:"toString",value:function(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}]),e}(),Fe={"+":function(t){return t},"-":function(t){return-t},"~":function(t){return~t}},ze=function(){function e(n,r){t(zt)(this,e),this.operator=n,this.expression=r}return t($t)(e,[{key:"evaluate",value:function(){var t=Fe[this.operator];if(!t)throw new Error("unexpected unary operator: '".concat(this.operator));return t(this.expression.evaluate())}},{key:"toString",value:function(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}]),e}();function He(t){return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(""!==i)return i}return""}}function qe(t,e){var n,r=t.substr(e).match(/^\s+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function Ge(t,e){var n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Ye(t,e){var n,r=t.substr(e).match(/^[0-9]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function We(t,e){var n=Ye(t,e);if(""!==n)return n;var r=t.substr(e,1);if("-"!==r&&"+"!==r)return"";var i=Ye(t,e+=1);return""===i?"":r+i}function $e(t,e){var n=t.substr(e,1);if(e+=1,"e"!==n.toLowerCase())return"";var r=We(t,e);return""===r?"":n+r}function Xe(t,e){var n=t.substr(e,1);if("0"===n)return n;var r=Ge(t,e);return e+=r.length,""===r?"":r+Ye(t,e)}function Je(t,e){var n=Xe(t,e);if(e+=n.length,""===n)return"";var r=t.substr(e,1);if(e+=r.length,"."!==r)return"";var i=Ye(t,e);return n+r+i+$e(t,e+=i.length)}function Qe(t,e){var n=t.substr(e,1);if(e+=n.length,"."!==n)return"";var r=Ye(t,e);return e+=r.length,""===r?"":n+r+$e(t,e)}function Ze(t,e){var n=Xe(t,e);return e+=n.length,""===n?"":n+$e(t,e)}var tn=He([Je,Qe,Ze]);function en(t,e){var n,r=t.substr(e).match(/^[01]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function nn(t,e){var n=t.substr(e,2);if(e+=n.length,"0b"!==n.toLowerCase())return"";var r=en(t,e);return""===r?"":n+r}function rn(t,e){var n,r=t.substr(e).match(/^[0-7]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function on(t,e){var n=t.substr(e,2);if(e+=n.length,"0o"!==n.toLowerCase())return"";var r=rn(t,e);return""===r?"":n+r}function an(t,e){var n,r=t.substr(e).match(/^[0-9a-f]+/i);return null!==(n=r&&r[0])&&void 0!==n?n:""}function sn(t,e){var n=t.substr(e,2);if(e+=n.length,"0x"!==n.toLowerCase())return"";var r=an(t,e);return""===r?"":n+r}var ln=He([nn,on,sn]),un=He([ln,tn]);function cn(t,e){var n=un(t,e);return e+=n.length,""===n?null:{evaluable:new Ke(n),cursor:e}}function pn(t,e){var n=t.substr(e,1);if(e+=n.length,"("!==n)return null;var r=bn(t,e);if(!r)return null;e=r.cursor,e+=qe(t,e).length;var i=t.substr(e,1);return e+=i.length,")"!==i?null:{evaluable:r.evaluable,cursor:e}}function dn(t,e){return cn(t,e)||pn(t,e)}function hn(t,e){var n=dn(t,e);if(n)return n;var r=t.substr(e,1);if(e+=r.length,"+"!==r&&"-"!==r&&"~"!==r)return null;var i=hn(t,e);return i?{cursor:e=i.cursor,evaluable:new ze(r,i.evaluable)}:null}function vn(t,e,n){n+=qe(e,n).length;var r=t.filter((function(t){return e.startsWith(t,n)}))[0];return r?(n+=r.length,{cursor:n+=qe(e,n).length,operator:r}):null}function fn(t,e){return function(n,r){var i=t(n,r);if(!i)return null;r=i.cursor;for(var o=i.evaluable;;){var a=vn(e,n,r);if(!a)break;r=a.cursor;var s=t(n,r);if(!s)return null;r=s.cursor,o=new Be(a.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}var mn=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((function(t,e){return fn(t,e)}),hn);function bn(t,e){return e+=qe(t,e).length,mn(t,e)}function _n(t){var e=bn(t,0);return e?e.cursor+qe(t,e.cursor).length!==t.length?null:e.evaluable:null}function gn(t){var e,n=_n(t);return null!==(e=null==n?void 0:n.evaluate())&&void 0!==e?e:null}function wn(t){if("number"==typeof t)return t;if("string"==typeof t){var e=gn(t);if(!u(e))return e}return 0}function yn(t){return String(t)}function xn(t){return function(e){return e.toFixed(Math.max(Math.min(t,20),0))}}var kn=xn(0);function Cn(t){return kn(t)+"%"}function Pn(t){return String(t)}function En(t){return t}function Vn(t,e){for(;t.length<e;)t.push(void 0)}function Sn(t){var e=[];return Vn(e,t),L(e)}function Mn(t){var e=t.indexOf(void 0);return l(e<0?t:t.slice(0,e))}function Ln(e,n){var r=t(ce)(Mn(e)).concat([n]);return r.length>e.length?r.splice(0,r.length-e.length):Vn(r,e.length),r}function An(t){var e=t.primary,n=t.secondary,r=t.forward,i=t.backward,o=!1;function a(t){o||(o=!0,t(),o=!1)}e.emitter.on("change",(function(t){a((function(){n.setRawValue(r(e,n),t.options)}))})),n.emitter.on("change",(function(t){a((function(){e.setRawValue(i(e,n),t.options)})),a((function(){n.setRawValue(r(e,n),t.options)}))})),a((function(){n.setRawValue(r(e,n),{forceEmit:!1,last:!0})}))}function On(t,e){var n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function jn(t){return{altKey:t.altKey,downKey:"ArrowDown"===t.key,shiftKey:t.shiftKey,upKey:"ArrowUp"===t.key}}function Dn(t){return{altKey:t.altKey,downKey:"ArrowLeft"===t.key,shiftKey:t.shiftKey,upKey:"ArrowRight"===t.key}}function In(t){return"ArrowUp"===t||"ArrowDown"===t}function Rn(t){return In(t)||"ArrowLeft"===t||"ArrowRight"===t}function Tn(t,e){var n=e.ownerDocument.defaultView,r=e.getBoundingClientRect();return{x:t.pageX-((n&&n.scrollX||0)+r.left),y:t.pageY-((n&&n.scrollY||0)+r.top)}}var Un=function(){function e(n){t(zt)(this,e),this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=n,this.emitter=new f,n.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),n.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),n.addEventListener("touchend",this.onTouchEnd_),n.addEventListener("mousedown",this.onMouseDown_)}return t($t)(e,[{key:"computePosition_",value:function(t){var e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}},{key:"onMouseDown_",value:function(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus();var n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Tn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onDocumentMouseMove_",value:function(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Tn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onDocumentMouseUp_",value:function(t){var e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Tn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onTouchStart_",value:function(t){t.preventDefault();var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}},{key:"onTouchMove_",value:function(t){var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}},{key:"onTouchEnd_",value:function(t){var e,n=null!==(e=t.targetTouches.item(0))&&void 0!==e?e:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey})}}]),e}();function Kn(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}function Nn(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Bn(t,e,n){return Math.min(Math.max(t,e),n)}function Fn(t,e){return(t%e+e)%e}var zn=b("txt"),Hn=function(){function e(n,r){t(zt)(this,e),this.onChange_=this.onChange_.bind(this),this.props_=r.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(zn(),zn(void 0,"num")),r.arrayPosition&&this.element.classList.add(zn(void 0,r.arrayPosition)),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("input");i.classList.add(zn("i")),i.type="text",r.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=r.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(zn()),this.inputElement.classList.add(zn("i"));var o=n.createElement("div");o.classList.add(zn("k")),this.element.appendChild(o),this.knobElement=o;var a=n.createElementNS(H,"svg");a.classList.add(zn("g")),this.knobElement.appendChild(a);var s=n.createElementNS(H,"path");s.classList.add(zn("gb")),a.appendChild(s),this.guideBodyElem_=s;var l=n.createElementNS(H,"path");l.classList.add(zn("gh")),a.appendChild(l),this.guideHeadElem_=l;var u=n.createElement("div");u.classList.add(b("tt")()),this.knobElement.appendChild(u),this.tooltipElem_=u,r.value.emitter.on("change",this.onChange_),this.value=r.value,this.refresh()}return t($t)(e,[{key:"onDraggingChange_",value:function(t){if(null!==t.rawValue){this.element.classList.add(zn(void 0,"drg"));var e=t.rawValue/this.props_.get("draggingScale"),n=e+(e>0?-1:e<0?1:0),r=Bn(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(n+r,",0 L").concat(n,",4 L").concat(n+r,",8"),"M ".concat(e,",-1 L").concat(e,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(e,",4"));var i=this.props_.get("formatter");this.tooltipElem_.textContent=i(this.value.rawValue),this.tooltipElem_.style.left="".concat(e,"px")}else this.element.classList.remove(zn(void 0,"drg"))}},{key:"refresh",value:function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}},{key:"onChange_",value:function(){this.refresh()}}]),e}(),qn=function(){function e(n,r){t(zt)(this,e),this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=r.baseStep,this.parser_=r.parser,this.props=r.props,this.value=r.value,this.viewProps=r.viewProps,this.dragging_=L(null),this.view=new Hn(n,{arrayPosition:r.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);var i=new Un(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}return t($t)(e,[{key:"onInputChange_",value:function(t){var e=l(t.currentTarget).value,n=this.parser_(e);u(n)||(this.value.rawValue=n),this.view.refresh()}},{key:"onInputKeyDown_",value:function(t){var e=On(this.baseStep_,jn(t));0!==e&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}},{key:"onInputKeyUp_",value:function(t){0!==On(this.baseStep_,jn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},{key:"onPointerDown_",value:function(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}},{key:"computeDraggingValue_",value:function(t){if(!t.point)return null;var e=t.point.x-t.bounds.width/2;return this.originRawValue_+e*this.props.get("draggingScale")}},{key:"onPointerMove_",value:function(t){var e=this.computeDraggingValue_(t.data);null!==e&&(this.value.setRawValue(e,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}},{key:"onPointerUp_",value:function(t){var e=this.computeDraggingValue_(t.data);null!==e&&(this.value.setRawValue(e,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}]),e}(),Gn=b("sld"),Yn=function(){function e(n,r){t(zt)(this,e),this.onChange_=this.onChange_.bind(this),this.props_=r.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(Gn()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("div");i.classList.add(Gn("t")),r.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;var o=n.createElement("div");o.classList.add(Gn("k")),this.trackElement.appendChild(o),this.knobElement=o,r.value.emitter.on("change",this.onChange_),this.value=r.value,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=Bn(Kn(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width="".concat(t,"%")}},{key:"onChange_",value:function(){this.update_()}}]),e}(),Wn=function(){function e(n,r){t(zt)(this,e),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=r.baseStep,this.value=r.value,this.viewProps=r.viewProps,this.props=r.props,this.view=new Yn(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}return t($t)(e,[{key:"handlePointerEvent_",value:function(t,e){t.point&&this.value.setRawValue(Kn(Bn(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),e)}},{key:"onPointerDownOrMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(t){var e=On(this.baseStep_,Dn(t));0!==e&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}},{key:"onKeyUp_",value:function(t){0!==On(this.baseStep_,Dn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),e}(),$n=b("sldtxt"),Xn=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add($n());var i=n.createElement("div");i.classList.add($n("s")),this.sliderView_=r.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);var o=n.createElement("div");o.classList.add($n("t")),this.textView_=r.textView,o.appendChild(this.textView_.element),this.element.appendChild(o)},Jn=function(){function e(n,r){t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.sliderC_=new Wn(n,{baseStep:r.baseStep,props:r.sliderProps,value:r.value,viewProps:this.viewProps}),this.textC_=new qn(n,{baseStep:r.baseStep,parser:r.parser,props:r.textProps,value:r.value,viewProps:r.viewProps}),this.view=new Xn(n,{sliderView:this.sliderC_.view,textView:this.textC_.view})}return t($t)(e,[{key:"sliderController",get:function(){return this.sliderC_}},{key:"textController",get:function(){return this.textC_}}]),e}();function Qn(t,e){t.write(e)}function Zn(t){var e=T;return Array.isArray(t)?e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(t).value:"object"==typeof t?e.required.raw(t).value:void 0}function tr(t){if("inline"===t||"popup"===t)return t}function er(t){var e=T;return e.required.object({max:e.optional.number,min:e.optional.number,step:e.optional.number})(t).value}function nr(t){if(Array.isArray(t))return t;var e=[];return Object.keys(t).forEach((function(n){e.push({text:n,value:t[n]})})),e}function rr(t){return u(t)?null:new Ce(nr(l(t)))}function ir(t){var e=t?ke(t,Ce):null;return e?e.options:null}function or(t){var e=t?ke(t,Ee):null;return e?e.step:null}function ar(t,e){var n=t&&ke(t,Ee);return n?Nn(n.step):Math.max(Nn(e),2)}function sr(t){var e=or(t);return null!=e?e:1}function lr(t,e){var n,r=t&&ke(t,Ee),i=Math.abs(null!==(n=null==r?void 0:r.step)&&void 0!==n?n:e);return 0===i?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}var ur=b("ckb"),cr=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(ur()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("label");i.classList.add(ur("l")),this.element.appendChild(i);var o=n.createElement("input");o.classList.add(ur("i")),o.type="checkbox",i.appendChild(o),this.inputElement=o,r.viewProps.bindDisabled(this.inputElement);var a=n.createElement("div");a.classList.add(ur("w")),i.appendChild(a);var s=Q(n,"check");a.appendChild(s),r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.update_()}return t($t)(e,[{key:"update_",value:function(){this.inputElement.checked=this.value.rawValue}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),pr=function(){function e(n,r){t(zt)(this,e),this.onInputChange_=this.onInputChange_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new cr(n,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t($t)(e,[{key:"onInputChange_",value:function(t){var e=l(t.currentTarget);this.value.rawValue=e.checked}}]),e}();function dr(t){var e=[],n=rr(t.options);return n&&e.push(n),new xe(e)}var hr={id:"input-bool",type:"input",accept:function(t,e){if("boolean"!=typeof t)return null;var n=U(e,{options:T.optional.custom(Zn)});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Te},constraint:function(t){return dr(t.params)},writer:function(t){return Qn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&ke(i,Ce)?new Me(n,{props:A.fromObject({options:null!==(e=ir(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new pr(n,{value:r,viewProps:t.viewProps})}},vr=b("col"),fr=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(vr()),r.foldable.bindExpandedClass(this.element,vr(void 0,"expanded")),y(r.foldable,"completed",k(this.element,vr(void 0,"cpl")));var i=n.createElement("div");i.classList.add(vr("h")),this.element.appendChild(i);var o=n.createElement("div");o.classList.add(vr("s")),i.appendChild(o),this.swatchElement=o;var a=n.createElement("div");if(a.classList.add(vr("t")),i.appendChild(a),this.textElement=a,"inline"===r.pickerLayout){var s=n.createElement("div");s.classList.add(vr("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null};function mr(t,e,n){var r=Bn(t/255,0,1),i=Bn(e/255,0,1),o=Bn(n/255,0,1),a=Math.max(r,i,o),s=Math.min(r,i,o),l=a-s,u=0,c=0,p=(s+a)/2;return 0!==l&&(c=l/(1-Math.abs(a+s-1)),u=(u=r===a?(i-o)/l:i===a?2+(o-r)/l:4+(r-i)/l)/6+(u<0?1:0)),[360*u,100*c,100*p]}function br(t,e,n){var r,i,o,a,s,l,u,c,p,d=(t%360+360)%360,h=Bn(e/100,0,1),v=Bn(n/100,0,1),f=(1-Math.abs(2*v-1))*h,m=f*(1-Math.abs(d/60%2-1)),b=v-f/2;return d>=0&&d<60?(r=(a=[f,m,0])[0],i=a[1],o=a[2]):d>=60&&d<120?(r=(s=[m,f,0])[0],i=s[1],o=s[2]):d>=120&&d<180?(r=(l=[0,f,m])[0],i=l[1],o=l[2]):d>=180&&d<240?(r=(u=[0,m,f])[0],i=u[1],o=u[2]):d>=240&&d<300?(r=(c=[m,0,f])[0],i=c[1],o=c[2]):(r=(p=[f,0,m])[0],i=p[1],o=p[2]),[255*(r+b),255*(i+b),255*(o+b)]}function _r(t,e,n){var r=Bn(t/255,0,1),i=Bn(e/255,0,1),o=Bn(n/255,0,1),a=Math.max(r,i,o),s=a-Math.min(r,i,o);return[0===s?0:a===r?((i-o)/s%6+6)%6*60:a===i?60*((o-r)/s+2):60*((r-i)/s+4),100*(0===a?0:s/a),100*a]}function gr(t,e,n){var r,i,o,a,s,l,u,c,p,d=Fn(t,360),h=Bn(e/100,0,1),v=Bn(n/100,0,1),f=v*h,m=f*(1-Math.abs(d/60%2-1)),b=v-f;return d>=0&&d<60?(r=(a=[f,m,0])[0],i=a[1],o=a[2]):d>=60&&d<120?(r=(s=[m,f,0])[0],i=s[1],o=s[2]):d>=120&&d<180?(r=(l=[0,f,m])[0],i=l[1],o=l[2]):d>=180&&d<240?(r=(u=[0,m,f])[0],i=u[1],o=u[2]):d>=240&&d<300?(r=(c=[m,0,f])[0],i=c[1],o=c[2]):(r=(p=[f,0,m])[0],i=p[1],o=p[2]),[255*(r+b),255*(i+b),255*(o+b)]}function wr(t,e,n){var r=n+e*(100-Math.abs(2*n-100))/200;return[t,0!==r?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/200]}function yr(t,e,n){var r=100-Math.abs(n*(200-e)/100-100);return[t,0!==r?e*n/r:0,n*(200-e)/200]}function xr(t){return[t[0],t[1],t[2]]}function kr(t,e){return[t[0],t[1],t[2],e]}var Cr={hsl:{hsl:function(t,e,n){return[t,e,n]},hsv:wr,rgb:br},hsv:{hsl:yr,hsv:function(t,e,n){return[t,e,n]},rgb:gr},rgb:{hsl:mr,hsv:_r,rgb:function(t,e,n){return[t,e,n]}}};function Pr(e,n,r){var i;return(i=Cr[n])[r].apply(i,t(ce)(e))}var Er={hsl:function(t){var e;return[Fn(t[0],360),Bn(t[1],0,100),Bn(t[2],0,100),Bn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},hsv:function(t){var e;return[Fn(t[0],360),Bn(t[1],0,100),Bn(t[2],0,100),Bn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},rgb:function(t){var e;return[Bn(t[0],0,255),Bn(t[1],0,255),Bn(t[2],0,255),Bn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]}};function Vr(t,e){return"object"==typeof t&&!u(t)&&e in t&&"number"==typeof t[e]}var Sr=function(){function e(n,r){t(zt)(this,e),this.mode_=r,this.comps_=Er[r](n)}return t($t)(e,[{key:"mode",get:function(){return this.mode_}},{key:"getComponents",value:function(t){return kr(Pr(xr(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}},{key:"toRgbaObject",value:function(){var t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}],[{key:"black",value:function(){return new e([0,0,0],"rgb")}},{key:"fromObject",value:function(t){return new e("a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b],"rgb")}},{key:"toRgbaObject",value:function(t){return t.toRgbaObject()}},{key:"isRgbColorObject",value:function(t){return Vr(t,"r")&&Vr(t,"g")&&Vr(t,"b")}},{key:"isRgbaColorObject",value:function(t){return this.isRgbColorObject(t)&&Vr(t,"a")}},{key:"isColorObject",value:function(t){return this.isRgbColorObject(t)}},{key:"equals",value:function(t,e){if(t.mode_!==e.mode_)return!1;for(var n=t.comps_,r=e.comps_,i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}}]),e}(),Mr=b("colp"),Lr=function(){function e(n,r){t(zt)(this,e),this.alphaViews_=null,this.element=n.createElement("div"),this.element.classList.add(Mr());var i=n.createElement("div");i.classList.add(Mr("hsv"));var o=n.createElement("div");o.classList.add(Mr("sv")),this.svPaletteView_=r.svPaletteView,o.appendChild(this.svPaletteView_.element),i.appendChild(o);var a=n.createElement("div");a.classList.add(Mr("h")),this.hPaletteView_=r.hPaletteView,a.appendChild(this.hPaletteView_.element),i.appendChild(a),this.element.appendChild(i);var s=n.createElement("div");if(s.classList.add(Mr("rgb")),this.textView_=r.textView,s.appendChild(this.textView_.element),this.element.appendChild(s),r.alphaViews){this.alphaViews_={palette:r.alphaViews.palette,text:r.alphaViews.text};var l=n.createElement("div");l.classList.add(Mr("a"));var u=n.createElement("div");u.classList.add(Mr("ap")),u.appendChild(this.alphaViews_.palette.element),l.appendChild(u);var c=n.createElement("div");c.classList.add(Mr("at")),c.appendChild(this.alphaViews_.text.element),l.appendChild(c),this.element.appendChild(l)}}return t($t)(e,[{key:"allFocusableElements",get:function(){var e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement].concat(t(ce)(this.textView_.textViews.map((function(t){return t.inputElement}))));return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}]),e}();function Ar(t){var e=T;return U(t,{alpha:e.optional.boolean,expanded:e.optional.boolean,picker:e.optional.custom(tr)})}function Or(t){return t?.1:1}function jr(t,e){var n=t.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*e,e):Math.min(parseFloat(t),e)}var Dr={deg:function(t){return t},grad:function(t){return 360*t/400},rad:function(t){return 360*t/(2*Math.PI)},turn:function(t){return 360*t}};function Ir(t){var e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);var n=parseFloat(e[1]),r=e[2];return Dr[r](n)}var Rr={"func.rgb":function(t){var e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[jr(e[1],255),jr(e[2],255),jr(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Sr(n,"rgb")},"func.rgba":function(t){var e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[jr(e[1],255),jr(e[2],255),jr(e[3],255),jr(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Sr(n,"rgb")},"func.hsl":function(t){var e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Ir(e[1]),jr(e[2],100),jr(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Sr(n,"hsl")},"func.hsla":function(t){var e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Ir(e[1]),jr(e[2],100),jr(e[3],100),jr(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Sr(n,"hsl")},"hex.rgb":function(t){var e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Sr([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)],"rgb");var n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Sr([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Sr([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Kn(parseInt(e[4]+e[4],16),0,255,0,1)],"rgb");var n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Sr([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Kn(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function Tr(t){return Object.keys(Rr).reduce((function(e,n){return e||((0,Rr[n])(t)?n:null)}),null)}var Ur=function(t){var e=Tr(t);return e?Rr[e](t):null};function Kr(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}function Nr(t){if("string"==typeof t){var e=Ur(t);if(e)return e}return Sr.black()}function Br(t){var e=Bn(Math.floor(t),0,255).toString(16);return 1===e.length?"0".concat(e):e}function Fr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=xr(t.getComponents("rgb")).map(Br).join("");return"".concat(e).concat(n)}function zr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=t.getComponents("rgb"),r=[n[0],n[1],n[2],255*n[3]].map(Br).join("");return"".concat(e).concat(r)}function Hr(t){var e=xn(0),n=xr(t.getComponents("rgb")).map((function(t){return e(t)}));return"rgb(".concat(n.join(", "),")")}function qr(t){var e=xn(2),n=xn(0),r=t.getComponents("rgb").map((function(t,r){return(3===r?e:n)(t)}));return"rgba(".concat(r.join(", "),")")}function Gr(t){var e=[xn(0),Cn,Cn],n=xr(t.getComponents("hsl")).map((function(t,n){return e[n](t)}));return"hsl(".concat(n.join(", "),")")}function Yr(t){var e=[xn(0),Cn,Cn,xn(2)],n=t.getComponents("hsl").map((function(t,n){return e[n](t)}));return"hsla(".concat(n.join(", "),")")}var Wr={"func.hsl":Gr,"func.hsla":Yr,"func.rgb":Hr,"func.rgba":qr,"hex.rgb":Fr,"hex.rgba":zr};function $r(t){return Wr[t]}var Xr=b("apl"),Jr=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(Xr()),r.viewProps.bindTabIndex(this.element);var i=n.createElement("div");i.classList.add(Xr("b")),this.element.appendChild(i);var o=n.createElement("div");o.classList.add(Xr("c")),i.appendChild(o),this.colorElem_=o;var a=n.createElement("div");a.classList.add(Xr("m")),this.element.appendChild(a),this.markerElem_=a;var s=n.createElement("div");s.classList.add(Xr("p")),this.markerElem_.appendChild(s),this.previewElem_=s,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=this.value.rawValue,e=t.getComponents("rgb"),n=new Sr([e[0],e[1],e[2],0],"rgb"),r=new Sr([e[0],e[1],e[2],255],"rgb"),i=["to right",qr(n),qr(r)];this.colorElem_.style.background="linear-gradient(".concat(i.join(","),")"),this.previewElem_.style.backgroundColor=qr(t);var o=Kn(e[3],0,1,0,100);this.markerElem_.style.left="".concat(o,"%")}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),Qr=function(){function e(n,r){t(zt)(this,e),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new Jr(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return t($t)(e,[{key:"handlePointerEvent_",value:function(e,n){if(e.point){var r=e.point.x/e.bounds.width,i=this.value.rawValue,o=t(ie)(i.getComponents("hsv"),3),a=o[0],s=o[1],l=o[2];this.value.setRawValue(new Sr([a,s,l,r],"hsv"),n)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(e){var n=On(Or(!0),Dn(e));if(0!==n){var r=this.value.rawValue,i=t(ie)(r.getComponents("hsv"),4),o=i[0],a=i[1],s=i[2],l=i[3];this.value.setRawValue(new Sr([o,a,s,l+n],"hsv"),{forceEmit:!1,last:!1})}}},{key:"onKeyUp_",value:function(t){0!==On(Or(!0),Dn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),e}(),Zr=b("coltxt");function ti(t){var e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return e.appendChild(n.reduce((function(e,n){var r=t.createElement("option");return r.textContent=n.text,r.value=n.value,e.appendChild(r),e}),t.createDocumentFragment())),e}var ei=function(){function e(n,r){var i=this;t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add(Zr());var o=n.createElement("div");o.classList.add(Zr("m")),this.modeElem_=ti(n),this.modeElem_.classList.add(Zr("ms")),o.appendChild(this.modeSelectElement);var a=n.createElement("div");a.classList.add(Zr("mm")),a.appendChild(Q(n,"dropdown")),o.appendChild(a),this.element.appendChild(o);var s=n.createElement("div");s.classList.add(Zr("w")),this.element.appendChild(s),this.textsElem_=s,this.textViews_=r.textViews,this.applyTextViews_(),w(r.colorMode,(function(t){i.modeElem_.value=t}))}return t($t)(e,[{key:"modeSelectElement",get:function(){return this.modeElem_}},{key:"textViews",get:function(){return this.textViews_},set:function(t){this.textViews_=t,this.applyTextViews_()}},{key:"applyTextViews_",value:function(){var t=this;et(this.textsElem_);var e=this.element.ownerDocument;this.textViews_.forEach((function(n){var r=e.createElement("div");r.classList.add(Zr("c")),r.appendChild(n.element),t.textsElem_.appendChild(r)}))}}]),e}(),ni=xn(0),ri={rgb:function(){return new Pe({min:0,max:255})},hsl:function(t){return new Pe(0===t?{min:0,max:360}:{min:0,max:100})},hsv:function(t){return new Pe(0===t?{min:0,max:360}:{min:0,max:100})}};function ii(t,e,n){return new qn(t,{arrayPosition:0===n?"fst":2===n?"lst":"mid",baseStep:Or(!1),parser:e.parser,props:A.fromObject({draggingScale:1,formatter:ni}),value:L(0,{constraint:ri[e.colorMode](n)}),viewProps:e.viewProps})}var oi=function(){function e(n,r){t(zt)(this,e),this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=r.parser,this.value=r.value,this.viewProps=r.viewProps,this.colorMode=L(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(n),this.view=new ei(n,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return t($t)(e,[{key:"createComponentControllers_",value:function(t){var e=this,n={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},r=[ii(t,n,0),ii(t,n,1),ii(t,n,2)];return r.forEach((function(t,n){var r=e;An({primary:e.value,secondary:t.value,forward:function(t){return t.rawValue.getComponents(r.colorMode.rawValue)[n]},backward:function(t,e){var i=r.colorMode.rawValue,o=t.rawValue.getComponents(i);return o[n]=e.rawValue,new Sr(kr(xr(o),o[3]),i)}})})),r}},{key:"onModeSelectChange_",value:function(t){var e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}]),e}(),ai=b("hpl"),si=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(ai()),r.viewProps.bindTabIndex(this.element);var i=n.createElement("div");i.classList.add(ai("c")),this.element.appendChild(i);var o=n.createElement("div");o.classList.add(ai("m")),this.element.appendChild(o),this.markerElem_=o,this.update_()}return t($t)(e,[{key:"update_",value:function(){var e=this.value.rawValue,n=t(ie)(e.getComponents("hsv"),1)[0];this.markerElem_.style.backgroundColor=Hr(new Sr([n,100,100],"hsv"));var r=Kn(n,0,360,0,100);this.markerElem_.style.left="".concat(r,"%")}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),li=function(){function e(n,r){t(zt)(this,e),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new si(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return t($t)(e,[{key:"handlePointerEvent_",value:function(e,n){if(e.point){var r=Kn(Bn(e.point.x,0,e.bounds.width),0,e.bounds.width,0,359),i=this.value.rawValue,o=t(ie)(i.getComponents("hsv"),4),a=o[1],s=o[2],l=o[3];this.value.setRawValue(new Sr([r,a,s,l],"hsv"),n)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(e){var n=On(Or(!1),Dn(e));if(0!==n){var r=this.value.rawValue,i=t(ie)(r.getComponents("hsv"),4),o=i[0],a=i[1],s=i[2],l=i[3];this.value.setRawValue(new Sr([o+n,a,s,l],"hsv"),{forceEmit:!1,last:!1})}}},{key:"onKeyUp_",value:function(t){0!==On(Or(!1),Dn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),e}(),ui=b("svp"),ci=64,pi=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.value=r.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(ui()),r.viewProps.bindTabIndex(this.element);var i=n.createElement("canvas");i.height=ci,i.width=ci,i.classList.add(ui("c")),this.element.appendChild(i),this.canvasElement=i;var o=n.createElement("div");o.classList.add(ui("m")),this.element.appendChild(o),this.markerElem_=o,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=X(this.canvasElement);if(t){for(var e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,i=t.getImageData(0,0,n,r),o=i.data,a=0;a<r;a++)for(var s=0;s<n;s++){var l=Kn(s,0,n,0,100),u=Kn(a,0,r,100,0),c=gr(e[0],l,u),p=4*(a*n+s);o[p]=c[0],o[p+1]=c[1],o[p+2]=c[2],o[p+3]=255}t.putImageData(i,0,0);var d=Kn(e[1],0,100,0,100);this.markerElem_.style.left="".concat(d,"%");var h=Kn(e[2],0,100,100,0);this.markerElem_.style.top="".concat(h,"%")}}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),di=function(){function e(n,r){t(zt)(this,e),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.view=new pi(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return t($t)(e,[{key:"handlePointerEvent_",value:function(e,n){if(e.point){var r=Kn(e.point.x,0,e.bounds.width,0,100),i=Kn(e.point.y,0,e.bounds.height,100,0),o=t(ie)(this.value.rawValue.getComponents("hsv"),4),a=o[0],s=o[3];this.value.setRawValue(new Sr([a,r,i,s],"hsv"),n)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(e){Rn(e.key)&&e.preventDefault();var n=t(ie)(this.value.rawValue.getComponents("hsv"),4),r=n[0],i=n[1],o=n[2],a=n[3],s=Or(!1),l=On(s,Dn(e)),u=On(s,jn(e));0===l&&0===u||this.value.setRawValue(new Sr([r,i+l,o+u,a],"hsv"),{forceEmit:!1,last:!1})}},{key:"onKeyUp_",value:function(t){var e=Or(!1),n=On(e,Dn(t)),r=On(e,jn(t));0===n&&0===r||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),e}(),hi=function(){function e(n,r){t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.hPaletteC_=new li(n,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new di(n,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=r.supportsAlpha?{palette:new Qr(n,{value:this.value,viewProps:this.viewProps}),text:new qn(n,{parser:gn,baseStep:.1,props:A.fromObject({draggingScale:.01,formatter:xn(2)}),value:L(0,{constraint:new Pe({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&An({primary:this.value,secondary:this.alphaIcs_.text.value,forward:function(t){return t.rawValue.getComponents()[3]},backward:function(t,e){var n=t.rawValue.getComponents();return n[3]=e.rawValue,new Sr(n,t.rawValue.mode)}}),this.textC_=new oi(n,{parser:gn,value:this.value,viewProps:this.viewProps}),this.view=new Lr(n,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:r.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}return t($t)(e,[{key:"textController",get:function(){return this.textC_}}]),e}(),vi=b("colsw"),fi=function(){function e(n,r){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.element=n.createElement("div"),this.element.classList.add(vi()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("div");i.classList.add(vi("sw")),this.element.appendChild(i),this.swatchElem_=i;var o=n.createElement("button");o.classList.add(vi("b")),r.viewProps.bindDisabled(o),this.element.appendChild(o),this.buttonElement=o,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=zr(t)}},{key:"onValueChange_",value:function(){this.update_()}}]),e}(),mi=function e(n,r){t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.view=new fi(n,{value:this.value,viewProps:this.viewProps})},bi=function(){function e(n,r){var i=this;t(zt)(this,e),this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.foldable_=pt.create(r.expanded),this.swatchC_=new mi(n,{value:this.value,viewProps:this.viewProps});var o=this.swatchC_.view.buttonElement;o.addEventListener("blur",this.onButtonBlur_),o.addEventListener("click",this.onButtonClick_),this.textC_=new Ie(n,{parser:r.parser,props:A.fromObject({formatter:r.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new fr(n,{foldable:this.foldable_,pickerLayout:r.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===r.pickerLayout?new Oe(n,{viewProps:this.viewProps}):null;var a=new hi(n,{supportsAlpha:r.supportsAlpha,value:this.value,viewProps:this.viewProps});a.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",i.onPopupChildBlur_),t.addEventListener("keydown",i.onPopupChildKeydown_)})),this.pickerC_=a,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(a.view.element),An({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),vt(this.foldable_,this.view.pickerElement))}return t($t)(e,[{key:"textController",get:function(){return this.textC_}},{key:"onButtonBlur_",value:function(t){if(this.popC_){var e=this.view.element,n=l(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}}},{key:"onButtonClick_",value:function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}},{key:"onPopupChildBlur_",value:function(t){if(this.popC_){var e=this.popC_.view.element,n=rt(t);n&&e.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!Y(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}}},{key:"onPopupChildKeydown_",value:function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.swatchC_.view.buttonElement.focus()}}]),e}();function _i(t){return Sr.isColorObject(t)?Sr.fromObject(t):Sr.black()}function gi(t){return xr(t.getComponents("rgb")).reduce((function(t,e){return t<<8|255&Math.floor(e)}),0)}function wi(t){return t.getComponents("rgb").reduce((function(t,e,n){return t<<8|255&Math.floor(3===n?255*e:e)}),0)>>>0}function yi(t){return new Sr([t>>16&255,t>>8&255,255&t],"rgb")}function xi(t){return new Sr([t>>24&255,t>>16&255,t>>8&255,Kn(255&t,0,255,0,1)],"rgb")}function ki(t){return"number"!=typeof t?Sr.black():yi(t)}function Ci(t){return"number"!=typeof t?Sr.black():xi(t)}function Pi(t){var e=$r(t);return function(t,n){Qn(t,e(n))}}function Ei(t){var e=t?wi:gi;return function(t,n){Qn(t,e(n))}}function Vi(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b),t.writeProperty("a",n.a)}function Si(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b)}function Mi(t){return t?Vi:Si}function Li(t){return"alpha"in t&&!0===t.alpha}function Ai(t){return t?function(t){return zr(t,"0x")}:function(t){return Fr(t,"0x")}}var Oi={id:"input-color-number",type:"input",accept:function(t,e){if("number"!=typeof t)return null;if(!("view"in e))return null;if("color"!==e.view)return null;var n=Ar(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Li(t.params)?Ci:ki},equals:Sr.equals,writer:function(t){return Ei(Li(t.params))}},controller:function(t){var e=Li(t.params),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0;return new bi(t.document,{expanded:null!=n&&n,formatter:Ai(e),parser:Ur,pickerLayout:null!=r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}};function ji(t){return Sr.isRgbaColorObject(t)}var Di={id:"input-color-object",type:"input",accept:function(t,e){if(!Sr.isColorObject(t))return null;var n=Ar(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return _i},equals:Sr.equals,writer:function(t){return Mi(ji(t.initialValue))}},controller:function(t){var e=Sr.isRgbaColorObject(t.initialValue),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0,i=e?zr:Fr;return new bi(t.document,{expanded:null!=n&&n,formatter:i,parser:Ur,pickerLayout:null!=r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}},Ii={id:"input-color-string",type:"input",accept:function(t,e){if("string"!=typeof t)return null;if("view"in e&&"text"===e.view)return null;if(!Tr(t))return null;var n=Ar(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Nr},equals:Sr.equals,writer:function(t){var e=Tr(t.initialValue);if(!e)throw d.shouldNeverHappen();return Pi(e)}},controller:function(t){var e=Tr(t.initialValue);if(!e)throw d.shouldNeverHappen();var n=$r(e),r="expanded"in t.params?t.params.expanded:void 0,i="picker"in t.params?t.params.picker:void 0;return new bi(t.document,{expanded:null!=r&&r,formatter:n,parser:Ur,pickerLayout:null!=i?i:"popup",supportsAlpha:Kr(e),value:t.value,viewProps:t.viewProps})}},Ri=function(){function e(n){t(zt)(this,e),this.components=n.components,this.asm_=n.assembly}return t($t)(e,[{key:"constrain",value:function(t){var e=this,n=this.asm_.toComponents(t).map((function(t,n){var r,i;return null!==(i=null===(r=e.components[n])||void 0===r?void 0:r.constrain(t))&&void 0!==i?i:t}));return this.asm_.fromComponents(n)}}]),e}(),Ti=b("pndtxt"),Ui=function e(n,r){var i=this;t(zt)(this,e),this.textViews=r.textViews,this.element=n.createElement("div"),this.element.classList.add(Ti()),this.textViews.forEach((function(t){var e=n.createElement("div");e.classList.add(Ti("a")),e.appendChild(t.element),i.element.appendChild(e)}))};function Ki(t,e,n){return new qn(t,{arrayPosition:0===n?"fst":n===e.axes.length-1?"lst":"mid",baseStep:e.axes[n].baseStep,parser:e.parser,props:e.axes[n].textProps,value:L(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}var Ni=function e(n,r){var i=this;t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.acs_=r.axes.map((function(t,e){return Ki(n,r,e)})),this.acs_.forEach((function(t,e){An({primary:i.value,secondary:t.value,forward:function(t){return r.assembly.toComponents(t.rawValue)[e]},backward:function(t,n){var i=r.assembly.toComponents(t.rawValue);return i[e]=n.rawValue,r.assembly.fromComponents(i)}})})),this.view=new Ui(n,{textViews:this.acs_.map((function(t){return t.view}))})};function Bi(t){return"step"in t&&!u(t.step)?new Ee(t.step):null}function Fi(t){return"max"in t&&!u(t.max)||"min"in t&&!u(t.min)?new Pe({max:t.max,min:t.min}):null}function zi(t){var e=[],n=Bi(t);n&&e.push(n);var r=Fi(t);r&&e.push(r);var i=rr(t.options);return i&&e.push(i),new xe(e)}function Hi(t){var e=t?ke(t,Pe):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}function qi(e){var n=t(ie)(Hi(e),2),r=n[0],i=n[1];return[null!=r?r:0,null!=i?i:100]}var Gi={id:"input-number",type:"input",accept:function(t,e){if("number"!=typeof t)return null;var n=T,r=U(e,{format:n.optional.function,max:n.optional.number,min:n.optional.number,options:n.optional.custom(Zn),step:n.optional.number});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return wn},constraint:function(t){return zi(t.params)},writer:function(t){return Qn}},controller:function(e){var n,r,i=e.value,o=e.constraint;if(o&&ke(o,Ce))return new Me(e.document,{props:A.fromObject({options:null!==(n=ir(o))&&void 0!==n?n:[]}),value:i,viewProps:e.viewProps});var a=null!==(r="format"in e.params?e.params.format:void 0)&&void 0!==r?r:xn(ar(o,i.rawValue));if(o&&ke(o,Pe)){var s=t(ie)(qi(o),2),l=s[0],u=s[1];return new Jn(e.document,{baseStep:sr(o),parser:gn,sliderProps:A.fromObject({maxValue:u,minValue:l}),textProps:A.fromObject({draggingScale:lr(o,i.rawValue),formatter:a}),value:i,viewProps:e.viewProps})}return new qn(e.document,{baseStep:sr(o),parser:gn,props:A.fromObject({draggingScale:lr(o,i.rawValue),formatter:a}),value:i,viewProps:e.viewProps})}},Yi=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t(zt)(this,e),this.x=n,this.y=r}return t($t)(e,[{key:"getComponents",value:function(){return[this.x,this.y]}},{key:"toObject",value:function(){return{x:this.x,y:this.y}}}],[{key:"isObject",value:function(t){if(u(t))return!1;var e=t.x,n=t.y;return"number"==typeof e&&"number"==typeof n}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y}}]),e}(),Wi={toComponents:function(t){return t.getComponents()},fromComponents:function(e){return t(Ht)(Yi,t(ce)(e))}},$i=b("p2d"),Xi=function e(n,r){t(zt)(this,e),this.element=n.createElement("div"),this.element.classList.add($i()),r.viewProps.bindClassModifiers(this.element),w(r.expanded,k(this.element,$i(void 0,"expanded")));var i=n.createElement("div");i.classList.add($i("h")),this.element.appendChild(i);var o=n.createElement("button");o.classList.add($i("b")),o.appendChild(Q(n,"p2dpad")),r.viewProps.bindDisabled(o),i.appendChild(o),this.buttonElement=o;var a=n.createElement("div");if(a.classList.add($i("t")),i.appendChild(a),this.textElement=a,"inline"===r.pickerLayout){var s=n.createElement("div");s.classList.add($i("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null},Ji=b("p2dp"),Qi=function(){function e(n,r){t(zt)(this,e),this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=r.invertsY,this.maxValue_=r.maxValue,this.element=n.createElement("div"),this.element.classList.add(Ji()),"popup"===r.layout&&this.element.classList.add(Ji(void 0,"p"));var i=n.createElement("div");i.classList.add(Ji("p")),r.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;var o=n.createElementNS(H,"svg");o.classList.add(Ji("g")),this.padElement.appendChild(o),this.svgElem_=o;var a=n.createElementNS(H,"line");a.classList.add(Ji("ax")),a.setAttributeNS(null,"x1","0"),a.setAttributeNS(null,"y1","50%"),a.setAttributeNS(null,"x2","100%"),a.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(a);var s=n.createElementNS(H,"line");s.classList.add(Ji("ax")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","0"),s.setAttributeNS(null,"x2","50%"),s.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(s);var l=n.createElementNS(H,"line");l.classList.add(Ji("l")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(l),this.lineElem_=l;var u=n.createElement("div");u.classList.add(Ji("m")),this.padElement.appendChild(u),this.markerElem_=u,r.value.emitter.on("change",this.onValueChange_),this.value=r.value,this.update_()}return t($t)(e,[{key:"allFocusableElements",get:function(){return[this.padElement]}},{key:"update_",value:function(){var e=t(ie)(this.value.rawValue.getComponents(),2),n=e[0],r=e[1],i=this.maxValue_,o=Kn(n,-i,+i,0,100),a=Kn(r,-i,+i,0,100),s=this.invertsY_?100-a:a;this.lineElem_.setAttributeNS(null,"x2","".concat(o,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(s,"%")),this.markerElem_.style.left="".concat(o,"%"),this.markerElem_.style.top="".concat(s,"%")}},{key:"onValueChange_",value:function(){this.update_()}},{key:"onFoldableChange_",value:function(){this.update_()}}]),e}();function Zi(t,e,n){return[On(e[0],Dn(t)),On(e[1],jn(t))*(n?1:-1)]}var to=function(){function e(n,r){t(zt)(this,e),this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.baseSteps_=r.baseSteps,this.maxValue_=r.maxValue,this.invertsY_=r.invertsY,this.view=new Qi(n,{invertsY:this.invertsY_,layout:r.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}return t($t)(e,[{key:"handlePointerEvent_",value:function(t,e){if(t.point){var n=this.maxValue_,r=Kn(t.point.x,0,t.bounds.width,-n,+n),i=Kn(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-n,+n);this.value.setRawValue(new Yi(r,i),e)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onPadKeyDown_",value:function(e){Rn(e.key)&&e.preventDefault();var n=t(ie)(Zi(e,this.baseSteps_,this.invertsY_),2),r=n[0],i=n[1];0===r&&0===i||this.value.setRawValue(new Yi(this.value.rawValue.x+r,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}},{key:"onPadKeyUp_",value:function(e){var n=t(ie)(Zi(e,this.baseSteps_,this.invertsY_),2),r=n[0],i=n[1];0===r&&0===i||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),e}(),eo=function(){function e(n,r){var i,o,a=this;t(zt)(this,e),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.foldable_=pt.create(r.expanded),this.popC_="popup"===r.pickerLayout?new Oe(n,{viewProps:this.viewProps}):null;var s=new to(n,{baseSteps:[r.axes[0].baseStep,r.axes[1].baseStep],invertsY:r.invertsY,layout:r.pickerLayout,maxValue:r.maxValue,value:this.value,viewProps:this.viewProps});s.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",a.onPopupChildBlur_),t.addEventListener("keydown",a.onPopupChildKeydown_)})),this.pickerC_=s,this.textC_=new Ni(n,{assembly:Wi,axes:r.axes,parser:r.parser,value:this.value,viewProps:this.viewProps}),this.view=new Xi(n,{expanded:this.foldable_.value("expanded"),pickerLayout:r.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(i=this.view.buttonElement)||void 0===i||i.addEventListener("blur",this.onPadButtonBlur_),null===(o=this.view.buttonElement)||void 0===o||o.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),An({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),vt(this.foldable_,this.view.pickerElement))}return t($t)(e,[{key:"onPadButtonBlur_",value:function(t){if(this.popC_){var e=this.view.element,n=l(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}}},{key:"onPadButtonClick_",value:function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}},{key:"onPopupChildBlur_",value:function(t){if(this.popC_){var e=this.popC_.view.element,n=rt(t);n&&e.contains(n)||n&&n===this.view.buttonElement&&!Y(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}}},{key:"onPopupChildKeydown_",value:function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.view.buttonElement.focus()}}]),e}();function no(t){return Yi.isObject(t)?new Yi(t.x,t.y):new Yi}function ro(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function io(t){if(t){var e=[];return u(t.step)||e.push(new Ee(t.step)),u(t.max)&&u(t.min)||e.push(new Pe({max:t.max,min:t.min})),new xe(e)}}function oo(t){return new Ri({assembly:Wi,components:[io("x"in t?t.x:void 0),io("y"in t?t.y:void 0)]})}function ao(t,e){var n=t&&ke(t,Pe);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var r=sr(t);return Math.max(10*Math.abs(r),10*Math.abs(e))}function so(t,e){var n=e instanceof Ri?e.components[0]:void 0,r=e instanceof Ri?e.components[1]:void 0,i=ao(n,t.x),o=ao(r,t.y);return Math.max(i,o)}function lo(t,e){return{baseStep:sr(e),constraint:e,textProps:A.fromObject({draggingScale:lr(e,t),formatter:xn(ar(e,t))})}}function uo(t){if(!("y"in t))return!1;var e=t.y;return!!e&&"inverted"in e&&!!e.inverted}var co={id:"input-point2d",type:"input",accept:function(t,e){if(!Yi.isObject(t))return null;var n=T,r=U(e,{expanded:n.optional.boolean,picker:n.optional.custom(tr),x:n.optional.custom(er),y:n.optional.object({inverted:n.optional.boolean,max:n.optional.number,min:n.optional.number,step:n.optional.number})});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return no},constraint:function(t){return oo(t.params)},equals:Yi.equals,writer:function(t){return ro}},controller:function(t){var e=t.document,n=t.value,r=t.constraint;if(!(r instanceof Ri))throw d.shouldNeverHappen();var i="expanded"in t.params?t.params.expanded:void 0,o="picker"in t.params?t.params.picker:void 0;return new eo(e,{axes:[lo(n.rawValue.x,r.components[0]),lo(n.rawValue.y,r.components[1])],expanded:null!=i&&i,invertsY:uo(t.params),maxValue:so(n.rawValue,r),parser:gn,pickerLayout:null!=o?o:"popup",value:n,viewProps:t.viewProps})}},po=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t(zt)(this,e),this.x=n,this.y=r,this.z=i}return t($t)(e,[{key:"getComponents",value:function(){return[this.x,this.y,this.z]}},{key:"toObject",value:function(){return{x:this.x,y:this.y,z:this.z}}}],[{key:"isObject",value:function(t){if(u(t))return!1;var e=t.x,n=t.y,r=t.z;return"number"==typeof e&&"number"==typeof n&&"number"==typeof r}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}}]),e}(),ho={toComponents:function(t){return t.getComponents()},fromComponents:function(e){return t(Ht)(po,t(ce)(e))}};function vo(t){return po.isObject(t)?new po(t.x,t.y,t.z):new po}function fo(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function mo(t){if(t){var e=[];return u(t.step)||e.push(new Ee(t.step)),u(t.max)&&u(t.min)||e.push(new Pe({max:t.max,min:t.min})),new xe(e)}}function bo(t){return new Ri({assembly:ho,components:[mo("x"in t?t.x:void 0),mo("y"in t?t.y:void 0),mo("z"in t?t.z:void 0)]})}function _o(t,e){return{baseStep:sr(e),constraint:e,textProps:A.fromObject({draggingScale:lr(e,t),formatter:xn(ar(e,t))})}}var go={id:"input-point3d",type:"input",accept:function(t,e){if(!po.isObject(t))return null;var n=T,r=U(e,{x:n.optional.custom(er),y:n.optional.custom(er),z:n.optional.custom(er)});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return vo},constraint:function(t){return bo(t.params)},equals:po.equals,writer:function(t){return fo}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Ri))throw d.shouldNeverHappen();return new Ni(t.document,{assembly:ho,axes:[_o(e.rawValue.x,n.components[0]),_o(e.rawValue.y,n.components[1]),_o(e.rawValue.z,n.components[2])],parser:gn,value:e,viewProps:t.viewProps})}},wo=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t(zt)(this,e),this.x=n,this.y=r,this.z=i,this.w=o}return t($t)(e,[{key:"getComponents",value:function(){return[this.x,this.y,this.z,this.w]}},{key:"toObject",value:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}],[{key:"isObject",value:function(t){if(u(t))return!1;var e=t.x,n=t.y,r=t.z,i=t.w;return"number"==typeof e&&"number"==typeof n&&"number"==typeof r&&"number"==typeof i}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}}]),e}(),yo={toComponents:function(t){return t.getComponents()},fromComponents:function(e){return t(Ht)(wo,t(ce)(e))}};function xo(t){return wo.isObject(t)?new wo(t.x,t.y,t.z,t.w):new wo}function ko(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function Co(t){if(t){var e=[];return u(t.step)||e.push(new Ee(t.step)),u(t.max)&&u(t.min)||e.push(new Pe({max:t.max,min:t.min})),new xe(e)}}function Po(t){return new Ri({assembly:yo,components:[Co("x"in t?t.x:void 0),Co("y"in t?t.y:void 0),Co("z"in t?t.z:void 0),Co("w"in t?t.w:void 0)]})}function Eo(t,e){return{baseStep:sr(e),constraint:e,textProps:A.fromObject({draggingScale:lr(e,t),formatter:xn(ar(e,t))})}}var Vo={id:"input-point4d",type:"input",accept:function(t,e){if(!wo.isObject(t))return null;var n=T,r=U(e,{x:n.optional.custom(er),y:n.optional.custom(er),z:n.optional.custom(er),w:n.optional.custom(er)});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return xo},constraint:function(t){return Po(t.params)},equals:wo.equals,writer:function(t){return ko}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Ri))throw d.shouldNeverHappen();return new Ni(t.document,{assembly:yo,axes:e.rawValue.getComponents().map((function(t,e){return Eo(t,n.components[e])})),parser:gn,value:e,viewProps:t.viewProps})}};function So(t){var e=[],n=rr(t.options);return n&&e.push(n),new xe(e)}var Mo={id:"input-string",type:"input",accept:function(t,e){if("string"!=typeof t)return null;var n=U(e,{options:T.optional.custom(Zn)});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Pn},constraint:function(t){return So(t.params)},writer:function(t){return Qn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&ke(i,Ce)?new Me(n,{props:A.fromObject({options:null!==(e=ir(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new Ie(n,{parser:function(t){return t},props:A.fromObject({formatter:En}),value:r,viewProps:t.viewProps})}},Lo={monitor:{defaultInterval:200,defaultLineCount:3}},Ao=b("mll"),Oo=function(){function e(n,r){t(zt)(this,e),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=r.formatter,this.element=n.createElement("div"),this.element.classList.add(Ao()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("textarea");i.classList.add(Ao("i")),i.style.height="calc(var(--bld-us) * ".concat(r.lineCount,")"),i.readOnly=!0,r.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach((function(e){void 0!==e&&r.push(t.formatter_(e))})),e.textContent=r.join("\n"),n&&(e.scrollTop=e.scrollHeight)}},{key:"onValueUpdate_",value:function(){this.update_()}}]),e}(),jo=function e(n,r){t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.view=new Oo(n,{formatter:r.formatter,lineCount:r.lineCount,value:this.value,viewProps:this.viewProps})},Do=b("sgl"),Io=function(){function e(n,r){t(zt)(this,e),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=r.formatter,this.element=n.createElement("div"),this.element.classList.add(Do()),r.viewProps.bindClassModifiers(this.element);var i=n.createElement("input");i.classList.add(Do("i")),i.readOnly=!0,i.type="text",r.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}return t($t)(e,[{key:"update_",value:function(){var t=this.value.rawValue,e=t[t.length-1];this.inputElement.value=void 0!==e?this.formatter_(e):""}},{key:"onValueUpdate_",value:function(){this.update_()}}]),e}(),Ro=function e(n,r){t(zt)(this,e),this.value=r.value,this.viewProps=r.viewProps,this.view=new Io(n,{formatter:r.formatter,value:this.value,viewProps:this.viewProps})},To={id:"monitor-bool",type:"monitor",accept:function(t,e){if("boolean"!=typeof t)return null;var n=U(e,{lineCount:T.optional.number});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Te}},controller:function(t){var e;return 1===t.value.rawValue.length?new Ro(t.document,{formatter:Ue,value:t.value,viewProps:t.viewProps}):new jo(t.document,{formatter:Ue,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Lo.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}},Uo=function(){function e(){t(zt)(this,e),this.emitter=new f,this.index_=-1}return t($t)(e,[{key:"index",get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}]),e}(),Ko=b("grl"),No=function(){function e(n,r){t(zt)(this,e),this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=n.createElement("div"),this.element.classList.add(Ko()),r.viewProps.bindClassModifiers(this.element),this.formatter_=r.formatter,this.minValue_=r.minValue,this.maxValue_=r.maxValue,this.cursor_=r.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);var i=n.createElementNS(H,"svg");i.classList.add(Ko("g")),i.style.height="calc(var(--bld-us) * ".concat(r.lineCount,")"),this.element.appendChild(i),this.svgElem_=i;var o=n.createElementNS(H,"polyline");this.svgElem_.appendChild(o),this.lineElem_=o;var a=n.createElement("div");a.classList.add(Ko("t"),b("tt")()),this.element.appendChild(a),this.tooltipElem_=a,r.value.emitter.on("change",this.onValueUpdate_),this.value=r.value,this.update_()}return t($t)(e,[{key:"graphElement",get:function(){return this.svgElem_}},{key:"update_",value:function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,n=this.minValue_,r=this.maxValue_,i=[];this.value.rawValue.forEach((function(o,a){if(void 0!==o){var s=Kn(a,0,e,0,t.width),l=Kn(o,n,r,t.height,0);i.push([s,l].join(","))}})),this.lineElem_.setAttributeNS(null,"points",i.join(" "));var o=this.tooltipElem_,a=this.value.rawValue[this.cursor_.index];if(void 0!==a){var s=Kn(this.cursor_.index,0,e,0,t.width),l=Kn(a,n,r,t.height,0);o.style.left="".concat(s,"px"),o.style.top="".concat(l,"px"),o.textContent="".concat(this.formatter_(a)),o.classList.contains(Ko("t","a"))||(o.classList.add(Ko("t","a"),Ko("t","in")),q(o),o.classList.remove(Ko("t","in")))}else o.classList.remove(Ko("t","a"))}},{key:"onValueUpdate_",value:function(){this.update_()}},{key:"onCursorChange_",value:function(){this.update_()}}]),e}(),Bo=function(){function e(n,r){if(t(zt)(this,e),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=r.value,this.viewProps=r.viewProps,this.cursor_=new Uo,this.view=new No(n,{cursor:this.cursor_,formatter:r.formatter,lineCount:r.lineCount,maxValue:r.maxValue,minValue:r.minValue,value:this.value,viewProps:this.viewProps}),Y(n)){var i=new Un(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}return t($t)(e,[{key:"onGraphMouseLeave_",value:function(){this.cursor_.index=-1}},{key:"onGraphMouseMove_",value:function(t){var e=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Kn(t.offsetX,0,e.width,0,this.value.rawValue.length))}},{key:"onGraphPointerDown_",value:function(t){this.onGraphPointerMove_(t)}},{key:"onGraphPointerMove_",value:function(t){t.data.point?this.cursor_.index=Math.floor(Kn(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.index=-1}},{key:"onGraphPointerUp_",value:function(){this.cursor_.index=-1}}]),e}();function Fo(t){return"format"in t&&!u(t.format)?t.format:xn(2)}function zo(t){var e;return 1===t.value.rawValue.length?new Ro(t.document,{formatter:Fo(t.params),value:t.value,viewProps:t.viewProps}):new jo(t.document,{formatter:Fo(t.params),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Lo.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}function Ho(t){var e,n,r;return new Bo(t.document,{formatter:Fo(t.params),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Lo.monitor.defaultLineCount,maxValue:null!==(n="max"in t.params?t.params.max:null)&&void 0!==n?n:100,minValue:null!==(r="min"in t.params?t.params.min:null)&&void 0!==r?r:0,value:t.value,viewProps:t.viewProps})}function qo(t){return"view"in t&&"graph"===t.view}var Go={id:"monitor-number",type:"monitor",accept:function(t,e){if("number"!=typeof t)return null;var n=T,r=U(e,{format:n.optional.function,lineCount:n.optional.number,max:n.optional.number,min:n.optional.number,view:n.optional.string});return r?{initialValue:t,params:r}:null},binding:{defaultBufferSize:function(t){return qo(t)?64:1},reader:function(t){return wn}},controller:function(t){return qo(t.params)?Ho(t):zo(t)}},Yo={id:"monitor-string",type:"monitor",accept:function(t,e){if("string"!=typeof t)return null;var n=T,r=U(e,{lineCount:n.optional.number,multiline:n.optional.boolean});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return Pn}},controller:function(t){var e,n=t.value;return n.rawValue.length>1||"multiline"in t.params&&t.params.multiline?new jo(t.document,{formatter:En,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Lo.monitor.defaultLineCount,value:n,viewProps:t.viewProps}):new Ro(t.document,{formatter:En,value:n,viewProps:t.viewProps})}},Wo=function(){function e(n){t(zt)(this,e),this.onValueChange_=this.onValueChange_.bind(this),this.reader=n.reader,this.writer=n.writer,this.emitter=new f,this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.target=n.target,this.read()}return t($t)(e,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader(t))}},{key:"write_",value:function(t){this.writer(this.target,t)}},{key:"onValueChange_",value:function(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}]),e}();function $o(t,e){var n=t.accept(e.target.read(),e.params);if(u(n))return null;var r=T,i={target:e.target,initialValue:n.initialValue,params:n.params},o=t.binding.reader(i),a=t.binding.constraint?t.binding.constraint(i):void 0,s=L(o(n.initialValue),{constraint:a,equals:t.binding.equals}),l=new Wo({reader:o,target:e.target,value:s,writer:t.binding.writer(i)}),c=r.optional.boolean(e.params.disabled).value,p=r.optional.boolean(e.params.hidden).value,d=t.controller({constraint:a,document:e.document,initialValue:n.initialValue,params:n.params,value:l.value,viewProps:ae.create({disabled:c,hidden:p})}),h=r.optional.string(e.params.label).value;return new xt(e.document,{binding:l,blade:ct(),props:A.fromObject({label:h||e.target.key}),valueController:d})}var Xo=function(){function e(n){t(zt)(this,e),this.onTick_=this.onTick_.bind(this),this.reader_=n.reader,this.target=n.target,this.emitter=new f,this.value=n.value,this.ticker=n.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return t($t)(e,[{key:"dispose",value:function(){this.ticker.dispose()}},{key:"read",value:function(){var t=this.target.read();if(void 0!==t){var e=this.value.rawValue,n=this.reader_(t);this.value.rawValue=Ln(e,n),this.emitter.emit("update",{rawValue:n,sender:this})}}},{key:"onTick_",value:function(t){this.read()}}]),e}();function Jo(t,e){return 0===e?new we:new ye(t,null!=e?e:Lo.monitor.defaultInterval)}function Qo(t,e){var n,r,i,o=T,a=t.accept(e.target.read(),e.params);if(u(a))return null;var s={target:e.target,initialValue:a.initialValue,params:a.params},l=t.binding.reader(s),c=null!==(r=null!==(n=o.optional.number(e.params.bufferSize).value)&&void 0!==n?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(a.params))&&void 0!==r?r:1,p=o.optional.number(e.params.interval).value,d=new Xo({reader:l,target:e.target,ticker:Jo(e.document,p),value:Sn(c)}),h=o.optional.boolean(e.params.disabled).value,v=o.optional.boolean(e.params.hidden).value,f=t.controller({document:e.document,params:a.params,value:d.value,viewProps:ae.create({disabled:h,hidden:v})}),m=null!==(i=o.optional.string(e.params.label).value)&&void 0!==i?i:e.target.key;return new Ct(e.document,{binding:d,blade:ct(),props:A.fromObject({label:m}),valueController:f})}var Zo=function(){function e(){t(zt)(this,e),this.pluginsMap_={blades:[],inputs:[],monitors:[]}}return t($t)(e,[{key:"getAll",value:function(){return t(ce)(this.pluginsMap_.blades).concat(t(ce)(this.pluginsMap_.inputs),t(ce)(this.pluginsMap_.monitors))}},{key:"register",value:function(t){"blade"===t.type?this.pluginsMap_.blades.unshift(t):"input"===t.type?this.pluginsMap_.inputs.unshift(t):"monitor"===t.type&&this.pluginsMap_.monitors.unshift(t)}},{key:"createInput",value:function(t,e,n){if(u(e.read()))throw new d({context:{key:e.key},type:"nomatchingcontroller"});var r=this.pluginsMap_.inputs.reduce((function(r,i){return r||$o(i,{document:t,target:e,params:n})}),null);if(r)return r;throw new d({context:{key:e.key},type:"nomatchingcontroller"})}},{key:"createMonitor",value:function(t,e,n){var r=this.pluginsMap_.monitors.reduce((function(r,i){return r||Qo(i,{document:t,params:n,target:e})}),null);if(r)return r;throw new d({context:{key:e.key},type:"nomatchingcontroller"})}},{key:"createBlade",value:function(t,e){var n=this.pluginsMap_.blades.reduce((function(n,r){return n||ge(r,{document:t,params:e})}),null);if(!n)throw new d({type:"nomatchingview",context:{params:e}});return n}},{key:"createBladeApi",value:function(t){var e=this;if(t instanceof xt)return new yt(t);if(t instanceof Ct)return new kt(t);if(t instanceof Ut)return new St(t,this);var n=this.pluginsMap_.blades.reduce((function(n,r){return n||r.api({controller:t,pool:e})}),null);if(!n)throw d.shouldNeverHappen();return n}}]),e}();function ta(){var t=new Zo;return[co,go,Vo,Mo,Gi,Ii,Di,Oi,hr,To,Yo,Go,lt,qt,te,_e].forEach((function(e){t.register(e)})),t}var ea=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).emitter_=new f,i.controller_.valueController.value.emitter.on("change",(function(e){i.emitter_.emit("change",{event:new o(t(Ft)(i),e.rawValue)})})),i}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"options",get:function(){return this.controller_.valueController.props.get("options")},set:function(t){this.controller_.valueController.props.set("options",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),r}(r),na=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).emitter_=new f,i.controller_.valueController.value.emitter.on("change",(function(e){i.emitter_.emit("change",{event:new o(t(Ft)(i),e.rawValue)})})),i}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"maxValue",get:function(){return this.controller_.valueController.sliderController.props.get("maxValue")},set:function(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}},{key:"minValue",get:function(){return this.controller_.valueController.sliderController.props.get("minValue")},set:function(t){this.controller_.valueController.sliderController.props.set("minValue",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),r}(r),ra=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i;return t(zt)(this,r),(i=n.call(this,e)).emitter_=new f,i.controller_.valueController.value.emitter.on("change",(function(e){i.emitter_.emit("change",{event:new o(t(Ft)(i),e.rawValue)})})),i}return t($t)(r,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"formatter",get:function(){return this.controller_.valueController.props.get("formatter")},set:function(t){this.controller_.valueController.props.set("formatter",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),r}(r),ia={id:"list",type:"blade",accept:function(t){var e=T,n=U(t,{options:e.required.custom(Zn),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return n?{params:n}:null},controller:function(t){var e=new Me(t.document,{props:A.fromObject({options:nr(t.params.options)}),value:L(t.params.value),viewProps:t.viewProps});return new Gt(t.document,{blade:t.blade,props:A.fromObject({label:t.params.label}),valueController:e})},api:function(t){return t.controller instanceof Gt&&t.controller.valueController instanceof Me?new ea(t.controller):null}};function oa(e){return e.reduce((function(e,n){return Object.assign(e,t(Jt)({},n.presetKey,n.read()))}),{})}function aa(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))}var sa=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){return t(zt)(this,r),n.call(this,e,i)}return t($t)(r,[{key:"element",get:function(){return this.controller_.view.element}},{key:"importPreset",value:function(t){aa(this.controller_.rackController.rack.find(xt).map((function(t){return t.binding.target})),t),this.refresh()}},{key:"exportPreset",value:function(){return oa(this.controller_.rackController.rack.find(xt).map((function(t){return t.binding.target})))}},{key:"refresh",value:function(){this.controller_.rackController.rack.find(xt).forEach((function(t){t.binding.read()})),this.controller_.rackController.rack.find(Ct).forEach((function(t){t.binding.read()}))}}]),r}(Mt),la=function(e){t(ne)(r,e);var n=t(me)(r);function r(e,i){return t(zt)(this,r),n.call(this,e,{expanded:i.expanded,blade:i.blade,props:i.props,root:!0,viewProps:i.viewProps})}return r}(Bt),ua={id:"slider",type:"blade",accept:function(t){var e=T,n=U(t,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return n?{params:n}:null},controller:function(t){var e,n,r=null!==(e=t.params.value)&&void 0!==e?e:0,i=new Jn(t.document,{baseStep:1,parser:gn,sliderProps:A.fromObject({maxValue:t.params.max,minValue:t.params.min}),textProps:A.fromObject({draggingScale:lr(void 0,r),formatter:null!==(n=t.params.format)&&void 0!==n?n:yn}),value:L(r),viewProps:t.viewProps});return new Gt(t.document,{blade:t.blade,props:A.fromObject({label:t.params.label}),valueController:i})},api:function(t){return t.controller instanceof Gt&&t.controller.valueController instanceof Jn?new na(t.controller):null}},ca={id:"text",type:"blade",accept:function(t){var e=T,n=U(t,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return n?{params:n}:null},controller:function(t){var e,n=new Ie(t.document,{parser:t.params.parse,props:A.fromObject({formatter:null!==(e=t.params.format)&&void 0!==e?e:function(t){return String(t)}}),value:L(t.params.value),viewProps:t.viewProps});return new Gt(t.document,{blade:t.blade,props:A.fromObject({label:t.params.label}),valueController:n})},api:function(t){return t.controller instanceof Gt&&t.controller.valueController instanceof Ie?new ra(t.controller):null}};function pa(t){var e=t.createElement("div");return e.classList.add(b("dfw")()),t.body&&t.body.appendChild(e),e}function da(t,e,n){if(!t.querySelector("style[data-tp-style=".concat(e,"]"))){var r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}}var ha=function(e){t(ne)(r,e);var n=t(me)(r);function r(e){var i,o;t(zt)(this,r);var a=e||{},s=null!==(o=a.document)&&void 0!==o?o:$(),l=ta(),u=new la(s,{expanded:a.expanded,blade:ct(),props:A.fromObject({title:a.title}),viewProps:ae.create()});return(i=n.call(this,u,l)).pool_=l,i.containerElem_=a.container||pa(s),i.containerElem_.appendChild(i.element),i.doc_=s,i.usesDefaultWrapper_=!a.container,i.setUpDefaultPlugins_(),i}return t($t)(r,[{key:"document",get:function(){if(!this.doc_)throw d.alreadyDisposed();return this.doc_}},{key:"dispose",value:function(){var e=this.containerElem_;if(!e)throw d.alreadyDisposed();if(this.usesDefaultWrapper_){var n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,t(Qt)(t(ee)(r.prototype),"dispose",this).call(this)}},{key:"registerPlugin",value:function(t){var e=this;("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach((function(t){e.pool_.register(t),e.embedPluginStyle_(t)}))}},{key:"embedPluginStyle_",value:function(t){t.css&&da(this.document,"plugin-".concat(t.id),t.css)}},{key:"setUpDefaultPlugins_",value:function(){var t=this;da(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach((function(e){t.embedPluginStyle_(e)})),this.registerPlugin({plugins:[ua,ia,_e,ca]})}}]),r}(sa),va=new n("3.0.8");e.BladeApi=r,e.ButtonApi=v,e.FolderApi=Mt,e.InputBindingApi=yt,e.ListApi=ea,e.MonitorBindingApi=kt,e.Pane=ha,e.SeparatorApi=Yt,e.SliderApi=na,e.TabApi=he,e.TabPageApi=de,e.TextApi=ra,e.TpChangeEvent=o,e.VERSION=va,Object.defineProperty(e,"__esModule",{value:!0})}(Bt),(_e=be||(be={}))[_e.Floor=0]="Floor",_e[_e.Wall=1]="Wall";var Ce,Pe,Ee,Ve=function(){"use strict";function e(n,r){t(zt)(this,e),this.width=n,this.height=r,this.cells=t(ce)(Array(r).keys()).map((function(e){return t(ce)(Array(n).keys()).map((function(t){return{x:t,y:e,fill:be.Wall}}))}))}return t($t)(e,[{key:"fill",value:function(t,e){this.cells[e][t].fill=be.Wall}},{key:"clear",value:function(t,e){this.cells[e][t].fill=be.Floor}},{key:"at",value:function(t,e){return this.cells[e][t]}}]),e}();Ce={},t(Jt)(Ce,be.Floor,"."),t(Jt)(Ce,be.Wall,"#");function Se(e,n,r,i){var o=i.cellSize;e.width=o*n.width,e.height=o*n.height;var a=function(t,e){var n=t.x,r=t.y,a=t.fill;s.fillStyle=null!=e?e:a===be.Floor?i.floorColor:i.wallColor,s.fillRect(n*o,r*o,o,o)},s=e.getContext("2d");n.cells.forEach((function(t){t.forEach((function(t){a(t)}))}));var l=null;r.pipe(ut((function(t,e){var n,r=!1;t.subscribe(ct(e,(function(t){var i=n;n=t,r&&e.next([i,t]),r=!0})))}))).subscribe({next:function(e){var n=t(ie)(e,2),r=n[0],i=n[1];a(r),a(i,"#f05"),l=i},complete:function(){l&&a(l)}})}(Ee=Pe||(Pe={})).BinaryTree="binaryTree",Ee.SideWinder="sideWinder";var Me={algorithm:Pe.BinaryTree,gridWidth:19,gridHeight:13},Le={cellSize:10,wallColor:"#1a1a1a",floorColor:"#c6d6f6"};function Ae(t,e){switch(e){case Pe.BinaryTree:return ke(t);case Pe.SideWinder:throw new Error("Sidewinder not implemented")}}function Oe(t){var e,n,r,i=new Ve(Me.gridWidth,Me.gridHeight),o=Ae(i,Me.algorithm).pipe((n=function(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=X(t);return yt(t,n)}(t).pipe(function(t,e){void 0===e&&(e=Lt);var n=Ut(t,e);return Tt((function(){return n}))}(17))},f(r)?Ct(n,r,1):Ct(n,1)),(e=t,ut((function(t,n){at(e).subscribe(ct(n,(function(){return n.complete()}),E)),!n.closed&&t.subscribe(n)}))),Kt());Se(document.getElementById("canvas"),i,o,Le)}var je=new G;!function(t){var e=new(0,Bt.Pane),n=e.addFolder({title:"Generator",expanded:!0});n.addInput(Me,"algorithm",{options:Pe}),n.addInput(Me,"gridWidth",{min:5,max:201,step:1}).on("change",(function(){return t.next()})),n.addInput(Me,"gridHeight",{min:5,max:201,step:1}).on("change",(function(){return t.next()}));var r=e.addFolder({title:"Renderer",expanded:!0});r.addInput(Le,"cellSize",{min:5,max:25,step:1}).on("change",(function(){return t.next()})),r.addInput(Le,"wallColor"),r.addInput(Le,"floorColor"),e.addButton({title:"START"}).on("click",(function(){return t.next()}))}(je),je.subscribe((function(){return Oe(je)})),je.next()}();
//# sourceMappingURL=index.e5baee93.js.map
