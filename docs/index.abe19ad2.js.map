{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_assert_this_initialized.js","node_modules/@swc/helpers/lib/_set_prototype_of.js","node_modules/@swc/helpers/lib/_super_prop_base.js","node_modules/@swc/helpers/lib/_get_prototype_of.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_is_native_reflect_construct.js","node_modules/@swc/helpers/lib/_possible_constructor_return.js","node_modules/@swc/helpers/lib/_type_of.js","node_modules/tweakpane/dist/tweakpane.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_construct.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_get.js","node_modules/@swc/helpers/lib/_inherits.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_create_super.js","src/app.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _assertThisInitialized;\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _setPrototypeOf;\nfunction _setPrototypeOf(o, p) {\n    return setPrototypeOf(o, p);\n}\nfunction setPrototypeOf(o1, p1) {\n    setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return setPrototypeOf(o1, p1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _superPropBase;\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nfunction _superPropBase(object, property) {\n    while(!Object.prototype.hasOwnProperty.call(object, property)){\n        object = (0, _getPrototypeOf).default(object);\n        if (object === null) break;\n    }\n    return object;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _getPrototypeOf;\nfunction _getPrototypeOf(o) {\n    return getPrototypeOf(o);\n}\nfunction getPrototypeOf(o1) {\n    getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return getPrototypeOf(o1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _isNativeReflectConstruct;\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _possibleConstructorReturn;\nvar _assertThisInitialized = _interopRequireDefault(require(\"./_assert_this_initialized\"));\nvar _typeOf = _interopRequireDefault(require(\"./_type_of\"));\nfunction _possibleConstructorReturn(self, call) {\n    if (call && ((0, _typeOf).default(call) === \"object\" || typeof call === \"function\")) {\n        return call;\n    }\n    return (0, _assertThisInitialized).default(self);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","/*! Tweakpane 3.0.8 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Tweakpane = {}));\n})(this, (function (exports) { 'use strict';\n\n    /***\n     * A simple semantic versioning perser.\n     */\n    class Semver {\n        /**\n         * @hidden\n         */\n        constructor(text) {\n            const [core, prerelease] = text.split('-');\n            const coreComps = core.split('.');\n            this.major = parseInt(coreComps[0], 10);\n            this.minor = parseInt(coreComps[1], 10);\n            this.patch = parseInt(coreComps[2], 10);\n            this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n        }\n        toString() {\n            const core = [this.major, this.minor, this.patch].join('.');\n            return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n        }\n    }\n\n    class BladeApi {\n        constructor(controller) {\n            this.controller_ = controller;\n        }\n        get disabled() {\n            return this.controller_.viewProps.get('disabled');\n        }\n        set disabled(disabled) {\n            this.controller_.viewProps.set('disabled', disabled);\n        }\n        get hidden() {\n            return this.controller_.viewProps.get('hidden');\n        }\n        set hidden(hidden) {\n            this.controller_.viewProps.set('hidden', hidden);\n        }\n        dispose() {\n            this.controller_.viewProps.set('disposed', true);\n        }\n    }\n\n    class TpEvent {\n        constructor(target) {\n            this.target = target;\n        }\n    }\n    class TpChangeEvent extends TpEvent {\n        constructor(target, value, presetKey, last) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n            this.last = last !== null && last !== void 0 ? last : true;\n        }\n    }\n    class TpUpdateEvent extends TpEvent {\n        constructor(target, value, presetKey) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n        }\n    }\n    class TpFoldEvent extends TpEvent {\n        constructor(target, expanded) {\n            super(target);\n            this.expanded = expanded;\n        }\n    }\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (let i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    const CREATE_MESSAGE_MAP = {\n        alreadydisposed: () => 'View has been already disposed',\n        invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n        nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n        nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n        notbindable: () => `Value is not bindable`,\n        propertynotfound: (context) => `Property '${context.name}' not found`,\n        shouldneverhappen: () => 'This error should never happen',\n    };\n    class TpError {\n        constructor(config) {\n            var _a;\n            this.message =\n                (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        static alreadyDisposed() {\n            return new TpError({ type: 'alreadydisposed' });\n        }\n        static notBindable() {\n            return new TpError({\n                type: 'notbindable',\n            });\n        }\n        static propertyNotFound(name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        }\n        static shouldNeverHappen() {\n            return new TpError({ type: 'shouldneverhappen' });\n        }\n    }\n\n    class BindingTarget {\n        constructor(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        static isBindable(obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        }\n        get key() {\n            return this.key_;\n        }\n        get presetKey() {\n            return this.presetKey_;\n        }\n        read() {\n            return this.obj_[this.key_];\n        }\n        write(value) {\n            this.obj_[this.key_] = value;\n        }\n        writeProperty(name, value) {\n            const valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        }\n    }\n\n    class ButtonApi extends BladeApi {\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.valueController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.valueController.props.set('title', title);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            const emitter = this.controller_.valueController.emitter;\n            emitter.on(eventName, () => {\n                bh(new TpEvent(this));\n            });\n            return this;\n        }\n    }\n\n    class Emitter {\n        constructor() {\n            this.observers_ = {};\n        }\n        on(eventName, handler) {\n            let observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        }\n        off(eventName, handler) {\n            const observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter((observer) => {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        }\n        emit(eventName, event) {\n            const observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach((observer) => {\n                observer.handler(event);\n            });\n        }\n    }\n\n    const PREFIX = 'tp';\n    function ClassName(viewName) {\n        const fn = (opt_elementName, opt_modifier) => {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? `_${opt_elementName}` : '',\n                opt_modifier ? `-${opt_modifier}` : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    function compose(h1, h2) {\n        return (input) => h2(h1(input));\n    }\n    function extractValue(ev) {\n        return ev.rawValue;\n    }\n    function bindValue(value, applyValue) {\n        value.emitter.on('change', compose(extractValue, applyValue));\n        applyValue(value.rawValue);\n    }\n    function bindValueMap(valueMap, key, applyValue) {\n        bindValue(valueMap.value(key), applyValue);\n    }\n\n    function applyClass(elem, className, active) {\n        if (active) {\n            elem.classList.add(className);\n        }\n        else {\n            elem.classList.remove(className);\n        }\n    }\n    function valueToClassName(elem, className) {\n        return (value) => {\n            applyClass(elem, className, value);\n        };\n    }\n    function bindValueToTextContent(value, elem) {\n        bindValue(value, (text) => {\n            elem.textContent = text !== null && text !== void 0 ? text : '';\n        });\n    }\n\n    const className$q = ClassName('btn');\n    class ButtonView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$q());\n            config.viewProps.bindClassModifiers(this.element);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$q('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$q('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n        }\n    }\n\n    class ButtonController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new ButtonView(doc, {\n                props: this.props,\n                viewProps: this.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class BoundValue {\n        constructor(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        get constraint() {\n            return this.constraint_;\n        }\n        get rawValue() {\n            return this.rawValue_;\n        }\n        set rawValue(rawValue) {\n            this.setRawValue(rawValue, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(rawValue, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            const constrainedValue = this.constraint_\n                ? this.constraint_.constrain(rawValue)\n                : rawValue;\n            const changed = !this.equals_(this.rawValue_, constrainedValue);\n            if (!changed && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.rawValue_ = constrainedValue;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: constrainedValue,\n                sender: this,\n            });\n        }\n    }\n\n    class PrimitiveValue {\n        constructor(initialValue) {\n            this.emitter = new Emitter();\n            this.value_ = initialValue;\n        }\n        get rawValue() {\n            return this.value_;\n        }\n        set rawValue(value) {\n            this.setRawValue(value, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(value, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            if (this.value_ === value && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.value_ = value;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: this.value_,\n                sender: this,\n            });\n        }\n    }\n\n    function createValue(initialValue, config) {\n        const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n        const equals = config === null || config === void 0 ? void 0 : config.equals;\n        if (!constraint && !equals) {\n            return new PrimitiveValue(initialValue);\n        }\n        return new BoundValue(initialValue, config);\n    }\n\n    class ValueMap {\n        constructor(valueMap) {\n            this.emitter = new Emitter();\n            this.valMap_ = valueMap;\n            for (const key in this.valMap_) {\n                const v = this.valMap_[key];\n                v.emitter.on('change', () => {\n                    this.emitter.emit('change', {\n                        key: key,\n                        sender: this,\n                    });\n                });\n            }\n        }\n        static createCore(initialValue) {\n            const keys = Object.keys(initialValue);\n            return keys.reduce((o, key) => {\n                return Object.assign(o, {\n                    [key]: createValue(initialValue[key]),\n                });\n            }, {});\n        }\n        static fromObject(initialValue) {\n            const core = this.createCore(initialValue);\n            return new ValueMap(core);\n        }\n        get(key) {\n            return this.valMap_[key].rawValue;\n        }\n        set(key, value) {\n            this.valMap_[key].rawValue = value;\n        }\n        value(key) {\n            return this.valMap_[key];\n        }\n    }\n\n    function parseObject(value, keyToParserMap) {\n        const keys = Object.keys(keyToParserMap);\n        const result = keys.reduce((tmp, key) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const parser = keyToParserMap[key];\n            const result = parser(value[key]);\n            return result.succeeded\n                ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n        }, {});\n        return forceCast(result);\n    }\n    function parseArray(value, parseItem) {\n        return value.reduce((tmp, item) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const result = parseItem(item);\n            if (!result.succeeded || result.value === undefined) {\n                return undefined;\n            }\n            return [...tmp, result.value];\n        }, []);\n    }\n    function isObject(value) {\n        if (value === null) {\n            return false;\n        }\n        return typeof value === 'object';\n    }\n    function createParamsParserBuilder(parse) {\n        return (optional) => (v) => {\n            if (!optional && v === undefined) {\n                return {\n                    succeeded: false,\n                    value: undefined,\n                };\n            }\n            if (optional && v === undefined) {\n                return {\n                    succeeded: true,\n                    value: undefined,\n                };\n            }\n            const result = parse(v);\n            return result !== undefined\n                ? {\n                    succeeded: true,\n                    value: result,\n                }\n                : {\n                    succeeded: false,\n                    value: undefined,\n                };\n        };\n    }\n    function createParamsParserBuilders(optional) {\n        return {\n            custom: (parse) => createParamsParserBuilder(parse)(optional),\n            boolean: createParamsParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n            number: createParamsParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n            string: createParamsParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n            function: createParamsParserBuilder((v) =>\n            typeof v === 'function' ? v : undefined)(optional),\n            constant: (value) => createParamsParserBuilder((v) => (v === value ? value : undefined))(optional),\n            raw: createParamsParserBuilder((v) => v)(optional),\n            object: (keyToParserMap) => createParamsParserBuilder((v) => {\n                if (!isObject(v)) {\n                    return undefined;\n                }\n                return parseObject(v, keyToParserMap);\n            })(optional),\n            array: (itemParser) => createParamsParserBuilder((v) => {\n                if (!Array.isArray(v)) {\n                    return undefined;\n                }\n                return parseArray(v, itemParser);\n            })(optional),\n        };\n    }\n    const ParamsParsers = {\n        optional: createParamsParserBuilders(true),\n        required: createParamsParserBuilders(false),\n    };\n    function parseParams(value, keyToParserMap) {\n        const result = ParamsParsers.required.object(keyToParserMap)(value);\n        return result.succeeded ? result.value : undefined;\n    }\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    function getAllBladePositions() {\n        return ['veryfirst', 'first', 'last', 'verylast'];\n    }\n\n    const className$p = ClassName('');\n    const POS_TO_CLASS_NAME_MAP = {\n        veryfirst: 'vfst',\n        first: 'fst',\n        last: 'lst',\n        verylast: 'vlst',\n    };\n    class BladeController {\n        constructor(config) {\n            this.parent_ = null;\n            this.blade = config.blade;\n            this.view = config.view;\n            this.viewProps = config.viewProps;\n            const elem = this.view.element;\n            this.blade.value('positions').emitter.on('change', () => {\n                getAllBladePositions().forEach((pos) => {\n                    elem.classList.remove(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n                this.blade.get('positions').forEach((pos) => {\n                    elem.classList.add(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n            });\n            this.viewProps.handleDispose(() => {\n                disposeElement(elem);\n            });\n        }\n        get parent() {\n            return this.parent_;\n        }\n    }\n\n    const SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        const t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        const globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function getCanvasContext(canvasElement) {\n        const win = canvasElement.ownerDocument.defaultView;\n        if (!win) {\n            return null;\n        }\n        const isBrowser = 'document' in win;\n        return isBrowser ? canvasElement.getContext('2d') : null;\n    }\n    const ICON_ID_TO_INNER_HTML_MAP = {\n        check: '<path d=\"M2 8l4 4l8 -8\"/>',\n        dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n        p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        const elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function removeElement(element) {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    function removeChildElements(element) {\n        while (element.children.length > 0) {\n            element.removeChild(element.children[0]);\n        }\n    }\n    function removeChildNodes(element) {\n        while (element.childNodes.length > 0) {\n            element.removeChild(element.childNodes[0]);\n        }\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        return null;\n    }\n\n    const className$o = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        const frag = doc.createDocumentFragment();\n        const lineNodes = label.split('\\n').map((line) => {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach((lineNode, index) => {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    class LabelView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$o());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('div');\n            labelElem.classList.add(className$o('l'));\n            bindValueMap(config.props, 'label', (value) => {\n                if (isEmpty(value)) {\n                    this.element.classList.add(className$o(undefined, 'nol'));\n                }\n                else {\n                    this.element.classList.remove(className$o(undefined, 'nol'));\n                    removeChildNodes(labelElem);\n                    labelElem.appendChild(createLabelNode(doc, value));\n                }\n            });\n            this.element.appendChild(labelElem);\n            this.labelElement = labelElem;\n            const valueElem = doc.createElement('div');\n            valueElem.classList.add(className$o('v'));\n            this.element.appendChild(valueElem);\n            this.valueElement = valueElem;\n        }\n    }\n\n    class LabelController extends BladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    const ButtonBladePlugin = {\n        id: 'button',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('button'),\n                label: p.optional.string,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: new ButtonController(args.document, {\n                    props: ValueMap.fromObject({\n                        title: args.params.title,\n                    }),\n                    viewProps: args.viewProps,\n                }),\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ButtonController)) {\n                return null;\n            }\n            return new ButtonApi(args.controller);\n        },\n    };\n\n    class ValueBladeController extends BladeController {\n        constructor(config) {\n            super(config);\n            this.value = config.value;\n        }\n    }\n\n    function createBlade() {\n        return new ValueMap({\n            positions: createValue([], {\n                equals: deepEqualsArray,\n            }),\n        });\n    }\n\n    class Foldable extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(expanded) {\n            const coreObj = {\n                completed: true,\n                expanded: expanded,\n                expandedHeight: null,\n                shouldFixHeight: false,\n                temporaryExpanded: null,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new Foldable(core);\n        }\n        get styleExpanded() {\n            var _a;\n            return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n        }\n        get styleHeight() {\n            if (!this.styleExpanded) {\n                return '0';\n            }\n            const exHeight = this.get('expandedHeight');\n            if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n                return `${exHeight}px`;\n            }\n            return 'auto';\n        }\n        bindExpandedClass(elem, expandedClassName) {\n            const onExpand = () => {\n                const expanded = this.styleExpanded;\n                if (expanded) {\n                    elem.classList.add(expandedClassName);\n                }\n                else {\n                    elem.classList.remove(expandedClassName);\n                }\n            };\n            bindValueMap(this, 'expanded', onExpand);\n            bindValueMap(this, 'temporaryExpanded', onExpand);\n        }\n        cleanUpTransition() {\n            this.set('shouldFixHeight', false);\n            this.set('expandedHeight', null);\n            this.set('completed', true);\n        }\n    }\n    function computeExpandedFolderHeight(folder, containerElement) {\n        let height = 0;\n        disableTransitionTemporarily(containerElement, () => {\n            folder.set('expandedHeight', null);\n            folder.set('temporaryExpanded', true);\n            forceReflow(containerElement);\n            height = containerElement.clientHeight;\n            folder.set('temporaryExpanded', null);\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n    function applyHeight(foldable, elem) {\n        elem.style.height = foldable.styleHeight;\n    }\n    function bindFoldable(foldable, elem) {\n        foldable.value('expanded').emitter.on('beforechange', () => {\n            foldable.set('completed', false);\n            if (isEmpty(foldable.get('expandedHeight'))) {\n                foldable.set('expandedHeight', computeExpandedFolderHeight(foldable, elem));\n            }\n            foldable.set('shouldFixHeight', true);\n            forceReflow(elem);\n        });\n        foldable.emitter.on('change', () => {\n            applyHeight(foldable, elem);\n        });\n        applyHeight(foldable, elem);\n        elem.addEventListener('transitionend', (ev) => {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            foldable.cleanUpTransition();\n        });\n    }\n\n    class RackLikeApi extends BladeApi {\n        constructor(controller, rackApi) {\n            super(controller);\n            this.rackApi_ = rackApi;\n        }\n    }\n\n    function addButtonAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n    }\n    function addFolderAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n    }\n    function addSeparatorAsBlade(api, opt_params) {\n        const params = opt_params || {};\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'separator' }));\n    }\n    function addTabAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n    }\n\n    class NestedOrderedSet {\n        constructor(extract) {\n            this.emitter = new Emitter();\n            this.items_ = [];\n            this.cache_ = new Set();\n            this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n            this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n            this.extract_ = extract;\n        }\n        get items() {\n            return this.items_;\n        }\n        allItems() {\n            return Array.from(this.cache_);\n        }\n        find(callback) {\n            for (const item of this.allItems()) {\n                if (callback(item)) {\n                    return item;\n                }\n            }\n            return null;\n        }\n        includes(item) {\n            return this.cache_.has(item);\n        }\n        add(item, opt_index) {\n            if (this.includes(item)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.cache_.add(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.on('add', this.onSubListAdd_);\n                subList.emitter.on('remove', this.onSubListRemove_);\n                subList.allItems().forEach((item) => {\n                    this.cache_.add(item);\n                });\n            }\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        remove(item) {\n            const index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.cache_.delete(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.off('add', this.onSubListAdd_);\n                subList.emitter.off('remove', this.onSubListRemove_);\n            }\n            this.emitter.emit('remove', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        onSubListAdd_(ev) {\n            this.cache_.add(ev.item);\n            this.emitter.emit('add', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n        onSubListRemove_(ev) {\n            this.cache_.delete(ev.item);\n            this.emitter.emit('remove', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n    }\n\n    class InputBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingChange_ = this.onBindingChange_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('change', this.onBindingChange_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingChange_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller_.binding.target.presetKey, ev.options.last),\n            });\n        }\n    }\n\n    class InputBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n        }\n    }\n\n    class MonitorBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingUpdate_ = this.onBindingUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('update', this.onBindingUpdate_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingUpdate_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        }\n    }\n\n    class MonitorBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n            this.viewProps.bindDisabled(this.binding.ticker);\n            this.viewProps.handleDispose(() => {\n                this.binding.dispose();\n            });\n        }\n    }\n\n    function findSubBladeApiSet(api) {\n        if (api instanceof RackApi) {\n            return api['apiSet_'];\n        }\n        if (api instanceof RackLikeApi) {\n            return api['rackApi_']['apiSet_'];\n        }\n        return null;\n    }\n    function getApiByController(apiSet, controller) {\n        const api = apiSet.find((api) => api.controller_ === controller);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n    class RackApi extends BladeApi {\n        constructor(controller, pool) {\n            super(controller);\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            this.onRackInputChange_ = this.onRackInputChange_.bind(this);\n            this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.apiSet_ = new NestedOrderedSet(findSubBladeApiSet);\n            this.pool_ = pool;\n            const rack = this.controller_.rack;\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            rack.emitter.on('inputchange', this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', this.onRackMonitorUpdate_);\n            rack.children.forEach((bc) => {\n                this.setUpApi_(bc);\n            });\n        }\n        get children() {\n            return this.controller_.rack.children.map((bc) => getApiByController(this.apiSet_, bc));\n        }\n        addInput(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createInput(doc, createBindingTarget(object, key, params.presetKey), params);\n            const api = new InputBindingApi(bc);\n            return this.add(api, params.index);\n        }\n        addMonitor(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createMonitor(doc, createBindingTarget(object, key), params);\n            const api = new MonitorBindingApi(bc);\n            return forceCast(this.add(api, params.index));\n        }\n        addFolder(params) {\n            return addFolderAsBlade(this, params);\n        }\n        addButton(params) {\n            return addButtonAsBlade(this, params);\n        }\n        addSeparator(opt_params) {\n            return addSeparatorAsBlade(this, opt_params);\n        }\n        addTab(params) {\n            return addTabAsBlade(this, params);\n        }\n        add(api, opt_index) {\n            this.controller_.rack.add(api.controller_, opt_index);\n            const gapi = this.apiSet_.find((a) => a.controller_ === api.controller_);\n            if (gapi) {\n                this.apiSet_.remove(gapi);\n            }\n            this.apiSet_.add(api);\n            return api;\n        }\n        remove(api) {\n            this.controller_.rack.remove(api.controller_);\n        }\n        addBlade(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createBlade(doc, params);\n            const api = this.pool_.createBladeApi(bc);\n            return this.add(api, params.index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpApi_(bc) {\n            const api = this.apiSet_.find((api) => api.controller_ === bc);\n            if (!api) {\n                this.apiSet_.add(this.pool_.createBladeApi(bc));\n            }\n        }\n        onRackAdd_(ev) {\n            this.setUpApi_(ev.bladeController);\n        }\n        onRackRemove_(ev) {\n            if (ev.isRoot) {\n                const api = getApiByController(this.apiSet_, ev.bladeController);\n                this.apiSet_.remove(api);\n            }\n        }\n        onRackInputChange_(ev) {\n            const bc = ev.bladeController;\n            if (bc instanceof InputBindingController) {\n                const api = getApiByController(this.apiSet_, bc);\n                const binding = bc.binding;\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, forceCast(binding.target.read()), binding.target.presetKey, ev.options.last),\n                });\n            }\n            else if (bc instanceof ValueBladeController) {\n                const api = getApiByController(this.apiSet_, bc);\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, bc.value.rawValue, undefined, ev.options.last),\n                });\n            }\n        }\n        onRackMonitorUpdate_(ev) {\n            if (!(ev.bladeController instanceof MonitorBindingController)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = getApiByController(this.apiSet_, ev.bladeController);\n            const binding = ev.bladeController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        }\n    }\n\n    class FolderApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.emitter_ = new Emitter();\n            this.controller_.foldable\n                .value('expanded')\n                .emitter.on('change', (ev) => {\n                this.emitter_.emit('fold', {\n                    event: new TpFoldEvent(this, ev.sender.rawValue),\n                });\n            });\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n        }\n        get expanded() {\n            return this.controller_.foldable.get('expanded');\n        }\n        set expanded(expanded) {\n            this.controller_.foldable.set('expanded', expanded);\n        }\n        get title() {\n            return this.controller_.props.get('title');\n        }\n        set title(title) {\n            this.controller_.props.set('title', title);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            return this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class RackLikeController extends BladeController {\n        constructor(config) {\n            super({\n                blade: config.blade,\n                view: config.view,\n                viewProps: config.rackController.viewProps,\n            });\n            this.rackController = config.rackController;\n        }\n    }\n\n    class PlainView {\n        constructor(doc, config) {\n            const className = ClassName(config.viewName);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n        }\n    }\n\n    function findInputBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findValueBladeController(bcs, v) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof ValueBladeController && bc.value === v) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findSubRack(bc) {\n        if (bc instanceof RackController) {\n            return bc.rack;\n        }\n        if (bc instanceof RackLikeController) {\n            return bc.rackController.rack;\n        }\n        return null;\n    }\n    function findSubBladeControllerSet(bc) {\n        const rack = findSubRack(bc);\n        return rack ? rack['bcSet_'] : null;\n    }\n    class BladeRack {\n        constructor(blade) {\n            var _a;\n            this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n            this.onSetAdd_ = this.onSetAdd_.bind(this);\n            this.onSetRemove_ = this.onSetRemove_.bind(this);\n            this.onChildDispose_ = this.onChildDispose_.bind(this);\n            this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n            this.onChildInputChange_ = this.onChildInputChange_.bind(this);\n            this.onChildMonitorUpdate_ = this.onChildMonitorUpdate_.bind(this);\n            this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n            this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n            this.onDescendantLayout_ = this.onDescendantLayout_.bind(this);\n            this.onDescendantInputChange_ = this.onDescendantInputChange_.bind(this);\n            this.onDescendantMonitorUpdate_ =\n                this.onDescendantMonitorUpdate_.bind(this);\n            this.emitter = new Emitter();\n            this.blade_ = blade !== null && blade !== void 0 ? blade : null;\n            (_a = this.blade_) === null || _a === void 0 ? void 0 : _a.value('positions').emitter.on('change', this.onBladePositionsChange_);\n            this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n            this.bcSet_.emitter.on('add', this.onSetAdd_);\n            this.bcSet_.emitter.on('remove', this.onSetRemove_);\n        }\n        get children() {\n            return this.bcSet_.items;\n        }\n        add(bc, opt_index) {\n            if (bc.parent) {\n                bc.parent.remove(bc);\n            }\n            bc['parent_'] = this;\n            this.bcSet_.add(bc, opt_index);\n        }\n        remove(bc) {\n            bc['parent_'] = null;\n            this.bcSet_.remove(bc);\n        }\n        find(controllerClass) {\n            return forceCast(this.bcSet_.allItems().filter((bc) => {\n                return bc instanceof controllerClass;\n            }));\n        }\n        onSetAdd_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('add', {\n                bladeController: ev.item,\n                index: ev.index,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n            bc.blade\n                .value('positions')\n                .emitter.on('change', this.onChildPositionsChange_);\n            bc.viewProps.handleDispose(this.onChildDispose_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.on('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.on('layout', this.onDescendantLayout_);\n                    emitter.on('inputchange', this.onDescendantInputChange_);\n                    emitter.on('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        onSetRemove_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('remove', {\n                bladeController: ev.item,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.off('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.off('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.off('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.off('layout', this.onDescendantLayout_);\n                    emitter.off('inputchange', this.onDescendantInputChange_);\n                    emitter.off('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        updatePositions_() {\n            const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n            const firstVisibleItem = visibleItems[0];\n            const lastVisibleItem = visibleItems[visibleItems.length - 1];\n            this.bcSet_.items.forEach((bc) => {\n                const ps = [];\n                if (bc === firstVisibleItem) {\n                    ps.push('first');\n                    if (!this.blade_ ||\n                        this.blade_.get('positions').includes('veryfirst')) {\n                        ps.push('veryfirst');\n                    }\n                }\n                if (bc === lastVisibleItem) {\n                    ps.push('last');\n                    if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                        ps.push('verylast');\n                    }\n                }\n                bc.blade.set('positions', ps);\n            });\n        }\n        onChildPositionsChange_() {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildViewPropsChange_(_ev) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildDispose_() {\n            const disposedUcs = this.bcSet_.items.filter((bc) => {\n                return bc.viewProps.get('disposed');\n            });\n            disposedUcs.forEach((bc) => {\n                this.bcSet_.remove(bc);\n            });\n        }\n        onChildInputChange_(ev) {\n            const bc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onChildMonitorUpdate_(ev) {\n            const bc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('monitorupdate', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onChildValueChange_(ev) {\n            const bc = findValueBladeController(this.find(ValueBladeController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantLayout_(_) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onDescendantInputChange_(ev) {\n            this.emitter.emit('inputchange', {\n                bladeController: ev.bladeController,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantMonitorUpdate_(ev) {\n            this.emitter.emit('monitorupdate', {\n                bladeController: ev.bladeController,\n                sender: this,\n            });\n        }\n        onBladePositionsChange_() {\n            this.updatePositions_();\n        }\n    }\n\n    class RackController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new PlainView(doc, {\n                    viewName: 'brk',\n                    viewProps: config.viewProps,\n                }) }));\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            const rack = new BladeRack(config.root ? undefined : config.blade);\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            this.rack = rack;\n            this.viewProps.handleDispose(() => {\n                for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                    const bc = this.rack.children[i];\n                    bc.viewProps.set('disposed', true);\n                }\n            });\n        }\n        onRackAdd_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            insertElementAt(this.view.element, ev.bladeController.view.element, ev.index);\n        }\n        onRackRemove_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            removeElement(ev.bladeController.view.element);\n        }\n    }\n\n    const bladeContainerClassName = ClassName('cnt');\n\n    class FolderView {\n        constructor(doc, config) {\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            this.foldable_ = config.foldable;\n            this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n            bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(this.className_('b'));\n            bindValueMap(config.props, 'title', (title) => {\n                if (isEmpty(title)) {\n                    this.element.classList.add(this.className_(undefined, 'not'));\n                }\n                else {\n                    this.element.classList.remove(this.className_(undefined, 'not'));\n                }\n            });\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(this.className_('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.buttonElement.appendChild(markElem);\n            const containerElem = config.containerElement;\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n        }\n    }\n\n    class FolderController extends RackLikeController {\n        constructor(doc, config) {\n            var _a;\n            const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            const rc = new RackController(doc, {\n                blade: config.blade,\n                root: config.root,\n                viewProps: config.viewProps,\n            });\n            super(Object.assign(Object.assign({}, config), { rackController: rc, view: new FolderView(doc, {\n                    containerElement: rc.view.element,\n                    foldable: foldable,\n                    props: config.props,\n                    viewName: config.root ? 'rot' : undefined,\n                    viewProps: config.viewProps,\n                }) }));\n            this.onTitleClick_ = this.onTitleClick_.bind(this);\n            this.props = config.props;\n            this.foldable = foldable;\n            bindFoldable(this.foldable, this.view.containerElement);\n            this.rackController.rack.emitter.on('add', () => {\n                this.foldable.cleanUpTransition();\n            });\n            this.rackController.rack.emitter.on('remove', () => {\n                this.foldable.cleanUpTransition();\n            });\n            this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n        }\n        get document() {\n            return this.view.element.ownerDocument;\n        }\n        onTitleClick_() {\n            this.foldable.set('expanded', !this.foldable.get('expanded'));\n        }\n    }\n\n    const FolderBladePlugin = {\n        id: 'folder',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('folder'),\n                expanded: p.optional.boolean,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new FolderController(args.document, {\n                blade: args.blade,\n                expanded: args.params.expanded,\n                props: ValueMap.fromObject({\n                    title: args.params.title,\n                }),\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof FolderController)) {\n                return null;\n            }\n            return new FolderApi(args.controller, args.pool);\n        },\n    };\n\n    class LabeledValueController extends ValueBladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { value: config.valueController.value, view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    class SeparatorApi extends BladeApi {\n    }\n\n    const className$n = ClassName('spr');\n    class SeparatorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$n());\n            config.viewProps.bindClassModifiers(this.element);\n            const hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$n('r'));\n            this.element.appendChild(hrElem);\n        }\n    }\n\n    class SeparatorController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                    viewProps: config.viewProps,\n                }) }));\n        }\n    }\n\n    const SeparatorBladePlugin = {\n        id: 'separator',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                view: p.required.constant('separator'),\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new SeparatorController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof SeparatorController)) {\n                return null;\n            }\n            return new SeparatorApi(args.controller);\n        },\n    };\n\n    const className$m = ClassName('');\n    function valueToModifier(elem, modifier) {\n        return valueToClassName(elem, className$m(undefined, modifier));\n    }\n    class ViewProps extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(opt_initialValue) {\n            var _a, _b;\n            const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n            const coreObj = {\n                disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n                disposed: false,\n                hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new ViewProps(core);\n        }\n        bindClassModifiers(elem) {\n            bindValueMap(this, 'disabled', valueToModifier(elem, 'disabled'));\n            bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n        }\n        bindDisabled(target) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                target.disabled = disabled;\n            });\n        }\n        bindTabIndex(elem) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                elem.tabIndex = disabled ? -1 : 0;\n            });\n        }\n        handleDispose(callback) {\n            this.value('disposed').emitter.on('change', (disposed) => {\n                if (disposed) {\n                    callback();\n                }\n            });\n        }\n    }\n\n    const className$l = ClassName('tbi');\n    class TabItemView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValueMap(config.props, 'selected', (selected) => {\n                if (selected) {\n                    this.element.classList.add(className$l(undefined, 'sel'));\n                }\n                else {\n                    this.element.classList.remove(className$l(undefined, 'sel'));\n                }\n            });\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$l('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$l('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n        }\n    }\n\n    class TabItemController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new TabItemView(doc, {\n                props: config.props,\n                viewProps: config.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class TabPageController {\n        constructor(doc, config) {\n            this.onItemClick_ = this.onItemClick_.bind(this);\n            this.ic_ = new TabItemController(doc, {\n                props: config.itemProps,\n                viewProps: ViewProps.create(),\n            });\n            this.ic_.emitter.on('click', this.onItemClick_);\n            this.cc_ = new RackController(doc, {\n                blade: createBlade(),\n                viewProps: ViewProps.create(),\n            });\n            this.props = config.props;\n            bindValueMap(this.props, 'selected', (selected) => {\n                this.itemController.props.set('selected', selected);\n                this.contentController.viewProps.set('hidden', !selected);\n            });\n        }\n        get itemController() {\n            return this.ic_;\n        }\n        get contentController() {\n            return this.cc_;\n        }\n        onItemClick_() {\n            this.props.set('selected', true);\n        }\n    }\n\n    class TabPageApi {\n        constructor(controller, contentRackApi) {\n            this.controller_ = controller;\n            this.rackApi_ = contentRackApi;\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.itemController.props.set('title', title);\n        }\n        get selected() {\n            return this.controller_.props.get('selected');\n        }\n        set selected(selected) {\n            this.controller_.props.set('selected', selected);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n    }\n\n    class TabApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.emitter_ = new Emitter();\n            this.pageApiMap_ = new Map();\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            this.controller_.pageSet.emitter.on('add', this.onPageAdd_);\n            this.controller_.pageSet.emitter.on('remove', this.onPageRemove_);\n            this.controller_.pageSet.items.forEach((pc) => {\n                this.setUpPageApi_(pc);\n            });\n        }\n        get pages() {\n            return this.controller_.pageSet.items.map((pc) => {\n                const api = this.pageApiMap_.get(pc);\n                if (!api) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return api;\n            });\n        }\n        addPage(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const pc = new TabPageController(doc, {\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: params.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n            });\n            this.controller_.add(pc, params.index);\n            const api = this.pageApiMap_.get(pc);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n        removePage(index) {\n            this.controller_.remove(index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpPageApi_(pc) {\n            const rackApi = this.rackApi_['apiSet_'].find((api) => api.controller_ === pc.contentController);\n            if (!rackApi) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = new TabPageApi(pc, rackApi);\n            this.pageApiMap_.set(pc, api);\n        }\n        onPageAdd_(ev) {\n            this.setUpPageApi_(ev.item);\n        }\n        onPageRemove_(ev) {\n            const api = this.pageApiMap_.get(ev.item);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.pageApiMap_.delete(ev.item);\n        }\n    }\n\n    const className$k = ClassName('tab');\n    class TabView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.empty, valueToClassName(this.element, className$k(undefined, 'nop')));\n            const itemsElem = doc.createElement('div');\n            itemsElem.classList.add(className$k('i'));\n            this.element.appendChild(itemsElem);\n            this.itemsElement = itemsElem;\n            const contentsElem = config.contentsElement;\n            contentsElem.classList.add(className$k('c'));\n            this.element.appendChild(contentsElem);\n            this.contentsElement = contentsElem;\n        }\n    }\n\n    class TabController extends RackLikeController {\n        constructor(doc, config) {\n            const cr = new RackController(doc, {\n                blade: config.blade,\n                viewProps: config.viewProps,\n            });\n            const empty = createValue(true);\n            super({\n                blade: config.blade,\n                rackController: cr,\n                view: new TabView(doc, {\n                    contentsElement: cr.view.element,\n                    empty: empty,\n                    viewProps: config.viewProps,\n                }),\n            });\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.onPageSelectedChange_ = this.onPageSelectedChange_.bind(this);\n            this.pageSet_ = new NestedOrderedSet(() => null);\n            this.pageSet_.emitter.on('add', this.onPageAdd_);\n            this.pageSet_.emitter.on('remove', this.onPageRemove_);\n            this.empty_ = empty;\n            this.applyPages_();\n        }\n        get pageSet() {\n            return this.pageSet_;\n        }\n        add(pc, opt_index) {\n            this.pageSet_.add(pc, opt_index !== null && opt_index !== void 0 ? opt_index : this.pageSet_.items.length);\n        }\n        remove(index) {\n            this.pageSet_.remove(this.pageSet_.items[index]);\n        }\n        applyPages_() {\n            this.keepSelection_();\n            this.empty_.rawValue = this.pageSet_.items.length === 0;\n        }\n        onPageAdd_(ev) {\n            const pc = ev.item;\n            insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n            this.rackController.rack.add(pc.contentController, ev.index);\n            pc.props.value('selected').emitter.on('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        onPageRemove_(ev) {\n            const pc = ev.item;\n            removeElement(pc.itemController.view.element);\n            this.rackController.rack.remove(pc.contentController);\n            pc.props\n                .value('selected')\n                .emitter.off('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        keepSelection_() {\n            if (this.pageSet_.items.length === 0) {\n                return;\n            }\n            const firstSelIndex = this.pageSet_.items.findIndex((pc) => pc.props.get('selected'));\n            if (firstSelIndex < 0) {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === 0);\n                });\n            }\n            else {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === firstSelIndex);\n                });\n            }\n        }\n        onPageSelectedChange_(ev) {\n            if (ev.rawValue) {\n                const index = this.pageSet_.items.findIndex((pc) => pc.props.value('selected') === ev.sender);\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === index);\n                });\n            }\n            else {\n                this.keepSelection_();\n            }\n        }\n    }\n\n    const TabBladePlugin = {\n        id: 'tab',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                pages: p.required.array(p.required.object({ title: p.required.string })),\n                view: p.required.constant('tab'),\n            });\n            if (!result || result.pages.length === 0) {\n                return null;\n            }\n            return { params: result };\n        },\n        controller(args) {\n            const c = new TabController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n            args.params.pages.forEach((p) => {\n                const pc = new TabPageController(args.document, {\n                    itemProps: ValueMap.fromObject({\n                        selected: false,\n                        title: p.title,\n                    }),\n                    props: ValueMap.fromObject({\n                        selected: false,\n                    }),\n                });\n                c.add(pc);\n            });\n            return c;\n        },\n        api(args) {\n            if (!(args.controller instanceof TabController)) {\n                return null;\n            }\n            return new TabApi(args.controller, args.pool);\n        },\n    };\n\n    function createBladeController(plugin, args) {\n        const ac = plugin.accept(args.params);\n        if (!ac) {\n            return null;\n        }\n        const disabled = ParamsParsers.optional.boolean(args.params['disabled']).value;\n        const hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;\n        return plugin.controller({\n            blade: createBlade(),\n            document: args.document,\n            params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: disabled, hidden: hidden })),\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n    }\n\n    class ManualTicker {\n        constructor() {\n            this.disabled = false;\n            this.emitter = new Emitter();\n        }\n        dispose() { }\n        tick() {\n            if (this.disabled) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class IntervalTicker {\n        constructor(doc, interval) {\n            this.disabled_ = false;\n            this.timerId_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            this.interval_ = interval;\n            this.setTimer_();\n        }\n        get disabled() {\n            return this.disabled_;\n        }\n        set disabled(inactive) {\n            this.disabled_ = inactive;\n            if (this.disabled_) {\n                this.clearTimer_();\n            }\n            else {\n                this.setTimer_();\n            }\n        }\n        dispose() {\n            this.clearTimer_();\n        }\n        clearTimer_() {\n            if (this.timerId_ === null) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                win.clearInterval(this.timerId_);\n            }\n            this.timerId_ = null;\n        }\n        setTimer_() {\n            this.clearTimer_();\n            if (this.interval_ <= 0) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n            }\n        }\n        onTick_() {\n            if (this.disabled_) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class CompositeConstraint {\n        constructor(constraints) {\n            this.constraints = constraints;\n        }\n        constrain(value) {\n            return this.constraints.reduce((result, c) => {\n                return c.constrain(result);\n            }, value);\n        }\n    }\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            const result = c.constraints.reduce((tmpResult, sc) => {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    class ListConstraint {\n        constructor(options) {\n            this.options = options;\n        }\n        constrain(value) {\n            const opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            const matched = opts.filter((item) => {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        }\n    }\n\n    class RangeConstraint {\n        constructor(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        constrain(value) {\n            let result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        }\n    }\n\n    class StepConstraint {\n        constructor(step) {\n            this.step = step;\n        }\n        constrain(value) {\n            const r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        }\n    }\n\n    const className$j = ClassName('lst');\n    class ListView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.props_ = config.props;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j());\n            config.viewProps.bindClassModifiers(this.element);\n            const selectElem = doc.createElement('select');\n            selectElem.classList.add(className$j('s'));\n            bindValueMap(this.props_, 'options', (opts) => {\n                removeChildElements(selectElem);\n                opts.forEach((item, index) => {\n                    const optionElem = doc.createElement('option');\n                    optionElem.dataset.index = String(index);\n                    optionElem.textContent = item.text;\n                    optionElem.value = String(item.value);\n                    selectElem.appendChild(optionElem);\n                });\n            });\n            config.viewProps.bindDisabled(selectElem);\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(className$j('m'));\n            markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value_ = config.value;\n            this.update_();\n        }\n        update_() {\n            this.selectElement.value = String(this.value_.rawValue);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ListController {\n        constructor(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ListView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        onSelectChange_(e) {\n            const selectElem = forceCast(e.currentTarget);\n            const optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            const itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.props.get('options')[itemIndex].value;\n        }\n    }\n\n    const className$i = ClassName('pop');\n    class PopupView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.shows, valueToClassName(this.element, className$i(undefined, 'v')));\n        }\n    }\n\n    class PopupController {\n        constructor(doc, config) {\n            this.shows = createValue(false);\n            this.viewProps = config.viewProps;\n            this.view = new PopupView(doc, {\n                shows: this.shows,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$h = ClassName('txt');\n    class TextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            config.viewProps.bindClassModifiers(this.element);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$h('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value_ = config.value;\n            this.refresh();\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value_.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class TextController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new TextView(doc, {\n                props: config.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n    }\n\n    function boolToString(value) {\n        return String(value);\n    }\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    class NumberLiteralNode {\n        constructor(text) {\n            this.text = text;\n        }\n        evaluate() {\n            return Number(this.text);\n        }\n        toString() {\n            return this.text;\n        }\n    }\n    const BINARY_OPERATION_MAP = {\n        '**': (v1, v2) => Math.pow(v1, v2),\n        '*': (v1, v2) => v1 * v2,\n        '/': (v1, v2) => v1 / v2,\n        '%': (v1, v2) => v1 % v2,\n        '+': (v1, v2) => v1 + v2,\n        '-': (v1, v2) => v1 - v2,\n        '<<': (v1, v2) => v1 << v2,\n        '>>': (v1, v2) => v1 >> v2,\n        '>>>': (v1, v2) => v1 >>> v2,\n        '&': (v1, v2) => v1 & v2,\n        '^': (v1, v2) => v1 ^ v2,\n        '|': (v1, v2) => v1 | v2,\n    };\n    class BinaryOperationNode {\n        constructor(operator, left, right) {\n            this.left = left;\n            this.operator = operator;\n            this.right = right;\n        }\n        evaluate() {\n            const op = BINARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected binary operator: '${this.operator}`);\n            }\n            return op(this.left.evaluate(), this.right.evaluate());\n        }\n        toString() {\n            return [\n                'b(',\n                this.left.toString(),\n                this.operator,\n                this.right.toString(),\n                ')',\n            ].join(' ');\n        }\n    }\n    const UNARY_OPERATION_MAP = {\n        '+': (v) => v,\n        '-': (v) => -v,\n        '~': (v) => ~v,\n    };\n    class UnaryOperationNode {\n        constructor(operator, expr) {\n            this.operator = operator;\n            this.expression = expr;\n        }\n        evaluate() {\n            const op = UNARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected unary operator: '${this.operator}`);\n            }\n            return op(this.expression.evaluate());\n        }\n        toString() {\n            return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n        }\n    }\n\n    function combineReader(parsers) {\n        return (text, cursor) => {\n            for (let i = 0; i < parsers.length; i++) {\n                const result = parsers[i](text, cursor);\n                if (result !== '') {\n                    return result;\n                }\n            }\n            return '';\n        };\n    }\n    function readWhitespace(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^\\s+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readNonZeroDigit(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        return ch.match(/^[1-9]$/) ? ch : '';\n    }\n    function readDecimalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readSignedInteger(text, cursor) {\n        const ds = readDecimalDigits(text, cursor);\n        if (ds !== '') {\n            return ds;\n        }\n        const sign = text.substr(cursor, 1);\n        cursor += 1;\n        if (sign !== '-' && sign !== '+') {\n            return '';\n        }\n        const sds = readDecimalDigits(text, cursor);\n        if (sds === '') {\n            return '';\n        }\n        return sign + sds;\n    }\n    function readExponentPart(text, cursor) {\n        const e = text.substr(cursor, 1);\n        cursor += 1;\n        if (e.toLowerCase() !== 'e') {\n            return '';\n        }\n        const si = readSignedInteger(text, cursor);\n        if (si === '') {\n            return '';\n        }\n        return e + si;\n    }\n    function readDecimalIntegerLiteral(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        if (ch === '0') {\n            return ch;\n        }\n        const nzd = readNonZeroDigit(text, cursor);\n        cursor += nzd.length;\n        if (nzd === '') {\n            return '';\n        }\n        return nzd + readDecimalDigits(text, cursor);\n    }\n    function readDecimalLiteral1(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        return dil + dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral2(text, cursor) {\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        if (dds === '') {\n            return '';\n        }\n        return dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral3(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        return dil + readExponentPart(text, cursor);\n    }\n    const readDecimalLiteral = combineReader([\n        readDecimalLiteral1,\n        readDecimalLiteral2,\n        readDecimalLiteral3,\n    ]);\n    function parseBinaryDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[01]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readBinaryIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0b') {\n            return '';\n        }\n        const bds = parseBinaryDigits(text, cursor);\n        if (bds === '') {\n            return '';\n        }\n        return prefix + bds;\n    }\n    function readOctalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-7]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readOctalIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0o') {\n            return '';\n        }\n        const ods = readOctalDigits(text, cursor);\n        if (ods === '') {\n            return '';\n        }\n        return prefix + ods;\n    }\n    function readHexDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readHexIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0x') {\n            return '';\n        }\n        const hds = readHexDigits(text, cursor);\n        if (hds === '') {\n            return '';\n        }\n        return prefix + hds;\n    }\n    const readNonDecimalIntegerLiteral = combineReader([\n        readBinaryIntegerLiteral,\n        readOctalIntegerLiteral,\n        readHexIntegerLiteral,\n    ]);\n    const readNumericLiteral = combineReader([\n        readNonDecimalIntegerLiteral,\n        readDecimalLiteral,\n    ]);\n\n    function parseLiteral(text, cursor) {\n        const num = readNumericLiteral(text, cursor);\n        cursor += num.length;\n        if (num === '') {\n            return null;\n        }\n        return {\n            evaluable: new NumberLiteralNode(num),\n            cursor: cursor,\n        };\n    }\n    function parseParenthesizedExpression(text, cursor) {\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '(') {\n            return null;\n        }\n        const expr = parseExpression(text, cursor);\n        if (!expr) {\n            return null;\n        }\n        cursor = expr.cursor;\n        cursor += readWhitespace(text, cursor).length;\n        const cl = text.substr(cursor, 1);\n        cursor += cl.length;\n        if (cl !== ')') {\n            return null;\n        }\n        return {\n            evaluable: expr.evaluable,\n            cursor: cursor,\n        };\n    }\n    function parsePrimaryExpression(text, cursor) {\n        return (parseLiteral(text, cursor) || parseParenthesizedExpression(text, cursor));\n    }\n    function parseUnaryExpression(text, cursor) {\n        const expr = parsePrimaryExpression(text, cursor);\n        if (expr) {\n            return expr;\n        }\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '+' && op !== '-' && op !== '~') {\n            return null;\n        }\n        const num = parseUnaryExpression(text, cursor);\n        if (!num) {\n            return null;\n        }\n        cursor = num.cursor;\n        return {\n            cursor: cursor,\n            evaluable: new UnaryOperationNode(op, num.evaluable),\n        };\n    }\n    function readBinaryOperator(ops, text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n        if (!op) {\n            return null;\n        }\n        cursor += op.length;\n        cursor += readWhitespace(text, cursor).length;\n        return {\n            cursor: cursor,\n            operator: op,\n        };\n    }\n    function createBinaryOperationExpressionParser(exprParser, ops) {\n        return (text, cursor) => {\n            const firstExpr = exprParser(text, cursor);\n            if (!firstExpr) {\n                return null;\n            }\n            cursor = firstExpr.cursor;\n            let expr = firstExpr.evaluable;\n            for (;;) {\n                const op = readBinaryOperator(ops, text, cursor);\n                if (!op) {\n                    break;\n                }\n                cursor = op.cursor;\n                const nextExpr = exprParser(text, cursor);\n                if (!nextExpr) {\n                    return null;\n                }\n                cursor = nextExpr.cursor;\n                expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n            }\n            return expr\n                ? {\n                    cursor: cursor,\n                    evaluable: expr,\n                }\n                : null;\n        };\n    }\n    const parseBinaryOperationExpression = [\n        ['**'],\n        ['*', '/', '%'],\n        ['+', '-'],\n        ['<<', '>>>', '>>'],\n        ['&'],\n        ['^'],\n        ['|'],\n    ].reduce((parser, ops) => {\n        return createBinaryOperationExpressionParser(parser, ops);\n    }, parseUnaryExpression);\n    function parseExpression(text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        return parseBinaryOperationExpression(text, cursor);\n    }\n    function parseEcmaNumberExpression(text) {\n        const expr = parseExpression(text, 0);\n        if (!expr) {\n            return null;\n        }\n        const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n        if (cursor !== text.length) {\n            return null;\n        }\n        return expr.evaluable;\n    }\n\n    function parseNumber(text) {\n        var _a;\n        const r = parseEcmaNumberExpression(text);\n        return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n    }\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            const pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    function numberToString(value) {\n        return String(value);\n    }\n    function createNumberFormatter(digits) {\n        return (value) => {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    const innerFormatter = createNumberFormatter(0);\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    function formatString(value) {\n        return value;\n    }\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    function initializeBuffer(bufferSize) {\n        const buffer = [];\n        fillBuffer(buffer, bufferSize);\n        return createValue(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        const index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    function createPushedBuffer(buffer, newValue) {\n        const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    function connectValues({ primary, secondary, forward, backward, }) {\n        let changing = false;\n        function preventFeedback(callback) {\n            if (changing) {\n                return;\n            }\n            changing = true;\n            callback();\n            changing = false;\n        }\n        primary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        secondary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                primary.setRawValue(backward(primary, secondary), ev.options);\n            });\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary, secondary), {\n                forceEmit: false,\n                last: true,\n            });\n        });\n    }\n\n    function getStepForKey(baseStep, keys) {\n        const step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowDown',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowUp',\n        };\n    }\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowLeft',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowRight',\n        };\n    }\n    function isVerticalArrowKey(key) {\n        return key === 'ArrowUp' || key === 'ArrowDown';\n    }\n    function isArrowKey(key) {\n        return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n    }\n\n    function computeOffset$1(ev, elem) {\n        const win = elem.ownerDocument.defaultView;\n        const rect = elem.getBoundingClientRect();\n        return {\n            x: ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            y: ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        };\n    }\n    class PointerHandler {\n        constructor(element) {\n            this.lastTouch_ = null;\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.elem_ = element;\n            this.emitter = new Emitter();\n            element.addEventListener('touchstart', this.onTouchStart_, {\n                passive: false,\n            });\n            element.addEventListener('touchmove', this.onTouchMove_, {\n                passive: true,\n            });\n            element.addEventListener('touchend', this.onTouchEnd_);\n            element.addEventListener('mousedown', this.onMouseDown_);\n        }\n        computePosition_(offset) {\n            const rect = this.elem_.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                point: offset\n                    ? {\n                        x: offset.x,\n                        y: offset.y,\n                    }\n                    : null,\n            };\n        }\n        onMouseDown_(ev) {\n            var _a;\n            ev.preventDefault();\n            (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            const doc = this.elem_.ownerDocument;\n            doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseMove_(ev) {\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseUp_(ev) {\n            const doc = this.elem_.ownerDocument;\n            doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchStart_(ev) {\n            ev.preventDefault();\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchMove_(ev) {\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchEnd_(ev) {\n            var _a;\n            const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n    }\n\n    function mapRange(value, start1, end1, start2, end2) {\n        const p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        const text = String(value.toFixed(10));\n        const frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    const className$g = ClassName('txt');\n    class NumberTextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g(), className$g(undefined, 'num'));\n            if (config.arrayPosition) {\n                this.element.classList.add(className$g(undefined, config.arrayPosition));\n            }\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$g('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n            this.dragging_ = config.dragging;\n            this.dragging_.emitter.on('change', this.onDraggingChange_);\n            this.element.classList.add(className$g());\n            this.inputElement.classList.add(className$g('i'));\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$g('k'));\n            this.element.appendChild(knobElem);\n            this.knobElement = knobElem;\n            const guideElem = doc.createElementNS(SVG_NS, 'svg');\n            guideElem.classList.add(className$g('g'));\n            this.knobElement.appendChild(guideElem);\n            const bodyElem = doc.createElementNS(SVG_NS, 'path');\n            bodyElem.classList.add(className$g('gb'));\n            guideElem.appendChild(bodyElem);\n            this.guideBodyElem_ = bodyElem;\n            const headElem = doc.createElementNS(SVG_NS, 'path');\n            headElem.classList.add(className$g('gh'));\n            guideElem.appendChild(headElem);\n            this.guideHeadElem_ = headElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(ClassName('tt')());\n            this.knobElement.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.refresh();\n        }\n        onDraggingChange_(ev) {\n            if (ev.rawValue === null) {\n                this.element.classList.remove(className$g(undefined, 'drg'));\n                return;\n            }\n            this.element.classList.add(className$g(undefined, 'drg'));\n            const x = ev.rawValue / this.props_.get('draggingScale');\n            const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n            const adx = constrainRange(-aox, -4, +4);\n            this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n            this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n            const formatter = this.props_.get('formatter');\n            this.tooltipElem_.textContent = formatter(this.value.rawValue);\n            this.tooltipElem_.style.left = `${x}px`;\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class NumberTextController {\n        constructor(doc, config) {\n            this.originRawValue_ = 0;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.onInputKeyUp_ = this.onInputKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.dragging_ = createValue(null);\n            this.view = new NumberTextView(doc, {\n                arrayPosition: config.arrayPosition,\n                dragging: this.dragging_,\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n            this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n            this.view.inputElement.addEventListener('keyup', this.onInputKeyUp_);\n            const ph = new PointerHandler(this.view.knobElement);\n            ph.emitter.on('down', this.onPointerDown_);\n            ph.emitter.on('move', this.onPointerMove_);\n            ph.emitter.on('up', this.onPointerUp_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n        onInputKeyDown_(ev) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue + step, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onInputKeyUp_(ev) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onPointerDown_() {\n            this.originRawValue_ = this.value.rawValue;\n            this.dragging_.rawValue = 0;\n        }\n        computeDraggingValue_(data) {\n            if (!data.point) {\n                return null;\n            }\n            const dx = data.point.x - data.bounds.width / 2;\n            return this.originRawValue_ + dx * this.props.get('draggingScale');\n        }\n        onPointerMove_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: false,\n                last: false,\n            });\n            this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n        }\n        onPointerUp_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: true,\n                last: true,\n            });\n            this.dragging_.rawValue = null;\n        }\n    }\n\n    const className$f = ClassName('sld');\n    class SliderView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            config.viewProps.bindClassModifiers(this.element);\n            const trackElem = doc.createElement('div');\n            trackElem.classList.add(className$f('t'));\n            config.viewProps.bindTabIndex(trackElem);\n            this.element.appendChild(trackElem);\n            this.trackElement = trackElem;\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$f('k'));\n            this.trackElement.appendChild(knobElem);\n            this.knobElement = knobElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('minValue'), this.props_.get('maxValue'), 0, 100), 0, 100);\n            this.knobElement.style.width = `${p}%`;\n        }\n        onChange_() {\n            this.update_();\n        }\n    }\n\n    class SliderController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.props = config.props;\n            this.view = new SliderView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.trackElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n            this.view.trackElement.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('minValue'), this.props.get('maxValue')), opts);\n        }\n        onPointerDownOrMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue + step, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$e = ClassName('sldtxt');\n    class SliderTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            const sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$e('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$e('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n    }\n\n    class SliderTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.sliderC_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                props: config.sliderProps,\n                value: config.value,\n                viewProps: this.viewProps,\n            });\n            this.textC_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                parser: config.parser,\n                props: config.textProps,\n                value: config.value,\n                viewProps: config.viewProps,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get sliderController() {\n            return this.sliderC_;\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    function parseListOptions(value) {\n        const p = ParamsParsers;\n        if (Array.isArray(value)) {\n            return p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            }))(value).value;\n        }\n        if (typeof value === 'object') {\n            return p.required.raw(value)\n                .value;\n        }\n        return undefined;\n    }\n    function parsePickerLayout(value) {\n        if (value === 'inline' || value === 'popup') {\n            return value;\n        }\n        return undefined;\n    }\n    function parsePointDimensionParams(value) {\n        const p = ParamsParsers;\n        return p.required.object({\n            max: p.optional.number,\n            min: p.optional.number,\n            step: p.optional.number,\n        })(value).value;\n    }\n    function normalizeListOptions(options) {\n        if (Array.isArray(options)) {\n            return options;\n        }\n        const items = [];\n        Object.keys(options).forEach((text) => {\n            items.push({ text: text, value: options[text] });\n        });\n        return items;\n    }\n    function createListConstraint(options) {\n        return !isEmpty(options)\n            ? new ListConstraint(normalizeListOptions(forceCast(options)))\n            : null;\n    }\n    function findListItems(constraint) {\n        const c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        const c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    function getBaseStep(constraint) {\n        const step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n    function getSuitableDraggingScale(constraint, rawValue) {\n        var _a;\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        const base = Math.abs((_a = sc === null || sc === void 0 ? void 0 : sc.step) !== null && _a !== void 0 ? _a : rawValue);\n        return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n    }\n\n    const className$d = ClassName('ckb');\n    class CheckboxView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('label');\n            labelElem.classList.add(className$d('l'));\n            this.element.appendChild(labelElem);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$d('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.viewProps.bindDisabled(this.inputElement);\n            const wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$d('w'));\n            labelElem.appendChild(wrapperElem);\n            const markElem = createSvgIconElement(doc, 'check');\n            wrapperElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            this.inputElement.checked = this.value.rawValue;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class CheckboxController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n        }\n    }\n\n    function createConstraint$5(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const BooleanInputPlugin = {\n        id: 'input-bool',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n            constraint: (args) => createConstraint$5(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new CheckboxController(doc, {\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const className$c = ClassName('col');\n    class ColorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            config.foldable.bindExpandedClass(this.element, className$c(undefined, 'expanded'));\n            bindValueMap(config.foldable, 'completed', valueToClassName(this.element, className$c(undefined, 'cpl')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$c('h'));\n            this.element.appendChild(headElem);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$c('s'));\n            headElem.appendChild(swatchElem);\n            this.swatchElement = swatchElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$c('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$c('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    function rgbToHsl(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const c = cmax - cmin;\n        let h = 0;\n        let s = 0;\n        const l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = c / (1 - Math.abs(cmax + cmin - 1));\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        const hp = ((h % 360) + 360) % 360;\n        const sp = constrainRange(s / 100, 0, 1);\n        const lp = constrainRange(l / 100, 0, 1);\n        const c = (1 - Math.abs(2 * lp - 1)) * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = lp - c / 2;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const d = cmax - cmin;\n        let h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        const s = cmax === 0 ? 0 : d / cmax;\n        const v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    function hsvToRgb(h, s, v) {\n        const hp = loopRange(h, 360);\n        const sp = constrainRange(s / 100, 0, 1);\n        const vp = constrainRange(v / 100, 0, 1);\n        const c = vp * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = vp - c;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function hslToHsv(h, s, l) {\n        const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n        return [\n            h,\n            sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n            l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n        ];\n    }\n    function hsvToHsl(h, s, v) {\n        const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n        return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n    }\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    const MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: (h, s, l) => [h, s, l],\n            hsv: hslToHsv,\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: hsvToHsl,\n            hsv: (h, s, v) => [h, s, v],\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: (r, g, b) => [r, g, b],\n        },\n    };\n    function convertColorMode(components, fromMode, toMode) {\n        return MODE_CONVERTER_MAP[fromMode][toMode](...components);\n    }\n\n    const CONSTRAINT_MAP = {\n        hsl: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: (comps) => {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    class Color {\n        constructor(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        static black() {\n            return new Color([0, 0, 0], 'rgb');\n        }\n        static fromObject(obj) {\n            const comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        }\n        static toRgbaObject(color) {\n            return color.toRgbaObject();\n        }\n        static isRgbColorObject(obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        }\n        static isRgbaColorObject(obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        }\n        static isColorObject(obj) {\n            return this.isRgbColorObject(obj);\n        }\n        static equals(v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            const comps1 = v1.comps_;\n            const comps2 = v2.comps_;\n            for (let i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        get mode() {\n            return this.mode_;\n        }\n        getComponents(opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        }\n        toRgbaObject() {\n            const rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        }\n    }\n\n    const className$b = ClassName('colp');\n    class ColorPickerView {\n        constructor(doc, config) {\n            this.alphaViews_ = null;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            const hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$b('hsv'));\n            const svElem = doc.createElement('div');\n            svElem.classList.add(className$b('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            const hElem = doc.createElement('div');\n            hElem.classList.add(className$b('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            const rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$b('rgb'));\n            this.textView_ = config.textView;\n            rgbElem.appendChild(this.textView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                const aElem = doc.createElement('div');\n                aElem.classList.add(className$b('a'));\n                const apElem = doc.createElement('div');\n                apElem.classList.add(className$b('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                const atElem = doc.createElement('div');\n                atElem.classList.add(className$b('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n        }\n        get allFocusableElements() {\n            const elems = [\n                this.svPaletteView_.element,\n                this.hPaletteView_.element,\n                this.textView_.modeSelectElement,\n                ...this.textView_.textViews.map((v) => v.inputElement),\n            ];\n            if (this.alphaViews_) {\n                elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n            }\n            return elems;\n        }\n    }\n\n    function parseColorInputParams(params) {\n        const p = ParamsParsers;\n        return parseParams(params, {\n            alpha: p.optional.boolean,\n            expanded: p.optional.boolean,\n            picker: p.optional.custom(parsePickerLayout),\n        });\n    }\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        const m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    const ANGLE_TO_DEG_MAP = {\n        deg: (angle) => angle,\n        grad: (angle) => (angle * 360) / 400,\n        rad: (angle) => (angle * 360) / (2 * Math.PI),\n        turn: (angle) => angle * 360,\n    };\n    function parseCssNumberOrAngle(text) {\n        const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        const angle = parseFloat(m[1]);\n        const unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    const NOTATION_TO_PARSER_MAP = {\n        'func.rgb': (text) => {\n            const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': (text) => {\n            const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': (text) => {\n            const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': (text) => {\n            const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': (text) => {\n            const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': (text) => {\n            const mRgb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    function getColorNotation(text) {\n        const notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce((result, notation) => {\n            if (result) {\n                return result;\n            }\n            const subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    const CompositeColorParser = (text) => {\n        const notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            const cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? `0${hex}` : hex;\n    }\n    function colorToHexRgbString(value, prefix = '#') {\n        const hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToHexRgbaString(value, prefix = '#') {\n        const rgbaComps = value.getComponents('rgb');\n        const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToFunctionalRgbString(value) {\n        const formatter = createNumberFormatter(0);\n        const comps = removeAlphaComponent(value.getComponents('rgb')).map((comp) => formatter(comp));\n        return `rgb(${comps.join(', ')})`;\n    }\n    function colorToFunctionalRgbaString(value) {\n        const aFormatter = createNumberFormatter(2);\n        const rgbFormatter = createNumberFormatter(0);\n        const comps = value.getComponents('rgb').map((comp, index) => {\n            const formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return `rgba(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        const comps = removeAlphaComponent(value.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n        return `hsl(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslaString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        const comps = value\n            .getComponents('hsl')\n            .map((comp, index) => formatters[index](comp));\n        return `hsla(${comps.join(', ')})`;\n    }\n    const NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    const className$a = ClassName('apl');\n    class APaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            config.viewProps.bindTabIndex(this.element);\n            const barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            const previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const rgbaComps = c.getComponents('rgb');\n            const leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            const rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            const gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class APaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const alpha = d.point.x / d.bounds.width;\n            const c = this.value.rawValue;\n            const [h, s, v] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h, s, v, alpha], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h, s, v, a + step], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$9 = ClassName('coltxt');\n    function createModeSelectElement(doc) {\n        const selectElem = doc.createElement('select');\n        const items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce((frag, item) => {\n            const optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    class ColorTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            const modeElem = doc.createElement('div');\n            modeElem.classList.add(className$9('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$9('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            const modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$9('mm'));\n            modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            const textsElem = doc.createElement('div');\n            textsElem.classList.add(className$9('w'));\n            this.element.appendChild(textsElem);\n            this.textsElem_ = textsElem;\n            this.textViews_ = config.textViews;\n            this.applyTextViews_();\n            bindValue(config.colorMode, (mode) => {\n                this.modeElem_.value = mode;\n            });\n        }\n        get modeSelectElement() {\n            return this.modeElem_;\n        }\n        get textViews() {\n            return this.textViews_;\n        }\n        set textViews(textViews) {\n            this.textViews_ = textViews;\n            this.applyTextViews_();\n        }\n        applyTextViews_() {\n            removeChildElements(this.textsElem_);\n            const doc = this.element.ownerDocument;\n            this.textViews_.forEach((v) => {\n                const compElem = doc.createElement('div');\n                compElem.classList.add(className$9('c'));\n                compElem.appendChild(v.element);\n                this.textsElem_.appendChild(compElem);\n            });\n        }\n    }\n\n    const FORMATTER = createNumberFormatter(0);\n    const MODE_TO_CONSTRAINT_MAP = {\n        rgb: () => {\n            return new RangeConstraint({ min: 0, max: 255 });\n        },\n        hsl: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n        hsv: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n    };\n    function createComponentController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n            baseStep: getBaseStepForColor(false),\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                draggingScale: 1,\n                formatter: FORMATTER,\n            }),\n            value: createValue(0, {\n                constraint: MODE_TO_CONSTRAINT_MAP[config.colorMode](index),\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class ColorTextController {\n        constructor(doc, config) {\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.colorMode = createValue(this.value.rawValue.mode);\n            this.ccs_ = this.createComponentControllers_(doc);\n            this.view = new ColorTextView(doc, {\n                colorMode: this.colorMode,\n                textViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        createComponentControllers_(doc) {\n            const cc = {\n                colorMode: this.colorMode.rawValue,\n                parser: this.parser_,\n                viewProps: this.viewProps,\n            };\n            const ccs = [\n                createComponentController(doc, cc, 0),\n                createComponentController(doc, cc, 1),\n                createComponentController(doc, cc, 2),\n            ];\n            ccs.forEach((cs, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: cs.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents(this.colorMode.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const pickedMode = this.colorMode.rawValue;\n                        const comps = p.rawValue.getComponents(pickedMode);\n                        comps[index] = s.rawValue;\n                        return new Color(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode);\n                    },\n                });\n            });\n            return ccs;\n        }\n        onModeSelectChange_(ev) {\n            const selectElem = ev.currentTarget;\n            this.colorMode.rawValue = selectElem.value;\n            this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n            this.view.textViews = [\n                this.ccs_[0].view,\n                this.ccs_[1].view,\n                this.ccs_[2].view,\n            ];\n        }\n    }\n\n    const className$8 = ClassName('hpl');\n    class HPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            config.viewProps.bindTabIndex(this.element);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$8('c'));\n            this.element.appendChild(colorElem);\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$8('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const [h] = c.getComponents('hsv');\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            const left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class HPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const hue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, 0, 359);\n            const c = this.value.rawValue;\n            const [, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([hue, s, v, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h + step, s, v, a], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$7 = ClassName('svp');\n    const CANVAS_RESOL = 64;\n    class SvPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            config.viewProps.bindTabIndex(this.element);\n            const canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$7('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$7('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const hsvComps = c.getComponents('hsv');\n            const width = this.canvasElement.width;\n            const height = this.canvasElement.height;\n            const imgData = ctx.getImageData(0, 0, width, height);\n            const data = imgData.data;\n            for (let iy = 0; iy < height; iy++) {\n                for (let ix = 0; ix < width; ix++) {\n                    const s = mapRange(ix, 0, width, 0, 100);\n                    const v = mapRange(iy, 0, height, 100, 0);\n                    const rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    const i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n            const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = `${top}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class SvPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n            const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n            const [h, , , a] = this.value.rawValue.getComponents('hsv');\n            this.value.setRawValue(new Color([h, saturation, value, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n            const baseStep = getBaseStepForColor(false);\n            const ds = getStepForKey(baseStep, getHorizontalStepKeys(ev));\n            const dv = getStepForKey(baseStep, getVerticalStepKeys(ev));\n            if (ds === 0 && dv === 0) {\n                return;\n            }\n            this.value.setRawValue(new Color([h, s + ds, v + dv, a], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const baseStep = getBaseStepForColor(false);\n            const ds = getStepForKey(baseStep, getHorizontalStepKeys(ev));\n            const dv = getStepForKey(baseStep, getVerticalStepKeys(ev));\n            if (ds === 0 && dv === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    class ColorPickerController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.hPaletteC_ = new HPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.svPaletteC_ = new SvPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.value,\n                        viewProps: this.viewProps,\n                    }),\n                    text: new NumberTextController(doc, {\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        props: ValueMap.fromObject({\n                            draggingScale: 0.01,\n                            formatter: createNumberFormatter(2),\n                        }),\n                        value: createValue(0, {\n                            constraint: new RangeConstraint({ min: 0, max: 1 }),\n                        }),\n                        viewProps: this.viewProps,\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connectValues({\n                    primary: this.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: (p, s) => {\n                        const comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.textC_ = new ColorTextController(doc, {\n                parser: parseNumber,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                hPaletteView: this.hPaletteC_.view,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    const className$6 = ClassName('colsw');\n    class ColorSwatchView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            config.viewProps.bindClassModifiers(this.element);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$6('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$6('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            this.update_();\n        }\n        update_() {\n            const value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ColorSwatchController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ColorSwatchView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    class ColorController {\n        constructor(doc, config) {\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.swatchC_ = new ColorSwatchController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            const buttonElem = this.swatchC_.view.buttonElement;\n            buttonElem.addEventListener('blur', this.onButtonBlur_);\n            buttonElem.addEventListener('click', this.onButtonClick_);\n            this.textC_ = new TextController(doc, {\n                parser: config.parser,\n                props: ValueMap.fromObject({\n                    formatter: config.formatter,\n                }),\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorView(doc, {\n                foldable: this.foldable_,\n                pickerLayout: config.pickerLayout,\n            });\n            this.view.swatchElement.appendChild(this.swatchC_.view.element);\n            this.view.textElement.appendChild(this.textC_.view.element);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const pickerC = new ColorPickerController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            pickerC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = pickerC;\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(pickerC.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        get textController() {\n            return this.textC_;\n        }\n        onButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.swatchC_.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.swatchC_.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce((result, comp, index) => {\n            const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        const stringify = getColorStringifier(notation);\n        return (target, value) => {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return (target, value) => {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha$1(inputParams) {\n        return 'alpha' in inputParams && inputParams.alpha === true;\n    }\n    function createFormatter$1(supportsAlpha) {\n        return supportsAlpha\n            ? (v) => colorToHexRgbaString(v, '0x')\n            : (v) => colorToHexRgbString(v, '0x');\n    }\n    const NumberColorInputPlugin = {\n        id: 'input-color-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('view' in params)) {\n                return null;\n            }\n            if (params.view !== 'color') {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (args) => {\n                return shouldSupportAlpha$1(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: (args) => {\n                return createColorNumberWriter(shouldSupportAlpha$1(args.params));\n            },\n        },\n        controller: (args) => {\n            const supportsAlpha = shouldSupportAlpha$1(args.params);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: createFormatter$1(supportsAlpha),\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function shouldSupportAlpha(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    const ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Color.isColorObject(value)) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromObject,\n            equals: Color.equals,\n            writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue)),\n        },\n        controller: (args) => {\n            const supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            const formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const StringColorInputPlugin = {\n        id: 'input-color-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('view' in params && params.view === 'text') {\n                return null;\n            }\n            const notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromString,\n            equals: Color.equals,\n            writer: (args) => {\n                const notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: (args) => {\n            const notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            const stringifier = getColorStringifier(notation);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class PointNdConstraint {\n        constructor(config) {\n            this.components = config.components;\n            this.asm_ = config.assembly;\n        }\n        constrain(value) {\n            const comps = this.asm_\n                .toComponents(value)\n                .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n            return this.asm_.fromComponents(comps);\n        }\n    }\n\n    const className$5 = ClassName('pndtxt');\n    class PointNdTextView {\n        constructor(doc, config) {\n            this.textViews = config.textViews;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            this.textViews.forEach((v) => {\n                const axisElem = doc.createElement('div');\n                axisElem.classList.add(className$5('a'));\n                axisElem.appendChild(v.element);\n                this.element.appendChild(axisElem);\n            });\n        }\n    }\n\n    function createAxisController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n            baseStep: config.axes[index].baseStep,\n            parser: config.parser,\n            props: config.axes[index].textProps,\n            value: createValue(0, {\n                constraint: config.axes[index].constraint,\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class PointNdTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n            this.acs_.forEach((c, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: c.value,\n                    forward: (p) => {\n                        return config.assembly.toComponents(p.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const comps = config.assembly.toComponents(p.rawValue);\n                        comps[index] = s.rawValue;\n                        return config.assembly.fromComponents(comps);\n                    },\n                });\n            });\n            this.view = new PointNdTextView(doc, {\n                textViews: this.acs_.map((ac) => ac.view),\n            });\n        }\n    }\n\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$4(params) {\n        const constraints = [];\n        const sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        const rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function findRange(constraint) {\n        const c = constraint ? findConstraint(constraint, RangeConstraint) : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(constraint) {\n        const [min, max] = findRange(constraint);\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    const NumberInputPlugin = {\n        id: 'input-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                max: p.optional.number,\n                min: p.optional.number,\n                options: p.optional.custom(parseListOptions),\n                step: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => numberFromUnknown,\n            constraint: (args) => createConstraint$4(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a, _b;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            const formatter = (_b = ('format' in args.params ? args.params.format : undefined)) !== null && _b !== void 0 ? _b : createNumberFormatter(getSuitableDecimalDigits(c, value.rawValue));\n            if (c && findConstraint(c, RangeConstraint)) {\n                const [min, max] = estimateSuitableRange(c);\n                return new SliderTextController(args.document, {\n                    baseStep: getBaseStep(c),\n                    parser: parseNumber,\n                    sliderProps: ValueMap.fromObject({\n                        maxValue: max,\n                        minValue: min,\n                    }),\n                    textProps: ValueMap.fromObject({\n                        draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                        formatter: formatter,\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new NumberTextController(args.document, {\n                baseStep: getBaseStep(c),\n                parser: parseNumber,\n                props: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                    formatter: formatter,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point2d {\n        constructor(x = 0, y = 0) {\n            this.x = x;\n            this.y = y;\n        }\n        getComponents() {\n            return [this.x, this.y];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        }\n    }\n    const Point2dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point2d(...comps),\n    };\n\n    const className$4 = ClassName('p2d');\n    class Point2dView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.expanded, valueToClassName(this.element, className$4(undefined, 'expanded')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$4('h'));\n            this.element.appendChild(headElem);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$4('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            config.viewProps.bindDisabled(buttonElem);\n            headElem.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$4('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$4('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    const className$3 = ClassName('p2dp');\n    class Point2dPickerView {\n        constructor(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            if (config.layout === 'popup') {\n                this.element.classList.add(className$3(undefined, 'p'));\n            }\n            const padElem = doc.createElement('div');\n            padElem.classList.add(className$3('p'));\n            config.viewProps.bindTabIndex(padElem);\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$3('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$3('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$3('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            const lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$3('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$3('m'));\n            this.padElement.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        get allFocusableElements() {\n            return [this.padElement];\n        }\n        update_() {\n            const [x, y] = this.value.rawValue.getComponents();\n            const max = this.maxValue_;\n            const px = mapRange(x, -max, +max, 0, 100);\n            const py = mapRange(y, -max, +max, 0, 100);\n            const ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n            this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n            this.markerElem_.style.left = `${px}%`;\n            this.markerElem_.style.top = `${ipy}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n        onFoldableChange_() {\n            this.update_();\n        }\n    }\n\n    function computeOffset(ev, baseSteps, invertsY) {\n        return [\n            getStepForKey(baseSteps[0], getHorizontalStepKeys(ev)),\n            getStepForKey(baseSteps[1], getVerticalStepKeys(ev)) * (invertsY ? 1 : -1),\n        ];\n    }\n    class Point2dPickerController {\n        constructor(doc, config) {\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPadKeyUp_ = this.onPadKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPickerView(doc, {\n                invertsY: this.invertsY_,\n                layout: config.layout,\n                maxValue: this.maxValue_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n            this.view.padElement.addEventListener('keyup', this.onPadKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const max = this.maxValue_;\n            const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n            const py = mapRange(this.invertsY_ ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n            this.value.setRawValue(new Point2d(px, py), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onPadKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [dx, dy] = computeOffset(ev, this.baseSteps_, this.invertsY_);\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            this.value.setRawValue(new Point2d(this.value.rawValue.x + dx, this.value.rawValue.y + dy), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPadKeyUp_(ev) {\n            const [dx, dy] = computeOffset(ev, this.baseSteps_, this.invertsY_);\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    class Point2dController {\n        constructor(doc, config) {\n            var _a, _b;\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const padC = new Point2dPickerController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                layout: config.pickerLayout,\n                maxValue: config.maxValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            padC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = padC;\n            this.textC_ = new PointNdTextController(doc, {\n                assembly: Point2dAssembly,\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new Point2dView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n                viewProps: this.viewProps,\n            });\n            this.view.textElement.appendChild(this.textC_.view.element);\n            (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n            (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(this.pickerC_.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        onPadButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onPadButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint$2(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new PointNdConstraint({\n            assembly: Point2dAssembly,\n            components: [\n                createDimensionConstraint$2('x' in params ? params.x : undefined),\n                createDimensionConstraint$2('y' in params ? params.y : undefined),\n            ],\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        const rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        const step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    function getSuitableMaxValue(initialValue, constraint) {\n        const xc = constraint instanceof PointNdConstraint\n            ? constraint.components[0]\n            : undefined;\n        const yc = constraint instanceof PointNdConstraint\n            ? constraint.components[1]\n            : undefined;\n        const xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        const yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createAxis$2(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        const yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    const Point2dInputPlugin = {\n        id: 'input-point2d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point2d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                expanded: p.optional.boolean,\n                picker: p.optional.custom(parsePickerLayout),\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.object({\n                    inverted: p.optional.boolean,\n                    max: p.optional.number,\n                    min: p.optional.number,\n                    step: p.optional.number,\n                }),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point2dFromUnknown,\n            constraint: (args) => createConstraint$3(args.params),\n            equals: Point2d.equals,\n            writer: (_args) => writePoint2d,\n        },\n        controller: (args) => {\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new Point2dController(doc, {\n                axes: [\n                    createAxis$2(value.rawValue.x, c.components[0]),\n                    createAxis$2(value.rawValue.y, c.components[1]),\n                ],\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                invertsY: shouldInvertY(args.params),\n                maxValue: getSuitableMaxValue(value.rawValue, c),\n                parser: parseNumber,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point3d {\n        constructor(x = 0, y = 0, z = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        }\n    }\n    const Point3dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point3d(...comps),\n    };\n\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new PointNdConstraint({\n            assembly: Point3dAssembly,\n            components: [\n                createDimensionConstraint$1('x' in params ? params.x : undefined),\n                createDimensionConstraint$1('y' in params ? params.y : undefined),\n                createDimensionConstraint$1('z' in params ? params.z : undefined),\n            ],\n        });\n    }\n    function createAxis$1(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point3dInputPlugin = {\n        id: 'input-point3d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point3d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point3dFromUnknown,\n            constraint: (args) => createConstraint$2(args.params),\n            equals: Point3d.equals,\n            writer: (_args) => writePoint3d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point3dAssembly,\n                axes: [\n                    createAxis$1(value.rawValue.x, c.components[0]),\n                    createAxis$1(value.rawValue.y, c.components[1]),\n                    createAxis$1(value.rawValue.z, c.components[2]),\n                ],\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point4d {\n        constructor(x = 0, y = 0, z = 0, w = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z, this.w];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            const w = obj.w;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number' ||\n                typeof w !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n                w: this.w,\n            };\n        }\n    }\n    const Point4dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point4d(...comps),\n    };\n\n    function point4dFromUnknown(value) {\n        return Point4d.isObject(value)\n            ? new Point4d(value.x, value.y, value.z, value.w)\n            : new Point4d();\n    }\n    function writePoint4d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n        target.writeProperty('w', value.w);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$1(params) {\n        return new PointNdConstraint({\n            assembly: Point4dAssembly,\n            components: [\n                createDimensionConstraint('x' in params ? params.x : undefined),\n                createDimensionConstraint('y' in params ? params.y : undefined),\n                createDimensionConstraint('z' in params ? params.z : undefined),\n                createDimensionConstraint('w' in params ? params.w : undefined),\n            ],\n        });\n    }\n    function createAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point4dInputPlugin = {\n        id: 'input-point4d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point4d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n                w: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point4dFromUnknown,\n            constraint: (args) => createConstraint$1(args.params),\n            equals: Point4d.equals,\n            writer: (_args) => writePoint4d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point4dAssembly,\n                axes: value.rawValue\n                    .getComponents()\n                    .map((comp, index) => createAxis(comp, c.components[index])),\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function createConstraint(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const StringInputPlugin = {\n        id: 'input-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n            constraint: (args) => createConstraint(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new TextController(doc, {\n                parser: (v) => v,\n                props: ValueMap.fromObject({\n                    formatter: formatString,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    const className$2 = ClassName('mll');\n    class MultiLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            config.viewProps.bindClassModifiers(this.element);\n            const textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$2('i'));\n            textareaElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            textareaElem.readOnly = true;\n            config.viewProps.bindDisabled(textareaElem);\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const elem = this.textareaElem_;\n            const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            const lines = [];\n            this.value.rawValue.forEach((value) => {\n                if (value !== undefined) {\n                    lines.push(this.formatter_(value));\n                }\n            });\n            elem.textContent = lines.join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class MultiLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$1 = ClassName('sgl');\n    class SingleLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$1());\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$1('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const values = this.value.rawValue;\n            const lastValue = values[values.length - 1];\n            this.inputElement.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class SingleLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class GraphCursor {\n        constructor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        get index() {\n            return this.index_;\n        }\n        set index(index) {\n            const changed = this.index_ !== index;\n            if (changed) {\n                this.index_ = index;\n                this.emitter.emit('change', {\n                    index: index,\n                    sender: this,\n                });\n            }\n        }\n    }\n\n    const className = ClassName('grl');\n    class GraphLogView {\n        constructor(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className('g'));\n            svgElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className('t'), ClassName('tt')());\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        get graphElement() {\n            return this.svgElem_;\n        }\n        update_() {\n            const bounds = this.svgElem_.getBoundingClientRect();\n            const maxIndex = this.value.rawValue.length - 1;\n            const min = this.minValue_;\n            const max = this.maxValue_;\n            const points = [];\n            this.value.rawValue.forEach((v, index) => {\n                if (v === undefined) {\n                    return;\n                }\n                const x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                const y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            const tooltipElem = this.tooltipElem_;\n            const value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className('t', 'a'));\n                return;\n            }\n            const tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            const ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = `${tx}px`;\n            tooltipElem.style.top = `${ty}px`;\n            tooltipElem.textContent = `${this.formatter_(value)}`;\n            if (!tooltipElem.classList.contains(className('t', 'a'))) {\n                tooltipElem.classList.add(className('t', 'a'), className('t', 'in'));\n                forceReflow(tooltipElem);\n                tooltipElem.classList.remove(className('t', 'in'));\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n        onCursorChange_() {\n            this.update_();\n        }\n    }\n\n    class GraphLogController {\n        constructor(doc, config) {\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n            this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n            this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            if (!supportsTouch(doc)) {\n                this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n                this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            }\n            else {\n                const ph = new PointerHandler(this.view.element);\n                ph.emitter.on('down', this.onGraphPointerDown_);\n                ph.emitter.on('move', this.onGraphPointerMove_);\n                ph.emitter.on('up', this.onGraphPointerUp_);\n            }\n        }\n        onGraphMouseLeave_() {\n            this.cursor_.index = -1;\n        }\n        onGraphMouseMove_(ev) {\n            const bounds = this.view.element.getBoundingClientRect();\n            this.cursor_.index = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerDown_(ev) {\n            this.onGraphPointerMove_(ev);\n        }\n        onGraphPointerMove_(ev) {\n            if (!ev.data.point) {\n                this.cursor_.index = -1;\n                return;\n            }\n            this.cursor_.index = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerUp_() {\n            this.cursor_.index = -1;\n        }\n    }\n\n    function createFormatter(params) {\n        return 'format' in params && !isEmpty(params.format)\n            ? params.format\n            : createNumberFormatter(2);\n    }\n    function createTextMonitor(args) {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: createFormatter(args.params),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function createGraphMonitor(args) {\n        var _a, _b, _c;\n        return new GraphLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            maxValue: (_b = ('max' in args.params ? args.params.max : null)) !== null && _b !== void 0 ? _b : 100,\n            minValue: (_c = ('min' in args.params ? args.params.min : null)) !== null && _c !== void 0 ? _c : 0,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    const NumberMonitorPlugin = {\n        id: 'monitor-number',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                lineCount: p.optional.number,\n                max: p.optional.number,\n                min: p.optional.number,\n                view: p.optional.string,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n            reader: (_args) => numberFromUnknown,\n        },\n        controller: (args) => {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    const StringMonitorPlugin = {\n        id: 'monitor-string',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n                multiline: p.optional.boolean,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            const value = args.value;\n            const multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new SingleLogController(args.document, {\n                formatter: formatString,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class InputBinding {\n        constructor(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        }\n        write_(rawValue) {\n            this.writer(this.target, rawValue);\n        }\n        onValueChange_(ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                options: ev.options,\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        }\n    }\n\n    function createInputBindingController(plugin, args) {\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const p = ParamsParsers;\n        const valueArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(valueArgs);\n        const constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        const value = createValue(reader(result.initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        const binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        const disabled = p.optional.boolean(args.params.disabled).value;\n        const hidden = p.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            constraint: constraint,\n            document: args.document,\n            initialValue: result.initialValue,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = p.optional.string(args.params.label).value;\n        return new InputBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class MonitorBinding {\n        constructor(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        dispose() {\n            this.ticker.dispose();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            const buffer = this.value.rawValue;\n            const newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        }\n        onTick_(_) {\n            this.read();\n        }\n    }\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createMonitorBindingController(plugin, args) {\n        var _a, _b, _c;\n        const P = ParamsParsers;\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const bindingArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(bindingArgs);\n        const bufferSize = (_b = (_a = P.optional.number(args.params.bufferSize).value) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n        const interval = P.optional.number(args.params.interval).value;\n        const binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, interval),\n            value: initializeBuffer(bufferSize),\n        });\n        const disabled = P.optional.boolean(args.params.disabled).value;\n        const hidden = P.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            document: args.document,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = (_c = P.optional.string(args.params.label).value) !== null && _c !== void 0 ? _c : args.target.key;\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class PluginPool {\n        constructor() {\n            this.pluginsMap_ = {\n                blades: [],\n                inputs: [],\n                monitors: [],\n            };\n        }\n        getAll() {\n            return [\n                ...this.pluginsMap_.blades,\n                ...this.pluginsMap_.inputs,\n                ...this.pluginsMap_.monitors,\n            ];\n        }\n        register(r) {\n            if (r.type === 'blade') {\n                this.pluginsMap_.blades.unshift(r);\n            }\n            else if (r.type === 'input') {\n                this.pluginsMap_.inputs.unshift(r);\n            }\n            else if (r.type === 'monitor') {\n                this.pluginsMap_.monitors.unshift(r);\n            }\n        }\n        createInput(document, target, params) {\n            const initialValue = target.read();\n            if (isEmpty(initialValue)) {\n                throw new TpError({\n                    context: {\n                        key: target.key,\n                    },\n                    type: 'nomatchingcontroller',\n                });\n            }\n            const bc = this.pluginsMap_.inputs.reduce((result, plugin) => result ||\n                createInputBindingController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createMonitor(document, target, params) {\n            const bc = this.pluginsMap_.monitors.reduce((result, plugin) => result ||\n                createMonitorBindingController(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createBlade(document, params) {\n            const bc = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                createBladeController(plugin, {\n                    document: document,\n                    params: params,\n                }), null);\n            if (!bc) {\n                throw new TpError({\n                    type: 'nomatchingview',\n                    context: {\n                        params: params,\n                    },\n                });\n            }\n            return bc;\n        }\n        createBladeApi(bc) {\n            if (bc instanceof InputBindingController) {\n                return new InputBindingApi(bc);\n            }\n            if (bc instanceof MonitorBindingController) {\n                return new MonitorBindingApi(bc);\n            }\n            if (bc instanceof RackController) {\n                return new RackApi(bc, this);\n            }\n            const api = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                plugin.api({\n                    controller: bc,\n                    pool: this,\n                }), null);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n    }\n\n    function createDefaultPluginPool() {\n        const pool = new PluginPool();\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            Point4dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n            BooleanMonitorPlugin,\n            StringMonitorPlugin,\n            NumberMonitorPlugin,\n            ButtonBladePlugin,\n            FolderBladePlugin,\n            SeparatorBladePlugin,\n            TabBladePlugin,\n        ].forEach((p) => {\n            pool.register(p);\n        });\n        return pool;\n    }\n\n    class ListApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get options() {\n            return this.controller_.valueController.props.get('options');\n        }\n        set options(options) {\n            this.controller_.valueController.props.set('options', options);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class SliderApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get maxValue() {\n            return this.controller_.valueController.sliderController.props.get('maxValue');\n        }\n        set maxValue(maxValue) {\n            this.controller_.valueController.sliderController.props.set('maxValue', maxValue);\n        }\n        get minValue() {\n            return this.controller_.valueController.sliderController.props.get('minValue');\n        }\n        set minValue(minValue) {\n            this.controller_.valueController.sliderController.props.set('minValue', minValue);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class TextApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get formatter() {\n            return this.controller_.valueController.props.get('formatter');\n        }\n        set formatter(formatter) {\n            this.controller_.valueController.props.set('formatter', formatter);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    const ListBladePlugin = (function () {\n        return {\n            id: 'list',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    options: p.required.custom(parseListOptions),\n                    value: p.required.raw,\n                    view: p.required.constant('list'),\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                const ic = new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: normalizeListOptions(args.params.options),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof ListController)) {\n                    return null;\n                }\n                return new ListApi(args.controller);\n            },\n        };\n    })();\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce((result, target) => {\n            return Object.assign(result, {\n                [target.presetKey]: target.read(),\n            });\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach((target) => {\n            const value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    class RootApi extends FolderApi {\n        /**\n         * @hidden\n         */\n        constructor(controller, pool) {\n            super(controller, pool);\n        }\n        get element() {\n            return this.controller_.view.element;\n        }\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        importPreset(preset) {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        }\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        exportPreset() {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        }\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        refresh() {\n            // Force-read all input bindings\n            this.controller_.rackController.rack\n                .find(InputBindingController)\n                .forEach((ibc) => {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller_.rackController.rack\n                .find(MonitorBindingController)\n                .forEach((mbc) => {\n                mbc.binding.read();\n            });\n        }\n    }\n\n    class RootController extends FolderController {\n        constructor(doc, config) {\n            super(doc, {\n                expanded: config.expanded,\n                blade: config.blade,\n                props: config.props,\n                root: true,\n                viewProps: config.viewProps,\n            });\n        }\n    }\n\n    const SliderBladePlugin = {\n        id: 'slider',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                max: p.required.number,\n                min: p.required.number,\n                view: p.required.constant('slider'),\n                format: p.optional.function,\n                label: p.optional.string,\n                value: p.optional.number,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a, _b;\n            const v = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n            const vc = new SliderTextController(args.document, {\n                baseStep: 1,\n                parser: parseNumber,\n                sliderProps: ValueMap.fromObject({\n                    maxValue: args.params.max,\n                    minValue: args.params.min,\n                }),\n                textProps: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(undefined, v),\n                    formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n                }),\n                value: createValue(v),\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: vc,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof SliderTextController)) {\n                return null;\n            }\n            return new SliderApi(args.controller);\n        },\n    };\n\n    const TextBladePlugin = (function () {\n        return {\n            id: 'text',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    parse: p.required.function,\n                    value: p.required.raw,\n                    view: p.required.constant('text'),\n                    format: p.optional.function,\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                var _a;\n                const ic = new TextController(args.document, {\n                    parser: args.params.parse,\n                    props: ValueMap.fromObject({\n                        formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof TextController)) {\n                    return null;\n                }\n                return new TextApi(args.controller);\n            },\n        };\n    })();\n\n    function createDefaultWrapperElement(doc) {\n        const elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n            return;\n        }\n        const styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    /**\n     * The root pane of Tweakpane.\n     */\n    class Pane extends RootApi {\n        constructor(opt_config) {\n            var _a;\n            const config = opt_config || {};\n            const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            const pool = createDefaultPluginPool();\n            const rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: createBlade(),\n                props: ValueMap.fromObject({\n                    title: config.title,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            super(rootController, pool);\n            this.pool_ = pool;\n            this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            this.containerElem_.appendChild(this.element);\n            this.doc_ = doc;\n            this.usesDefaultWrapper_ = !config.container;\n            this.setUpDefaultPlugins_();\n        }\n        get document() {\n            if (!this.doc_) {\n                throw TpError.alreadyDisposed();\n            }\n            return this.doc_;\n        }\n        dispose() {\n            const containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                const parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            super.dispose();\n        }\n        registerPlugin(bundle) {\n            const plugins = 'plugin' in bundle\n                ? [bundle.plugin]\n                : 'plugins' in bundle\n                    ? bundle.plugins\n                    : [];\n            plugins.forEach((p) => {\n                this.pool_.register(p);\n                this.embedPluginStyle_(p);\n            });\n        }\n        embedPluginStyle_(plugin) {\n            if (plugin.css) {\n                embedStyle(this.document, `plugin-${plugin.id}`, plugin.css);\n            }\n        }\n        setUpDefaultPlugins_() {\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            embedStyle(this.document, 'default', '.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\"\";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:\"\";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:\"\";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\"\";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\"\";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:\"\";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:\"\";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:\"\";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\"\";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:\"\";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}');\n            this.pool_.getAll().forEach((plugin) => {\n                this.embedPluginStyle_(plugin);\n            });\n            this.registerPlugin({\n                plugins: [\n                    SliderBladePlugin,\n                    ListBladePlugin,\n                    TabBladePlugin,\n                    TextBladePlugin,\n                ],\n            });\n        }\n    }\n\n    const VERSION = new Semver('3.0.8');\n\n    exports.BladeApi = BladeApi;\n    exports.ButtonApi = ButtonApi;\n    exports.FolderApi = FolderApi;\n    exports.InputBindingApi = InputBindingApi;\n    exports.ListApi = ListApi;\n    exports.MonitorBindingApi = MonitorBindingApi;\n    exports.Pane = Pane;\n    exports.SeparatorApi = SeparatorApi;\n    exports.SliderApi = SliderApi;\n    exports.TabApi = TabApi;\n    exports.TabPageApi = TabPageApi;\n    exports.TextApi = TextApi;\n    exports.TpChangeEvent = TpChangeEvent;\n    exports.VERSION = VERSION;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _construct;\nvar _setPrototypeOf = _interopRequireDefault(require(\"./_set_prototype_of\"));\nfunction _construct(Parent, args, Class) {\n    return construct.apply(null, arguments);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\nfunction construct(Parent1, args1, Class1) {\n    if (isNativeReflectConstruct()) {\n        construct = Reflect.construct;\n    } else {\n        construct = function construct(Parent, args, Class) {\n            var a = [\n                null\n            ];\n            a.push.apply(a, args);\n            var Constructor = Function.bind.apply(Parent, a);\n            var instance = new Constructor();\n            if (Class) (0, _setPrototypeOf).default(instance, Class.prototype);\n            return instance;\n        };\n    }\n    return construct.apply(null, arguments);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _get;\nvar _superPropBase = _interopRequireDefault(require(\"./_super_prop_base\"));\nfunction _get(target, property, receiver) {\n    return get(target, property, receiver);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction get(target1, property1, receiver1) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n        get = Reflect.get;\n    } else {\n        get = function get(target, property, receiver) {\n            var base = (0, _superPropBase).default(target, property);\n            if (!base) return;\n            var desc = Object.getOwnPropertyDescriptor(base, property);\n            if (desc.get) {\n                return desc.get.call(receiver || target);\n            }\n            return desc.value;\n        };\n    }\n    return get(target1, property1, receiver1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _inherits;\nvar _setPrototypeOf = _interopRequireDefault(require(\"./_set_prototype_of\"));\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (superClass) (0, _setPrototypeOf).default(subClass, superClass);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createSuper;\nvar _isNativeReflectConstruct = _interopRequireDefault(require(\"./_is_native_reflect_construct\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nvar _possibleConstructorReturn = _interopRequireDefault(require(\"./_possible_constructor_return\"));\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = (0, _isNativeReflectConstruct).default();\n    return function _createSuperInternal() {\n        var Super = (0, _getPrototypeOf).default(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = (0, _getPrototypeOf).default(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return (0, _possibleConstructorReturn).default(this, result);\n    };\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { Pane } from 'tweakpane';\n\nenum Algorithm {\n  BinaryTree = \"binaryTree\",\n  SideWinder = \"sideWinder\"\n}\n\nconst PARAMS = {\n  algorithm: Algorithm.BinaryTree,\n  gridWidth: 80,\n  gridHeight: 50,\n  cellSize: 10,\n};\n\nconst pane = new Pane();\npane.addInput(\n  PARAMS, 'algorithm',\n  { options: Algorithm }\n);\npane.addInput(\n  PARAMS, 'gridWidth',\n  { min: 10, max: 200, step: 10 }\n).on('change', resizeCanvas);\npane.addInput(\n  PARAMS, 'gridHeight',\n  { min: 10, max: 200, step: 10 }\n).on('change', resizeCanvas);\npane.addInput(\n  PARAMS, 'cellSize',\n  { min: 5, max: 25, step: 1 }\n).on('change', resizeCanvas);\n\nconst canvas = document.getElementById('canvas') as HTMLCanvasElement;\nconst ctx = canvas.getContext('2d');\n\nfunction resizeCanvas() {\n  canvas.width = PARAMS.cellSize * PARAMS.gridWidth;\n  canvas.height = PARAMS.cellSize * PARAMS.gridHeight;\n  ctx.beginPath();\n  ctx.arc(95, 50, 40, 0, 2 * Math.PI);\n  ctx.stroke();\n}\n\nresizeCanvas();"],"names":["Object","defineProperty","module","exports","value","default","self","ReferenceError","$c1b1a34fae3d3c27$var$setPrototypeOf","o1","p1","setPrototypeOf","o","p","__proto__","object","property","prototype","hasOwnProperty","call","$1b88cb4cd4b28de3$var$_getPrototypeOf","obj","parcelRequire","__esModule","$b9926a5835d271e3$var$getPrototypeOf","getPrototypeOf","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","toString","slice","constructor","name","test","len","length","i","arr2","$f215c72f040a88cf$var$_arrayLikeToArray","Reflect","construct","sham","Proxy","Boolean","valueOf","e","$e17dad4ea3dafe1a$var$_typeOf","$e17dad4ea3dafe1a$var$_assertThisInitialized","$e17dad4ea3dafe1a$var$_interopRequireDefault","$ds8z5","$665014edacbfe17b$exports","instance","Constructor","$bd045042b29ce6c9$exports","Parent","args","Class","$bd045042b29ce6c9$var$construct","apply","arguments","$bd045042b29ce6c9$var$_setPrototypeOf","$bd045042b29ce6c9$var$isNativeReflectConstruct","Date","Parent1","args1","Class1","a","push","Function","bind","$74e7f8130373505f$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","$cec85eba0a352189$exports","$e08672c9889dd930$exports","receiver","$e08672c9889dd930$var$get","$e08672c9889dd930$var$_superPropBase","$e08672c9889dd930$var$_interopRequireDefault","target1","property1","receiver1","get","base","desc","getOwnPropertyDescriptor","$ae7f60fd48750bb9$exports","subClass","superClass","create","$ae7f60fd48750bb9$var$_setPrototypeOf","$ae7f60fd48750bb9$var$_interopRequireDefault","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$2059300b4b5a348b$exports","Derived","hasNativeReflectConstruct","$2059300b4b5a348b$var$_isNativeReflectConstruct","result","Super","$2059300b4b5a348b$var$_getPrototypeOf","NewTarget","this","$2059300b4b5a348b$var$_possibleConstructorReturn","$253ce2a319769a4a$var$Algorithm","Algorithm1","$2059300b4b5a348b$var$_interopRequireDefault","Semver1","Semver","text","ref","$parcel$interopDefault","split","core","prerelease","coreComps","major","parseInt","minor","patch","join","BladeApi1","BladeApi","controller","controller_","viewProps","disabled","set","hidden","TpEvent1","TpEvent","TpChangeEvent1","TpChangeEvent","presetKey","last","_this","TpUpdateEvent1","TpUpdateEvent","TpFoldEvent1","TpFoldEvent","expanded","forceCast","v","isEmpty","deepEqualsArray","a1","a2","CREATE_MESSAGE_MAP","alreadydisposed","invalidparams","context","concat","nomatchingcontroller","nomatchingview","JSON","stringify","params","notbindable","propertynotfound","shouldneverhappen","TpError1","TpError","config","_a","message","type","stack","Error","BindingTarget1","BindingTarget","opt_id","obj_","key_","presetKey_","valueObj","read","isBindable","notBindable","propertyNotFound","ButtonApi1","ButtonApi","label","valueController","title","eventName","handler","bh","emitter","on","Emitter1","Emitter","observers_","observers","filter","observer","event","forEach","PREFIX","ClassName","viewName","opt_elementName","opt_modifier","compose","h1","h2","input","extractValue","ev","rawValue","bindValue","applyValue","bindValueMap","valueMap","applyClass","elem","className","active","classList","add","remove","valueToClassName","bindValueToTextContent","textContent","className$q","ButtonView1","ButtonView","doc","element","createElement","bindClassModifiers","buttonElem","bindDisabled","appendChild","buttonElement","titleElem","ButtonController1","ButtonController","onClick_","view","addEventListener","emit","sender","BoundValue1","BoundValue","initialValue","constraint_","constraint","equals_","equals","v1","v2","rawValue_","setRawValue","forceEmit","options","opts","constrainedValue","constrain","PrimitiveValue1","PrimitiveValue","value_","createValue","ValueMap1","ValueMap","valMap_","_this1","key1","_loop","keys","reduce","assign","createCore","parseObject","keyToParserMap","tmp","undefined","parser","succeeded","parseArray","parseItem","item","isObject","createParamsParserBuilder","parse","optional","createParamsParserBuilders","custom","boolean","number","string","function","constant","raw","array","itemParser","ParamsParsers","required","parseParams","disposeElement","parentElement","removeChild","getAllBladePositions","className$p","POS_TO_CLASS_NAME_MAP","veryfirst","first","verylast","BladeController1","BladeController","parent_","blade","pos","handleDispose","SVG_NS","forceReflow","offsetHeight","disableTransitionTemporarily","callback","t","style","transition","supportsTouch","ontouchstart","getGlobalObject","getWindowDocument","document","getCanvasContext","canvasElement","win","ownerDocument","defaultView","getContext","ICON_ID_TO_INNER_HTML_MAP","check","dropdown","p2dpad","createSvgIconElement","iconId","createElementNS","innerHTML","insertElementAt","index","insertBefore","children","removeElement","removeChildElements","removeChildNodes","childNodes","findNextTarget","relatedTarget","explicitOriginalTarget","className$o","createLabelNode","frag","createDocumentFragment","map","line","createTextNode","lineNode","LabelView1","LabelView","labelElem","labelElement","valueElem","valueElement","LabelController1","LabelController","ButtonBladePlugin","id","accept","fromObject","api","ValueBladeController1","ValueBladeController","createBlade","positions","Foldable1","ValueMap11","Foldable","styleExpanded","exHeight","expandedClassName","onExpand","coreObj","completed","expandedHeight","shouldFixHeight","temporaryExpanded","computeExpandedFolderHeight","folder","containerElement","height","clientHeight","applyHeight","foldable","styleHeight","bindFoldable","propertyName","cleanUpTransition","RackLikeApi1","RackLikeApi","rackApi","rackApi_","addButtonAsBlade","addBlade","addFolderAsBlade","addSeparatorAsBlade","opt_params","addTabAsBlade","NestedOrderedSet1","NestedOrderedSet","extract","items_","cache_","Set","onSubListAdd_","onSubListRemove_","extract_","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","allItems","next","done","err","return","has","item1","opt_index","includes","shouldNeverHappen","splice","subList","root","indexOf","delete","off","InputBindingApi1","InputBindingApi","onBindingChange_","emitter_","binding","InputBindingController1","InputBindingController","MonitorBindingApi1","MonitorBindingApi","onBindingUpdate_","MonitorBindingController1","MonitorBindingController","ticker","dispose","findSubBladeApiSet","RackApi1","getApiByController","apiSet","api1","find","createBindingTarget","RackApi","pool","onRackAdd_","onRackRemove_","onRackInputChange_","onRackMonitorUpdate_","apiSet_","pool_","rack","bc","setUpApi_","createInput","createMonitor","gapi","createBladeApi","bladeController","isRoot","api3","FolderApi1","FolderApi","rackController","addInput","addMonitor","addFolder","addButton","addSeparator","addTab","RackLikeController1","RackLikeController","PlainView1","PlainView","findInputBindingController","bcs","b","findMonitorBindingController","findValueBladeController","findSubRack","RackController1","findSubBladeControllerSet","BladeRack1","BladeRack","onBladePositionsChange_","onSetAdd_","onSetRemove_","onChildDispose_","onChildPositionsChange_","onChildInputChange_","onChildMonitorUpdate_","onChildValueChange_","onChildViewPropsChange_","onDescendantLayout_","onDescendantInputChange_","onDescendantMonitorUpdate_","blade_","bcSet_","items","parent","controllerClass","updatePositions_","visibleItems","firstVisibleItem","lastVisibleItem","ps","_ev","_","RackController","bladeContainerClassName","FolderView1","FolderView","className_","foldable_","bindExpandedClass","titleElement","markElem","containerElem","FolderController1","FolderController","rc","onTitleClick_","FolderBladePlugin","LabeledValueController1","LabeledValueController","SeparatorApi1","SeparatorApi","className$n","SeparatorView1","SeparatorView","hrElem","SeparatorController1","SeparatorController","SeparatorBladePlugin","className$m","valueToModifier","modifier","ViewProps1","ValueMap2","ViewProps","tabIndex","disposed","opt_initialValue","_b","className$l","TabItemView1","TabItemView","selected","TabItemController1","TabItemController","TabPageController1","TabPageController","onItemClick_","ic_","itemProps","cc_","itemController","contentController","TabPageApi1","TabPageApi","contentRackApi","TabApi1","TabApi","onPageAdd_","onPageRemove_","pageApiMap_","Map","pageSet","pc","setUpPageApi_","api4","className$k","TabView1","TabView","empty","itemsElem","itemsElement","contentsElem","contentsElement","TabController1","TabController","cr","onPageSelectedChange_","pageSet_","empty_","applyPages_","keepSelection_","firstSelIndex","findIndex","TabBladePlugin","pages","c","createBladeController","plugin","ac","ManualTicker1","ManualTicker","IntervalTicker1","IntervalTicker","interval","disabled_","timerId_","onTick_","doc_","interval_","setTimer_","inactive","clearTimer_","clearInterval","setInterval","CompositeConstraint1","CompositeConstraint","constraints","findConstraint","constraintClass","tmpResult","sc","ListConstraint1","ListConstraint","RangeConstraint1","RangeConstraint","maxValue","max","minValue","min","Math","StepConstraint1","StepConstraint","step","round","className$j","ListView1","ListView","onValueChange_","props_","selectElem","optionElem","dataset","String","selectElement","update_","ListController1","ListController","onSelectChange_","optElem","currentTarget","selectedOptions","itemIndex","Number","className$i","PopupView1","PopupView","shows","PopupController1","PopupController","className$h","TextView1","TextView","onChange_","inputElem","inputElement","refresh","formatter","TextController1","TextController","onInputChange_","parser_","parsedValue","boolToString","boolFromUnknown","BooleanFormatter","NumberLiteralNode1","NumberLiteralNode","BINARY_OPERATION_MAP","pow","BinaryOperationNode1","BinaryOperationNode","operator","left","right","op","evaluate","UNARY_OPERATION_MAP","UnaryOperationNode1","UnaryOperationNode","expr","expression","combineReader","parsers","cursor","readWhitespace","m","substr","match","readNonZeroDigit","ch","readDecimalDigits","readSignedInteger","ds","sign","sds","readExponentPart","toLowerCase","si","readDecimalIntegerLiteral","nzd","readDecimalLiteral1","dil","dot","dds","readDecimalLiteral2","readDecimalLiteral3","readDecimalLiteral","parseBinaryDigits","readBinaryIntegerLiteral","prefix","bds","readOctalDigits","readOctalIntegerLiteral","ods","readHexDigits","readHexIntegerLiteral","hds","readNonDecimalIntegerLiteral","readNumericLiteral","parseLiteral","num","evaluable","parseParenthesizedExpression","parseExpression","cl","parsePrimaryExpression","parseUnaryExpression","readBinaryOperator","ops","op1","startsWith","createBinaryOperationExpressionParser","exprParser","firstExpr","nextExpr","parseBinaryOperationExpression","parseEcmaNumberExpression","parseNumber","r","numberFromUnknown","pv","numberToString","createNumberFormatter","digits","toFixed","innerFormatter","formatPercentage","stringFromUnknown","formatString","fillBuffer","buffer","bufferSize","initializeBuffer","createTrimmedBuffer","createPushedBuffer","newValue","newBuffer","connectValues","param","primary","secondary","forward","backward","changing","preventFeedback","getStepForKey","baseStep","altKey","shiftKey","upKey","downKey","getVerticalStepKeys","getHorizontalStepKeys","isVerticalArrowKey","isArrowKey","computeOffset$1","rect","getBoundingClientRect","x","pageX","scrollX","y","pageY","scrollY","top","PointerHandler1","PointerHandler","lastTouch_","onDocumentMouseMove_","onDocumentMouseUp_","onMouseDown_","onTouchEnd_","onTouchMove_","onTouchStart_","elem_","passive","offset","bounds","width","point","preventDefault","focus","data","computePosition_","removeEventListener","touch","targetTouches","clientX","clientY","mapRange","start1","end1","start2","end2","getDecimalDigits","replace","constrainRange","loopRange","className$g","NumberTextView1","NumberTextView","arrayPosition","onDraggingChange_","dragging_","dragging","knobElem","knobElement","guideElem","bodyElem","guideBodyElem_","headElem","guideHeadElem_","tooltipElem","tooltipElem_","aox","adx","setAttributeNS","NumberTextController1","NumberTextController","originRawValue_","onInputKeyDown_","onInputKeyUp_","onPointerDown_","onPointerMove_","onPointerUp_","baseStep_","ph","dx","computeDraggingValue_","className$f","SliderView1","SliderView","trackElem","bindTabIndex","trackElement","SliderController1","SliderController","onKeyDown_","onKeyUp_","onPointerDownOrMove_","ptHandler_","d","handlePointerEvent_","className$e","SliderTextView1","SliderTextView","sliderElem","sliderView_","sliderView","textElem","textView_","textView","SliderTextController1","SliderTextController","sliderC_","sliderProps","textC_","textProps","writePrimitive","write","parseListOptions","parsePickerLayout","parsePointDimensionParams","normalizeListOptions","createListConstraint","findListItems","findStep","getSuitableDecimalDigits","getBaseStep","getSuitableDraggingScale","abs","floor","log10","className$d","CheckboxView1","CheckboxView","wrapperElem","checked","CheckboxController1","CheckboxController","createConstraint$5","lc","BooleanInputPlugin","reader","_args","writer","className$c","ColorView1","ColorView","swatchElem","swatchElement","textElement","pickerLayout","pickerElem","pickerElement","rgbToHsl","g","rp","gp","bp","cmax","cmin","h","s","l","hslToRgb","hp","sp","lp","ref1","ref2","ref3","ref4","ref5","rgbToHsv","hsvToRgb","vp","ref6","ref7","ref8","ref9","ref10","hslToHsv","sd","hsvToHsl","removeAlphaComponent","comps","appendAlphaComponent","alpha","MODE_CONVERTER_MAP","hsl","hsv","rgb","convertColorMode","components","fromMode","toMode","_fromMode","CONSTRAINT_MAP","isRgbColorComponent","Color1","Color","mode","mode_","comps_","opt_mode","rgbComps","getComponents","color","toRgbaObject","isRgbColorObject","comps1","comps2","className$b","ColorPickerView1","ColorPickerView","alphaViews_","hsvElem","svElem","svPaletteView_","svPaletteView","hElem","hPaletteView_","hPaletteView","rgbElem","alphaViews","palette","aElem","apElem","atElem","elems","modeSelectElement","textViews","parseColorInputParams","picker","getBaseStepForColor","forAlpha","parseCssNumberOrPercentage","parseFloat","ANGLE_TO_DEG_MAP","deg","angle","grad","rad","PI","turn","parseCssNumberOrAngle","unit","NOTATION_TO_PARSER_MAP","isNaN","mRgb","mRrggbb","getColorNotation","notation","subparser","CompositeColorParser","hasAlphaComponent","colorFromString","cv","black","zerofill","comp","hex","colorToHexRgbString","hexes","colorToHexRgbaString","rgbaComps","colorToFunctionalRgbString","colorToFunctionalRgbaString","aFormatter","rgbFormatter","colorToFunctionalHslString","formatters","colorToFunctionalHslaString","NOTATION_TO_STRINGIFIER_MAP","getColorStringifier","className$a","APaletteView1","APaletteView","barElem","colorElem","colorElem_","markerElem","markerElem_","previewElem","previewElem_","leftColor","rightColor","gradientComps","background","backgroundColor","APaletteController1","APaletteController","className$9","createModeSelectElement","ColorTextView1","ColorTextView","modeElem","modeElem_","modeMarkerElem","textsElem","textsElem_","textViews_","applyTextViews_","colorMode","compElem","FORMATTER","MODE_TO_CONSTRAINT_MAP","createComponentController","draggingScale","ColorTextController1","ColorTextController","onModeSelectChange_","ccs_","createComponentControllers_","cc","ccs","cs","_this2","pickedMode","className$8","HPaletteView1","HPaletteView","HPaletteController1","HPaletteController","hue","className$7","CANVAS_RESOL","SvPaletteView1","SvPaletteView","canvasElem","ctx","hsvComps","imgData","getImageData","iy","ix","putImageData","SvPaletteController1","SvPaletteController","saturation","dv","ColorPickerController1","ColorPickerController","hPaletteC_","svPaletteC_","alphaIcs_","supportsAlpha","className$6","ColorSwatchView1","ColorSwatchView","swatchElem_","ColorSwatchController1","ColorSwatchController","ColorController1","ColorController","onButtonBlur_","onButtonClick_","onPopupChildBlur_","onPopupChildKeydown_","swatchC_","popC_","pickerC","allFocusableElements","pickerC_","nextTarget","contains","colorFromObject","isColorObject","colorToRgbNumber","colorToRgbaNumber","numberToRgbColor","numberToRgbaColor","colorFromRgbNumber","colorFromRgbaNumber","createColorStringWriter","createColorNumberWriter","colorToNumber","writeRgbaColorObject","writeProperty","writeRgbColorObject","createColorObjectWriter","shouldSupportAlpha$1","inputParams","createFormatter$1","NumberColorInputPlugin","shouldSupportAlpha","isRgbaColorObject","ObjectColorInputPlugin","StringColorInputPlugin","stringifier","PointNdConstraint1","PointNdConstraint","asm_","assembly","toComponents","fromComponents","className$5","PointNdTextView1","PointNdTextView","axisElem","createAxisController","axes","PointNdTextController1","PointNdTextController","acs_","createStepConstraint","createRangeConstraint","createConstraint$4","findRange","estimateSuitableRange","NumberInputPlugin","format","Point2d1","Point2d","Point2dAssembly","className$4","Point2dView1","Point2dView","className$3","Point2dPickerView1","Point2dPickerView","onFoldableChange_","invertsY_","invertsY","maxValue_","layout","padElem","padElement","svgElem","svgElem_","xAxisElem","yAxisElem","lineElem","lineElem_","px","py","ipy","computeOffset","baseSteps","Point2dPickerController1","Point2dPickerController","onPadKeyDown_","onPadKeyUp_","baseSteps_","dy","Point2dController1","Point2dController","onPadButtonBlur_","onPadButtonClick_","padC","point2dFromUnknown","writePoint2d","createDimensionConstraint$2","createConstraint$3","getSuitableMaxDimensionValue","getSuitableMaxValue","xc","yc","xr","yr","createAxis$2","shouldInvertY","yParams","inverted","Point2dInputPlugin","Point3d1","Point3d","z","Point3dAssembly","point3dFromUnknown","writePoint3d","createDimensionConstraint$1","createConstraint$2","createAxis$1","Point3dInputPlugin","Point4d1","Point4d","w","Point4dAssembly","point4dFromUnknown","writePoint4d","createDimensionConstraint","createConstraint$1","createAxis","Point4dInputPlugin","createConstraint","StringInputPlugin","Constants","monitor","defaultInterval","defaultLineCount","className$2","MultiLogView1","MultiLogView","onValueUpdate_","formatter_","textareaElem","lineCount","readOnly","textareaElem_","shouldScroll","scrollTop","scrollHeight","lines","MultiLogController1","MultiLogController","className$1","SingleLogView1","SingleLogView","values","lastValue","SingleLogController1","SingleLogController","BooleanMonitorPlugin","GraphCursor1","GraphCursor","index_","className1","GraphLogView1","GraphLogView","onCursorChange_","minValue_","cursor_","maxIndex","points","tx","ty","GraphLogController1","GraphLogController","onGraphMouseMove_","onGraphMouseLeave_","onGraphPointerDown_","onGraphPointerMove_","onGraphPointerUp_","offsetX","createFormatter","createTextMonitor","createGraphMonitor","_c","shouldShowGraph","NumberMonitorPlugin","defaultBufferSize","StringMonitorPlugin","multiline","InputBinding1","InputBinding","targetValue","write_","createInputBindingController","valueArgs","MonitorBinding1","MonitorBinding","reader_","createTicker","createMonitorBindingController","P","bindingArgs","PluginPool1","PluginPool","pluginsMap_","blades","inputs","monitors","unshift","createDefaultPluginPool","register","ListApi1","ListApi","SliderApi1","SliderApi","sliderController","TextApi1","TextApi","ListBladePlugin","ic","exportPresetJson","targets","importPresetJson","preset","RootApi1","RootApi","ibc","mbc","RootController1","RootController","SliderBladePlugin","vc","TextBladePlugin","createDefaultWrapperElement","body","embedStyle","css","querySelector","styleElem","tpStyle","head","Pane1","Pane","opt_config","rootController","containerElem_","container","usesDefaultWrapper_","setUpDefaultPlugins_","alreadyDisposed","parentElem","$fVNic","bundle","plugins","embedPluginStyle_","getAll","registerPlugin","VERSION","factory","$ad914f4ec673f32c$exports","$253ce2a319769a4a$var$PARAMS","algorithm","BinaryTree","gridWidth","gridHeight","cellSize","$253ce2a319769a4a$var$pane","$253ce2a319769a4a$var$resizeCanvas","$253ce2a319769a4a$var$canvas","getElementById","$253ce2a319769a4a$var$ctx","beginPath","arc","stroke"],"version":3,"file":"index.abe19ad2.js.map"}